window.__require=function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({0:[function(t,e){"use strict";var i;cc._RF.push(e,"a90a3RTcJtGc5ko6s82cq+0","0"),cc.Class(((i={extends:cc.Component,properties:{m_labHp:cc.Label,m_Back:[cc.Node],m_Body:cc.Node},ctor:function(){this.m_bHurt=!1,this.m_bDie=!1,this.m_bSleep=!1,this.m_Speed=cc.v2(0,0),this.m_LastSpeedPro=0,this.m_DieGold=0},onLoad:function(){this.m_Back[0].runAction(cc.repeatForever(cc.rotateBy(8,360))),this.m_Back[1].runAction(cc.repeatForever(cc.rotateBy(8,-360))),this.setHp(100),this.init()},init:function(){this.m_Body.active=!0,this.node.setScale(cc.v2(1,1)),this.m_Body.setScale(cc.v2(1,1)),this.m_bDie=!1,this.randomSpeed(),this.setMoveStart()},start:function(){},hit:function(){if(!this.m_bDie){for(var t in this.m_HP-=1,this.setHp(this.m_HP),gVirusMake.hit(-1),this.colorObjcet)if(this.colorObjcet.hasOwnProperty(t)&&this.m_HP<=parseInt(t)){this.runColorAction(.2,this.node,this.colorObjcet[t]);break}if(this.m_HP<=0){this.m_bDie=!0;var e=cc.sequence(cc.scaleTo(.05,0,0),cc.callFunc(function(){gVirusMake.createDieAnim(this.node)}.bind(this)),cc.delayTime(1),cc.callFunc(function(){gVirusMake.onVirusKilled(this.node)}.bind(this)));this.m_Body.runAction(e)}else this.hurt()}},stopAllActions:function(t){null==t&&(t=this.node);for(var e=0;e<t.children.length;e++)t.children[e].stopAllActions(),this.stopAllActions(t.children[e]);this.node.stopAllActions()},hurt:function(){if(!this.m_bHurt){this.m_bHurt=!0;var t=cc.sequence(cc.scaleBy(.08,1.1,1.1),cc.scaleBy(.1,.9,.9),cc.callFunc(function(){this.m_bHurt=!1}.bind(this)));this.node.runAction(t)}},setMoveStart:function(){},onCollisionEnter:function(t){100!=t.tag&&99!=t.tag&&98!=t.tag||this.hit()},setColor:function(t,e){this.colorObjcet=e,this.m_CurColor=t,this.node.color=t,setVirusColor(this.node,t)},setScale:function(t){this.node.setScale(cc.v2(t,t))},setSpeed:function(t){this.m_Speed=t},setDieGold:function(t){this.m_DieGold=t},runColorAction:function(t,e,i){this.m_CurColor=i;for(var n=0;n<e.children.length;n++){if(null!=e.children[n].getComponent("color")){null!=e.children[n].colorAction&&e.children[n].stopAction(e.children[n].colorAction);var o=cc.tintTo(t,i.r,i.g,i.b);e.children[n].colorAction=o,e.children[n].runAction(o)}this.runColorAction(t,e.children[n],i)}},setHp:function(t){this.m_HP=t,this.m_labHp.string=t,this.m_BaseHp=t}}).setMoveStart=function(){this.node.y=1780,this.node.x=random(160,740)},i.randomSpeed=function(){this.m_bSleep||(this.m_Speed.x=random(80,150),this.m_Speed.y=random(80,150),random(0,100)>50&&(this.m_Speed.x*=-1))},i.update=function(t){this.m_bDie||this.m_bSleep||(this.node.y<-150&&(this.setMoveStart(),this.randomSpeed()),this.node.y-=this.m_Speed.y*t,(this.m_Speed.x>0&&this.node.x>840||this.m_Speed.x<0&&this.node.x<60)&&(this.m_Speed.x*=-1),this.node.x+=this.m_Speed.x*t)},i.sleep=function(t){this.m_bSleep=t},i)),cc._RF.pop()},{}],Advertising:[function(t,e){"use strict";cc._RF.push(e,"2cc9ePgwmlGyIKRv/otIu3x","Advertising"),cc.Class({extends:cc.Component,properties:{m_TVTime:cc.Label,m_Close:cc.Node},ctor:function(){this.m_nTVTimeData=20},onLoad:function(){window.gAdvertising=this,this.node.active=!1},start:function(){},onShow:function(t){this.m_nTVTimeData=1,this.m_TVTime.active=!0,this.m_TVTime.string=""+this.m_nTVTimeData,this.node.x=0,this.node.active=!0,this.m_Close.active=!1,this.m_CallBack=t,t=function(){this.m_nTVTimeData--,this.m_TVTime.string=""+this.m_nTVTimeData,0==this.m_nTVTimeData&&(this.m_Close.active=!0,this.m_TVTime.active=!1,this.unschedule(t))},this.schedule(t,1,20)},onClose:function(){this.m_CallBack&&this.m_CallBack(),this.node.active=!1}}),cc._RF.pop()},{}],AirAutoPlay:[function(t,e){"use strict";cc._RF.push(e,"34a32HfGT9Ln6soVDuJ+7Bk","AirAutoPlay"),cc.Class({extends:cc.Component,properties:{m_Light:[cc.Node],m_TailLight:cc.Node,m_Gun:cc.Node,m_AirPlaneHead:cc.Node,m_WuDi:cc.Node,m_Body:cc.Sprite,m_texture:cc.SpriteAtlas,m_subWeapon:[cc.Node]},onLoad:function(){window.gAirPlane=this;for(var t=0;t<this.m_Light.length;t++){var e=cc.sequence(cc.delayTime(.2*t),cc.scaleTo(.4,1,1),cc.callFunc(function(t){t.setScale(cc.v2(0,0))}.bind(this)),cc.delayTime(.5));this.m_Light[t].runAction(cc.repeatForever(e))}for(this.m_Gun=this.m_Gun.getComponent("Gun"),this.m_WuDi.active=!1,t=0;t<this.m_subWeapon.length;t++)this.m_subWeapon[t]=this.m_subWeapon[t].getComponent("subWeapon"+t),this.m_subWeapon[t].node.active=!1;this.m_subWeapon[0].node.active=!0},start:function(){},Reset:function(){this.setLightColor(new cc.Color(255,255,255));for(var t=0;t<this.m_subWeapon.length;t++)this.m_subWeapon[t].Reset&&this.m_subWeapon[t].Reset()},Play:function(){this.node.active=!0,this.node.setPosition(cc.v2(0,-925)),this.node.setScale(cc.v2(.8,.8)),this.m_TailLight.setScale(cc.v2(1,1));var t=cc.moveTo(1,cc.v2(0,-385)),e=cc.scaleTo(.5,1,1),i=cc.sequence(t,e);this.node.runAction(i);var n=cc.sequence(cc.delayTime(1),cc.scaleTo(.5,.6,.6));this.m_TailLight.runAction(n)},MoveOut:function(){this.node.stopAllActions();var t=cc.scaleTo(.5,.6,.6);this.node.runAction(t),this.m_TailLight.runAction(cc.scaleTo(.5,1,1))},onCollisionEnter:function(t){if(!this.m_WuDi.active&&t.tag<100){var e=t.node.getComponent(""+t.node.id);if(null!=e&&e.m_bDie)return;gTouchCtl.setCanTouch(!1),gAirPlane.EndFire(),gVirusMake.sleepVirus(),gGameCtl.sleepBullet(0),this.dieBegin(),cc.director.getCollisionManager().enabled=!1}},dieBegin:function(){this.setLightColor(new cc.Color(255,100,100));var t=cc.sequence(cc.tintTo(.2,255,0,0),cc.tintTo(.2,255,255,255));this.m_AirPlaneHead.runAction(cc.repeat(t,3)),this.scheduleOnce(function(){this.setLightColor(new cc.Color(255,255,255)),gResurgenceView.onShowView(!0)}.bind(this),1.5)},setLightColor:function(t){for(var e=0;e<this.m_Light.length;e++)this.m_Light[e].color=t},MoveIn:function(){this.node.stopAllActions();var t=cc.scaleTo(.5,1,1);this.node.runAction(t),this.m_TailLight.runAction(cc.scaleTo(.5,.6,.6))},MoveOutScreen:function(){this.node.stopAllActions(),this.node.runAction(cc.moveTo(.5,cc.v2(this.node.x,980)))},BeginFire:function(){this.m_Gun.BeginFire(),this.playSubWeapon()},EndFire:function(){this.m_Gun.EndFire(),this.stopSubWeapon()},Resurgence:function(){this.m_WuDi.active=!0,this.m_WuDi.opacity=255;var t=cc.sequence(cc.delayTime(3),cc.fadeTo(.2,255),cc.fadeTo(.2,0),cc.fadeTo(.2,255),cc.fadeTo(.2,0),cc.fadeTo(.2,255),cc.fadeTo(.2,0),cc.fadeTo(.2,255),cc.fadeTo(.2,0),cc.callFunc(function(){this.m_WuDi.opacity=255,this.m_WuDi.active=!1}.bind(this)));this.m_WuDi.runAction(t)},DieEnd:function(){this.node.active=!1},MoveTo:function(t,e){this.node.stopAllActions(),this.node.runAction(cc.moveTo(t,e))},ChangeAirPlane:function(t){var e=this.m_texture.getSpriteFrame("Jishen_W"+t);null!=e&&(this.m_Body.spriteFrame=e);for(var i=0;i<this.m_subWeapon.length;i++)this.m_subWeapon[i].node.active=!1;null!=this.m_subWeapon[t]?this.m_subWeapon[t].node.active=!0:this.m_subWeapon[0].node.active=!0},stopSubWeapon:function(){for(var t=0;t<this.m_subWeapon.length;t++)this.m_subWeapon[t].setStop&&this.m_subWeapon[t].node.active&&this.m_subWeapon[t].setStop()},playSubWeapon:function(){for(var t=0;t<this.m_subWeapon.length;t++)this.m_subWeapon[t].setStop&&this.m_subWeapon[t].node.active&&this.m_subWeapon[t].setStart()}}),cc._RF.pop()},{}],AirPlane:[function(t,e){"use strict";cc._RF.push(e,"9c817ICcLlJzpe27VuHXH9D","AirPlane"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],BG:[function(t,e){"use strict";cc._RF.push(e,"37f51HIzh5MXbTF9rzWJ5lC","BG"),cc.Class({extends:cc.Component,properties:{},start:function(){},Reset:function(){},Play:function(){var t=cc.sequence(cc.delayTime(1),cc.scaleTo(.5,1.2,1.2));this.node.runAction(t)},MoveOut:function(){this.node.runAction(cc.scaleTo(.5,1,1))},MoveIn:function(){this.node.runAction(cc.scaleTo(.5,1.2,1.2))}}),cc._RF.pop()},{}],BottomItem:[function(t,e){"use strict";cc._RF.push(e,"e0f030P139CfbJZtzp0l5H3","BottomItem"),cc.Class({extends:cc.Component,properties:{m_Name:cc.Label,m_Value:cc.Label,m_Gold:cc.Label,m_Button:cc.Button,m_CoinSprite:cc.Node},ctor:function(){this.m_NameData=["\u5c04\u901f","\u706b\u529b","\u5f3a\u5ea6","\u706b\u529b","\u91d1\u5e01\u4ef7\u503c","\u65e5\u5e38\u6536\u76ca"],this.m_nValue=1,this.m_nLevel=1},onLoad:function(){},init:function(t){this.m_State=t,this.m_nLevel=this.GetLevel(),this.onUpdate()},GetLevel:function(){return 0==this.m_State?gDataCtl.GetWeaponSpeed():1==this.m_State?gDataCtl.GetWeaponFire():2==this.m_State?gDataCtl.GetSubWeaponSpeed():3==this.m_State?gDataCtl.GetSubWeaponFire():4==this.m_State?gDataCtl.GetGoldWeaponSpeed():5==this.m_State?gDataCtl.GetGoldWeaponFire():void 0},AddLevel:function(){return 0==this.m_State?gDataCtl.AddWeapoSpeed():1==this.m_State?gDataCtl.AddWeapoFire():2==this.m_State?gDataCtl.AddSubWeapoSpeed():3==this.m_State?gDataCtl.AddSubWeapoFire():4==this.m_State?gDataCtl.AddGoldWeapoSpeed():5==this.m_State?gDataCtl.AddGoldWeapoFire():void 0},GetGold:function(){return 0==this.m_State?gDataCtl.GetWeaponUpSpeedMoney():1==this.m_State?gDataCtl.GetWeaponUpFireMoney():1},GetValue:function(){return 0==this.m_State?gDataCtl.GetWeaponSpeedValue():1==this.m_State?gDataCtl.GetWeaponFireValue():1},GetMaxLevel:function(){return 0==this.m_State?gDataCtl.GetWeaponSpeedMax():1==this.m_State?gDataCtl.GetWeaponFireMax():1},onUpdate:function(){this.m_Name.string=this.m_NameData[this.m_State]+"["+this.m_nLevel+"]",this.m_Value.string=""+this.GetValue(),this.m_Gold.string=""+goldCrarryBit(this.GetGold());var t=this.GetLevel();if(this.m_Button.interactable=!0,this.m_Value.node.color=new cc.Color(255,255,255),this.m_CoinSprite.color=new cc.Color(255,255,255),this.m_Gold.node.color=new cc.Color(255,255,255),t!=this.GetMaxLevel()){var e=this.GetGold();gDataCtl.GetGold()<e&&(this.m_Button.interactable=!1,this.m_Value.node.color=new cc.Color(255,0,0),this.m_CoinSprite.color=new cc.Color(127,127,127),this.m_Gold.node.color=new cc.Color(127,127,127))}else this.m_Gold.string="MAX",this.m_Button.interactable=!1,this.m_Value.node.color=new cc.Color(255,0,0),this.m_CoinSprite.color=new cc.Color(127,127,127),this.m_Gold.node.color=new cc.Color(127,127,127)},onBtUp:function(){if(this.GetLevel()!=this.GetMaxLevel()){var t=gDataCtl.GetGold(),e=this.GetGold();t>=e&&(gDataCtl.SubGold(e),this.m_nLevel=this.AddLevel(),this.onUpdate(),gTop.updateData())}}}),cc._RF.pop()},{}],Bottom:[function(t,e){"use strict";cc._RF.push(e,"45953W/p+tEr5tTMPGq/uGf","Bottom"),cc.Class({extends:cc.Component,properties:{m_Toggle:[cc.Toggle],m_BottomItemPrefab:cc.Prefab,m_BottomItemParent:[cc.Node],m_SubWeaponContent:cc.Node,m_SubWeaponPrefab:cc.Prefab},onLoad:function(){window.gBottom=this,this.m_BottomItem=new Array;for(var t=0;t<this.m_BottomItemParent.length;t++){var e=cc.instantiate(this.m_BottomItemPrefab);this.m_BottomItemParent[t].addChild(e),(e=e.getComponent("BottomItem")).init(t),this.m_BottomItem[t]=e}for(this.m_subWeaponItem=new Array,t=0;t<6;t++)e=cc.instantiate(this.m_SubWeaponPrefab),this.m_SubWeaponContent.addChild(e),this.m_subWeaponItem=e.getComponent("subWeaponItem"),this.m_subWeaponItem.init(t+1),t>1&&this.m_subWeaponItem.setDisable()},start:function(){},Reset:function(){},Play:function(){},MoveOut:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-894)).easing(cc.easeBackOut()));for(var t=0;t<this.m_Toggle.length;t++)this.m_Toggle[t].isChecked=!1},MoveIn:function(){this.node.runAction(cc.moveTo(.5,cc.v2(0,-725)).easing(cc.easeBackIn()))},onClickUpLevel:function(t){t.isChecked?gAirPlane.MoveTo(.3,cc.v2(0,-36)):gAirPlane.MoveTo(.3,cc.v2(0,-385)),(t.node.name="Weapon")||(t.node.name="SubWeapon")||(t.node.name="Gold"),this.onUpdate()},onUpdate:function(){for(var t=0;t<this.m_BottomItem.length;t++)this.m_BottomItem[t].onUpdate()}}),cc._RF.pop()},{}],Brief:[function(t,e){"use strict";cc._RF.push(e,"475f2t7wutGtqkzqf5wthNP","Brief"),cc.Class({extends:cc.Component,properties:{m_BG:cc.Node,m_Gold:cc.Label,m_GuangGaoGold:cc.Label,m_BtAdvertising:cc.Node},onLoad:function(){window.gBrief=this,this.node.active=!1},start:function(){},onShowView:function(t){if(!this.node.active){var e=function(){gAirPlane.EndFire(),gGameCtl.onBulletKilledAll(),gVirusHpView.Brief(),gVirusMake.unsleepVirus(),gGameCtl.playAirPlaneDieAnim(this.node.getPosition());var t=goldCrarryBit(gVirusHpView.GetGold()),e=goldCrarryBit(10*gVirusHpView.GetGold());this.m_Gold.string=""+t,this.m_GuangGaoGold.string=""+e,this.node.active=!0,this.node.x=0,this.m_BG.runAction(cc.fadeTo(1.5,130)),this.node.runAction(cc.fadeIn(1.5)),this.m_BtAdvertising.active=gVirusHpView.GetGold()>0}.bind(this);0==t?gLevelDesignCtl.Brief(function(){gLevelDesignCtl.NextLevel(function(){e()})}.bind(this)):e()}},onHideView:function(){this.node.active=!1},onClickGuangGao:function(){gAirPlane.MoveOutScreen(),this.onHideView(),gAdvertising.onShow(function(){var t=gVirusHpView.GetGold();this.BriefData(10*t)}.bind(this))},onClickGetGold:function(){var t=gVirusHpView.GetGold();this.onHideView(),this.BriefData(t)},BriefData:function(t){gAirPlane.MoveOutScreen(),gVirusHpView.node.opacity=0,gVirusMake.onVirusKilledAll(),gGameCtl.Action(ACTION_RESET),gGameCtl.Action(ACTION_MOVE_IN),gGameCtl.Action(ACTION_PLAY),gGameCtl.GameReset(),0!=t&&gGameCtl.createGoldAnim(cc.v2(-178,-87),cc.v2(-383,733),gGameCtl.m_Top.getGoldNode(),150,8,t,function(t){gVirusHpView.Reset(),gDataCtl.AddGold(t),gGameCtl.m_Top.updateData()}.bind(this))}}),cc._RF.pop()},{}],Bullet:[function(t,e){"use strict";cc._RF.push(e,"5ad10GR69RDraXT765Xn97n","Bullet"),cc.Class({extends:cc.Component,properties:{},ctor:function(){this.m_updateMove=!1,this.m_Speed=1e3},start:function(){},init:function(){this.m_updateMove=!1},onCollisionEnter:function(t){0==t.tag&&(t.getComponent(""+t.tag).m_bDie||gGameCtl.onBulletKilled(this.node))},setSecondPos:function(t){var e=cc.sequence(cc.moveTo(.1,t),cc.callFunc(function(){this.m_updateMove=!0}.bind(this)));this.node.runAction(e)},setSpeed:function(){},update:function(t){if(this.m_updateMove){var e=this.node.y;e+=this.m_Speed*t,this.node.y=e,0==this.m_Speed&&cc.log("\u901f\u5ea6:"),e>920&&(this.m_updateMove=!1,gGameCtl.onBulletKilled(this.node))}}}),cc._RF.pop()},{}],ClickGet:[function(t,e){"use strict";cc._RF.push(e,"b2464u3O3tJGK9cfOqVDjlN","ClickGet"),cc.Class({extends:cc.Component,properties:{m_labGold:cc.Label,m_progress:cc.ProgressBar},onLoad:function(){this.updateData()},Reset:function(){},Play:function(){},MoveOut:function(){this.node.runAction(cc.moveTo(.5,cc.v2(552,0)).easing(cc.easeBackOut()))},MoveIn:function(){this.node.runAction(cc.moveTo(.5,cc.v2(383,0)).easing(cc.easeBackIn()))},onClickGet:function(){cc.log("\u83b7\u53d6\u91d1\u5e01"),gDataCtl.GetTaskGold()<=0||(gGameCtl.createGoldAnim(this.node.getPosition(),cc.v2(-383,733),gGameCtl.m_Top.getGoldNode(),300,15,gDataCtl.GetTaskGold(),function(t){gDataCtl.AddGold(t),gGameCtl.m_Top.updateData()}.bind(this)),gDataCtl.ClearTaskGold(),this.updateData())},updateData:function(){this.m_labGold.string=goldCrarryBit(gDataCtl.GetTaskGold())},update:function(t){var e=1/gDataCtl.GetGoldAddTime();if(e*=t,this.m_progress.progress+=e,this.m_progress.progress>=1){this.m_progress.progress=0;var i=gDataCtl.GetAwardGold();gDataCtl.AddTaskGold(i),gDataCtl.save(),this.updateData()}}}),cc._RF.pop()},{}],GameControl:[function(t,e){"use strict";cc._RF.push(e,"4dc3fvqUDhMMayEzyiauxLo","GameControl"),cc.Class({extends:cc.Component,properties:{m_Logo:cc.Node,m_LevelDesign:cc.Node,m_Top:cc.Node,m_Setting:cc.Node,m_ClickGet:cc.Node,m_Bottom:cc.Node,m_Tip:cc.Node,m_BG:cc.Node,m_AirPlane:cc.Node,m_MonsterHP:cc.Node,m_GoldPrefab:cc.Prefab,m_TouchControl:cc.Node,m_BulletPrefab:cc.Prefab,m_VirusMake:cc.Node,m_BulletParent:cc.Node,m_BlackBG:cc.Node,m_Resurgence:cc.Node,m_AirPlaneDieAnim:cc.Animation,m_SubWeaponParent:cc.Node},ctor:function(){this.m_ClassArray=new Array,this.goldPool=new cc.NodePool,this.bulletPool=new cc.NodePool},onLoad:function(){gDataCtl.clear(),cc.director.getCollisionManager().enabled=!0,gGameCtl=this,this.m_Logo=this.m_Logo.getComponent("Logo"),this.m_ClassArray.push(this.m_Logo),this.m_LevelDesign=this.m_LevelDesign.getComponent("LevelDesign"),this.m_LevelDesign.Reset(),this.m_ClassArray.push(this.m_LevelDesign),this.m_Top=this.m_Top.getComponent("Top"),this.m_ClassArray.push(this.m_Top),this.m_Setting=this.m_Setting.getComponent("Setting"),this.m_ClassArray.push(this.m_Setting),this.m_ClickGet=this.m_ClickGet.getComponent("ClickGet"),this.m_ClassArray.push(this.m_ClickGet),this.m_Bottom=this.m_Bottom.getComponent("Bottom"),this.m_ClassArray.push(this.m_Bottom),this.m_Tip=this.m_Tip.getComponent("Tip"),this.m_ClassArray.push(this.m_Tip),this.m_BG=this.m_BG.getComponent("BG"),this.m_ClassArray.push(this.m_BG),this.m_AirPlane=this.m_AirPlane.getComponent("AirAutoPlay"),this.m_ClassArray.push(this.m_AirPlane),this.m_MonsterHP=this.m_MonsterHP.getComponent("MonsterHp"),this.m_ClassArray.push(this.m_MonsterHP),this.m_VirusMake=this.m_VirusMake.getComponent("VirusMake"),this.m_ClassArray.push(this.m_VirusMake),this.m_Resurgence=this.m_Resurgence.getComponent("Resurgence"),gAirPlane=this.m_AirPlane;for(var t=0;t<this.m_ClassArray.length;t++){var e=this.m_ClassArray[t];null!=e.Play&&e.Play()}this.scheduleOnce(function(){this.m_TouchControl.active=!0}.bind(this),1.5),this.m_AirPlaneDieAnim.playOver=function(){this.m_AirPlaneDieAnim.node.active=!1}.bind(this)},createGoldAnim:function(t,e,i,n,o,c,s){for(var a=this.getPoint(n,t.x,t.y,o),l=new Array,r=0;r<a.length;r++){var u=this.createGold(this.node),h=cc.v2(a[r].x+random(0,50),a[r].y+random(0,50));u.setPosition(t),l.push({gold:u,randPos:h})}l.sort(function(t,i){return distance(t.randPos,e)-distance(i.randPos,e)});var m=!1,d=i;for(r=0;r<l.length;r++){var p=l[r].randPos,_=l[r].gold;l[r].gold.id=r;var g=cc.sequence(cc.moveTo(.5,p),cc.delayTime(.03*r),cc.moveTo(.5,e),cc.callFunc(function(t){if(!m){m=!0;var e=cc.sequence(cc.scaleTo(.1,2,2),cc.scaleTo(.1,1,1),cc.callFunc(function(){m=!1}));d.runAction(e)}t.id==l.length-1&&null!=s&&s(c),this.onGoldKilled(t)}.bind(this)));_.runAction(g)}},createGold:function(t){var e=null;return(e=this.goldPool.size()>0?this.goldPool.get():cc.instantiate(this.m_GoldPrefab)).parent=t,e},createBullet:function(t){if(1==t){var e=null;this.bulletPool.size()>0?e=this.bulletPool.get():(e=cc.instantiate(this.m_BulletPrefab)).CollType=COLLISION_BULLET,e.parent=this.m_BulletParent,(s=this.m_AirPlane.node.getPosition()).y+=116,e.setPosition(s),s.y+=100,(a=e.getComponent("Bullet")).init(),a.setSecondPos(s)}else for(var i=1,n=1,o=0;o<t;o++){var c=0;o%2?(c=30*i,c-=15,i++):(c=30*-n,c+=15,n++);var s,a,l=null;this.bulletPool.size()>0?l=this.bulletPool.get():(l=cc.instantiate(this.m_BulletPrefab)).CollType=COLLISION_BULLET,l.parent=this.m_BulletParent,(s=this.m_AirPlane.node.getPosition()).y+=116,l.setPosition(s),(a=l.getComponent("Bullet")).init(),a.setSecondPos(cc.v2(s.x+c,s.y+100))}},onBulletKilled:function(t){for(var e in this.bulletPool)if(e==t)return;t.runAction(cc.show()),t.parent=null,this.bulletPool.put(t)},onBulletKilledAll:function(){for(var t=this.m_BulletParent.children;0!=t.length;)null!=this.onBulletKilled&&this.onBulletKilled(t[0])},sleepBullet:function(t){for(var e=this.m_BulletParent.children,i=0;i<e.length;i++){var n=e[i].getComponent("Bullet");null!=n&&n.setSpeed(t)}},onGoldKilled:function(t){this.goldPool.put(t)},moveAirPlane:function(t){var e=this.m_AirPlane.node.getPosition();this.m_AirPlane.node.setPosition(cc.v2(e.x+t.x,e.y+t.y))},getPoint:function(t,e,i,n){for(var o=[],c=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var a=e+t*Math.sin(c*s),l=i+t*Math.cos(c*s);o.unshift({x:a,y:l})}return o},start:function(){},Action:function(t){t==ACTION_RESET?this.ActionReset():t==ACTION_PLAY?this.ActionPlay():t==ACTION_MOVE_OUT?this.ActionMoveOut():t==ACTION_MOVE_IN&&this.ActionMoveIn()},ActionReset:function(){for(var t=0;t<this.m_ClassArray.length;t++){var e=this.m_ClassArray[t];null!=e.Reset&&e.Reset()}},ActionPlay:function(){for(var t=0;t<this.m_ClassArray.length;t++){var e=this.m_ClassArray[t];null!=e.Play&&e.Play()}},ActionMoveOut:function(){for(var t=0;t<this.m_ClassArray.length;t++){var e=this.m_ClassArray[t];null!=e.MoveOut&&e.MoveOut()}},ActionMoveIn:function(){for(var t=0;t<this.m_ClassArray.length;t++){var e=this.m_ClassArray[t];null!=e.MoveIn&&e.MoveIn()}},Test1:function(t,e){"\u91cd\u7f6e"==e?(gDataCtl.clear(),this.m_Top.updateData(),this.m_ClickGet.updateData(),this.ActiveReset()):"\u64ad\u653e"==e?(this.ActivePlay(),this.m_LevelDesign.NextLevel()):"\u79fb\u51fa"==e?this.ActiveMoveOut():"\u79fb\u5165"==e&&this.ActiveMoveIn()},blackBGAnim:function(t){t?this.m_BlackBG.runAction(cc.fadeTo(.5,130)):this.m_BlackBG.runAction(cc.fadeTo(.5,0))},playAirPlaneDieAnim:function(t){this.m_AirPlaneDieAnim.node.active=!0,this.m_AirPlaneDieAnim.node.setPosition(t),this.m_AirPlaneDieAnim.play("explode")},GameReset:function(){cc.director.getCollisionManager().enabled=!0,gTouchCtl.Reset(),gBottom.onUpdate()}}),cc._RF.pop()},{}],GoldItem:[function(t,e){"use strict";cc._RF.push(e,"4fee1VMAgFNN4Zw7JMaoIxI","GoldItem"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Gun:[function(t,e){"use strict";cc._RF.push(e,"e5246FNRpdL2rg5bQaUMgBL","Gun"),cc.Class({extends:cc.Component,properties:{m_Light:cc.Node},ctor:function(){this.m_ButtleCount=10},onLoad:function(){var t=cc.sequence(cc.scaleTo(.1,0,0),cc.scaleTo(.1,1,1));this.m_Light.runAction(cc.repeatForever(t)),this.m_Light.active=!1,this.FireValue=0;for(var e=gDataCtl.GetWeaponSpeed(),i=gDataCtl.m_WeaponSpeed.length,n=0;n<e&&n<i;n++)this.FireValue+=gDataCtl.m_WeaponSpeed[n][0]},start:function(){},createCallBack:function(){var t=gDataCtl.GetWeaponFire()/10;t<=1?t=1:t>=30&&(t=30),gGameCtl.createBullet(parseInt(t))},BeginFire:function(){this.m_Light.active=!0,this.createCallBack();var t=gDataCtl.GetWeaponSpeedService();this.schedule(this.createCallBack,t)},EndFire:function(){this.m_Light.active=!1,this.unschedule(this.createCallBack)},SetBulletCount:function(t){this.m_ButtleCount=t},ClearAllBullet:function(){}}),cc._RF.pop()},{}],LevelDesign:[function(t,e){"use strict";cc._RF.push(e,"5f772TLJ+1Jm6rzEUYQ/5OH","LevelDesign"),cc.Class({extends:cc.Component,properties:{m_Item:[cc.Node]},ctor:function(){this.m_BasePos=new Array},onLoad:function(){window.gLevelDesignCtl=this;for(var t=0;t<this.m_Item.length;t++)this.m_BasePos[t]=this.m_Item[t].getPosition()},SetCurrentLevel:function(){},Reset:function(){for(var t=gDataCtl.GetCurLevelDesign()-2,e=0;e<this.m_Item.length;e++)null!=this.m_BasePos[e]&&this.m_Item[e].setPosition(this.m_BasePos[e]),this.m_Item[e].setScale(cc.v2(.6,.6)),this.m_Item[e].opacity=255,this.m_Item[e].getComponent("LevelItem").SetNumber(t+e),this.m_Item[e].stopAllActions();this.m_Item[2].setScale(cc.v2(1,1)),this.m_Item[0].opacity=0,this.m_Item[4].opacity=0},Play:function(){},NextLevel:function(t){for(var e=1;e<this.m_Item.length;e++){var i=cc.moveTo(.5,cc.v2(this.m_BasePos[e-1])),n=this.m_Item[e].getComponent("LevelItem");if(1==e){var o=cc.fadeOut(.5),c=cc.spawn(o,i);this.m_Item[e].runAction(c),n.PlayShowPointIndex(-1)}else if(2==e){var s=cc.scaleTo(.5,.6);c=cc.spawn(s,i),this.m_Item[e].runAction(c),n.PlayShowPointIndex(0)}else if(3==e)s=cc.scaleTo(.5,1),c=cc.spawn(s,i),this.m_Item[e].runAction(c),n.PlayShowPointIndex(1);else if(4==e){var a=cc.fadeIn(.5);c=cc.spawn(a,i),this.m_Item[e].runAction(c),n.PlayShowPointIndex(-1)}else this.m_Item[e].runAction(i)}var l=cc.delayTime(.5),r=cc.sequence(l,cc.callFunc(function(){gDataCtl.AddCurLevelDesign(),this.Reset(),null!=t&&t()}.bind(this)));this.node.runAction(r)},MoveOut:function(){this.Reset();var t=cc.moveTo(.5,cc.v2(0,668)),e=cc.scaleTo(.5,.4,.4),i=cc.spawn(e,t);this.node.runAction(i.easing(cc.easeBackIn()))},MoveIn:function(){var t=cc.moveTo(.5,cc.v2(0,167)),e=cc.scaleTo(.5,1,1),i=cc.spawn(e,t);this.node.runAction(i.easing(cc.easeBackOut()))},Brief:function(t){var e=cc.moveTo(.5,cc.v2(0,415)),i=cc.scaleTo(.5,1,1),n=cc.spawn(i,e),o=cc.sequence(n,cc.callFunc(t));this.node.runAction(o.easing(cc.easeBackIn()))}}),cc._RF.pop()},{}],LevelItem:[function(t,e){"use strict";cc._RF.push(e,"00ad9OLgF9Omqa8brBR72gW","LevelItem"),cc.Class({extends:cc.Component,properties:{m_imgBoss:cc.Node,m_labNumber:cc.Label,m_Point:[cc.Node]},ctor:function(){this.m_Index=0},onLoad:function(){},SetIndex:function(t){this.m_Index=t},SetNumber:function(t){t<=0?this.node.opacity=0:(this.m_labNumber.string=t,this.SetBoss(t%3==0))},SetBoss:function(t){this.m_imgBoss.active=t,this.m_bBoss=t},SetPointShow:function(t){this.m_Point[0].opacity=t?255:0,this.m_Point[1].opacity=t?255:0},PlayShowPointIndex:function(t){0==t?(this.m_Point[0].runAction(cc.fadeOut(.5)),this.m_Point[1].runAction(cc.fadeIn(.5))):1==t?(this.m_Point[1].runAction(cc.fadeOut(.5)),this.m_Point[0].runAction(cc.fadeIn(.5))):(this.m_Point[0].runAction(cc.fadeOut(.5)),this.m_Point[1].runAction(cc.fadeOut(.5)))},start:function(){}}),cc._RF.pop()},{}],LogoVirus:[function(t,e){"use strict";cc._RF.push(e,"b9b2fCo4FRFBr+ZYNLBTQsI","LogoVirus"),cc.Class({extends:cc.Component,properties:{m_Circl:cc.Node,m_Virus:cc.Node,m_Tail:cc.Node},init:function(t,e,i){this.v2=cc.v2(t,e),this.width=i},onLoad:function(){},start:function(){},Begin:function(){this.m_Tail.runAction(cc.fadeOut(.1));var t=cc.fadeOut(.2),e=cc.fadeIn(.4),i=cc.sequence(t,e);this.m_Circl.runAction(i.repeatForever()),this.virusAction()},virusAction:function(){var t=random(0,this.width),e=random(0,this.width),i=cc.v2(this.v2.x+t,this.v2.y+e),n=cc.sequence(cc.moveTo(.5,i),cc.callFunc(function(){this.virusAction()}.bind(this)));this.node.runAction(n)},Reset:function(){this.m_Circl.opacity=255,this.m_Circl.stopAllActions(),this.m_Tail.opacity=255,this.m_Tail.setScale(cc.v2(1,1)),this.m_Tail.stopAllActions(),this.node.stopAllActions(),this.node.opactiy=255}}),cc._RF.pop()},{}],Logo:[function(t,e){"use strict";cc._RF.push(e,"982dfGjwjBAzJOfWzHbQnD7","Logo"),cc.Class({extends:cc.Component,properties:{m_Anim:[cc.Node]},callback1:function(){cc.log("\u64ad\u653e\u5b8c\u6bd51");var t=cc.moveTo(.3,cc.v2(433,186)),e=cc.scaleTo(.3,1),i=cc.spawn(t,e);this.m_Anim[2].runAction(i);var n=cc.moveTo(.5,cc.v2(452,-24)),o=cc.scaleTo(.5,1),c=cc.spawn(n,o),s=cc.callFunc(this.callback2.bind(this)),a=cc.sequence(c,s);this.m_Anim[3].runAction(a),this.flicker(this.m_Anim[1])},callback2:function(){var t=this.m_Anim[2].getComponent("LogoVirus");t.init(374,137,120),t.Begin(),(t=this.m_Anim[3].getComponent("LogoVirus")).init(410,-62,80),t.Begin()},flicker:function(t){var e=cc.fadeOut(.2),i=cc.fadeIn(.4),n=cc.sequence(e,i);t.runAction(n.repeatForever())},onLoad:function(){},Reset:function(){for(var t=0;t<this.m_Anim.length;t++)this.m_Anim[0].stopAllActions();this.m_Anim[0].opacity=255,this.m_Anim[1].opacity=255,this.m_Anim[1].setScale(cc.v2(0,1)),this.m_Anim[2].setPosition(cc.v2(284,54)),this.m_Anim[2].setScale(cc.v2(.2,.2)),this.m_Anim[3].setPosition(cc.v2(292,32)),this.m_Anim[3].setScale(cc.v2(.2,.2));var e=this.m_Anim[2].getComponent("LogoVirus");e.Reset(),(e=this.m_Anim[3].getComponent("LogoVirus")).Reset()},Play:function(){var t=cc.fadeOut(.15),e=cc.fadeIn(.15),i=cc.callFunc(function(){var t=cc.scaleTo(.3,1),e=cc.callFunc(this.callback1.bind(this)),i=cc.sequence(t,e);this.m_Anim[1].runAction(i),this.flicker(this.m_Anim[0])}.bind(this)),n=cc.sequence(t,e),o=cc.sequence(n,n,n,i);this.m_Anim[0].runAction(o)},MoveOut:function(){this.Reset(),this.node.setPosition(cc.v2(0,459)),this.node.runAction(cc.moveTo(.5,cc.v2(0,962)).easing(cc.easeBackIn()))},MoveIn:function(){this.Reset(),this.node.setPosition(cc.v2(0,962)),this.node.runAction(cc.moveTo(.5,cc.v2(0,459)).easing(cc.easeBackOut()))},start:function(){}}),cc._RF.pop()},{}],MonsterHp:[function(t,e){"use strict";cc._RF.push(e,"2b4a9WpqeZABZCJwD+1zyOC","MonsterHp"),cc.Class({extends:cc.Component,properties:{m_Gold:cc.Label,m_tipVirus:cc.Label,m_HpProgress:cc.ProgressBar,m_CoinNode:cc.Node},onLoad:function(){window.gVirusHpView=this,this.m_HpProgress.progress=1,this.m_GoldValue=0},start:function(){},Reset:function(){this.m_HpProgress.progress=1,this.m_Gold.string="0",this.m_tipVirus.string="100%",this.m_GoldValue=0,this.node.y=616},Play:function(){},MoveOut:function(){var t=cc.sequence(cc.delayTime(1),cc.fadeIn(.5));this.node.runAction(t)},MoveIn:function(){this.node.runAction(cc.fadeOut(.5))},changeProgress:function(t){this.m_HpProgress.progress=t,this.m_tipVirus.string=parseInt(100*t.toFixed(2))+"%"},AddGold:function(t){this.m_GoldValue+=t,this.m_Gold.string=""+this.m_GoldValue},GetGold:function(){return this.m_GoldValue},Brief:function(){var t=cc.moveTo(.5,cc.v2(0,284)),e=cc.scaleTo(.5,1,1),i=cc.spawn(e,t);this.node.runAction(i.easing(cc.easeBackOut()))}}),cc._RF.pop()},{}],Resurgence:[function(t,e){"use strict";cc._RF.push(e,"769caBGGR9MjKN152huWKMg","Resurgence"),cc.Class({extends:cc.Component,properties:{m_BlackBG:cc.Node,m_btTime:cc.Label},onLoad:function(){window.gResurgenceView=this,this.node.x=0,this.node.active=!1},start:function(){},blackBGAnim:function(t){t?this.m_BlackBG.runAction(cc.fadeTo(.5,130)):this.m_BlackBG.runAction(cc.fadeTo(.5,0))},onShowView:function(t){if(t){var e=3;this.m_btTime.string=""+e,this.schedule(function t(){gAdvertising.node.active||(e-=1,this.m_btTime.string=""+e,-1==e&&(this.node.active=!1,gBrief.onShowView(),this.unschedule(t)))},1,3)}else this.m_BlackBG.runAction(cc.fadeTo(.5,0));this.blackBGAnim(t),this.node.active=t},onAdv:function(){this.node.active=!1,gAdvertising.onShow(function(){gAirPlane.Resurgence(),cc.director.getCollisionManager().enabled=!0,gTouchCtl.setCanTouch(!0),gGameCtl.onBulletKilledAll()})}}),cc._RF.pop()},{}],Setting:[function(t,e){"use strict";cc._RF.push(e,"42b99cCj+ZMl6jkzjJbYqmX","Setting"),cc.Class({extends:cc.Component,properties:{},start:function(){},Reset:function(){},Play:function(){},MoveOut:function(){this.node.runAction(cc.moveTo(.5,cc.v2(-508,407)).easing(cc.easeBackOut()))},MoveIn:function(){this.node.runAction(cc.moveTo(.5,cc.v2(-416,407)).easing(cc.easeBackIn()))}}),cc._RF.pop()},{}],Tip:[function(t,e){"use strict";cc._RF.push(e,"24403Z0n7xO4K1Y3y6R81sQ","Tip"),cc.Class({extends:cc.Component,properties:{},start:function(){},Reset:function(){this.node.opactiy=255,this.node.rotastion=0},Play:function(){var t=cc.sequence(cc.rotateTo(.2,15),cc.rotateTo(.4,-15),cc.rotateTo(.4,15),cc.rotateTo(.4,-15),cc.rotateTo(.4,15),cc.rotateTo(.2,0),cc.delayTime(2));this.node.runAction(cc.repeatForever(t))},MoveOut:function(){this.node.runAction(cc.fadeOut(.2).easing(cc.easeBackOut()))},MoveIn:function(){this.node.runAction(cc.fadeIn(.2).easing(cc.easeBackIn()))}}),cc._RF.pop()},{}],Top:[function(t,e){"use strict";cc._RF.push(e,"c901fN6a7VFh7QzylkQ3S7C","Top"),cc.Class({extends:cc.Component,properties:{m_GoldNode:cc.Node,m_labGold:cc.Label},onLoad:function(){window.gTop=this,this.updateData()},start:function(){},Reset:function(){this.node.setPosition(cc.v2(0,761))},MoveOut:function(){this.Reset(),this.node.setPosition(cc.v2(0,736)),this.node.runAction(cc.moveTo(.2,cc.v2(0,848)).easing(cc.easeBackIn()))},MoveIn:function(){this.Reset(),this.node.setPosition(cc.v2(0,848)),this.node.runAction(cc.moveTo(.2,cc.v2(0,736)).easing(cc.easeBackOut()))},getGoldNode:function(){return this.m_GoldNode},updateData:function(){this.m_labGold.string=goldCrarryBit(gDataCtl.GetGold()),null!=window.gBottom&&gBottom.onUpdate()}}),cc._RF.pop()},{}],TouchControl:[function(t,e){"use strict";cc._RF.push(e,"f7454ta7vxJ/7bYhHd8NWkg","TouchControl"),cc.Class({extends:cc.Component,properties:{m_BG:cc.Node},ctor:function(){this.m_isCanTouchMove,this.m_isPlaying,this.m_canTouch=!0},onLoad:function(){window.gTouchCtl=this,this.node.on(cc.Node.EventType.TOUCH_START,this.TouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchEnd.bind(this),this),this.m_isCanTouchMove=!1,this.m_isPlaying=!1},Reset:function(){this.m_isPlaying=!1,this.setCanTouch(!0)},BeginFireCallBack:function(){gAirPlane.BeginFire()},TouchStart:function(){this.m_canTouch&&(cc.log("TouchStart"),this.m_BG.stopAllActions(),this.m_BG.runAction(cc.fadeOut(.5)),this.m_isCanTouchMove=!0,gAirPlane.node.stopAllActions(),gAirPlane.BeginFire(),gVirusMake.unsleepVirus(),this.m_isPlaying||(this.m_isPlaying=!0,gGameCtl.Action(ACTION_MOVE_OUT)))},TouchMove:function(t){if(this.m_canTouch&&this.m_isCanTouchMove){var e=t.getDelta();gGameCtl.moveAirPlane(e)}},TouchEnd:function(){this.m_canTouch&&(cc.log("TouchEnd"),this.m_BG.stopAllActions(),this.m_BG.runAction(cc.fadeIn(.5)),this.unschedule(this.BeginFireCallBack),gAirPlane.EndFire(),gVirusMake.sleepVirus())},start:function(){},setCanTouch:function(t){this.m_canTouch=t}}),cc._RF.pop()},{}],VirusMake:[function(t,e){"use strict";cc._RF.push(e,"08f67yQe/NG46dQc0o2jDmC","VirusMake"),cc.Class({extends:cc.Component,properties:{m_VirusPrefab:[cc.Prefab],m_animDie:cc.Prefab,m_VirusParentl:cc.Node},ctor:function(){this.m_VirusSleep=!1},onLoad:function(){window.gVirusMake=this,this.dieAnimPool=new cc.NodePool,this.virusPool=new Array;for(var t=0;t<this.m_VirusPrefab.length;t++)this.virusPool[t]=new cc.NodePool;this.m_BriefHp=0;var e=gDataCtl.GetCurLevelDesign();this.m_NextBrieValue=gDataCtl.GetLDData(e).next},Reset:function(){this.m_BriefHp=0;var t=gDataCtl.GetCurLevelDesign();this.m_NextBrieValue=gDataCtl.GetLDData(t).next,this.m_Brief=0,this.m_VirusSleep=!1},start:function(){},begin:function(){this.m_Brief=0;var t=gDataCtl.GetCurLevelDesign();this.m_AllHp=0;for(var e=0;e<gDataCtl.GetLDData(t).hp.length;e++)for(var i=0;i<gDataCtl.GetLDData(t).hp[e].length;i++)this.m_AllHp+=gDataCtl.GetLDData(t).hp[e][i];this.m_CurHp=this.m_AllHp,gVirusHpView.changeProgress(1),this.nextBrief()},nextBrief:function(){var t=gDataCtl.GetCurLevelDesign();if(!(this.m_Brief>=gDataCtl.GetLDData(t).hp.length)){for(var e=gDataCtl.GetLDData(t).hp[this.m_Brief],i=gDataCtl.GetLDData(t).scale,n=gDataCtl.GetLDData(t).color,o=0;o<e.length;o++){var c=random(0,gDataCtl.GetLDData(t).virus.length),s=this.createVirus(c).getComponent(""+c);if(null!=s){var a=e[o];this.m_BriefHp+=a,s.setHp(a),s.setDieGold(a);var l=n[""+a]?n[""+a]:new cc.Color(255,255,166);s.setColor(l,n);var r=i[""+a]?i[""+a]:.6;s.setScale(r),this.m_VirusSleep&&s.sleep(!0)}}this.m_Brief++}},Play:function(){},MoveOut:function(){this.scheduleOnce(function(){this.begin()}.bind(this),1.5)},MoveIn:function(){},createVirus:function(t){var e=null;return(e=this.virusPool[t].size()>0?this.virusPool[t].get():cc.instantiate(this.m_VirusPrefab[t])).parent=this.m_VirusParentl,e.getComponent(""+t).init(),e.id=t,e},onVirusKilled:function(t){t.getComponent(""+t.id);var e=t.id;this.virusPool[e].put(t)},onVirusKilledAll:function(){for(var t=this.m_VirusParentl.children;0!=t.length;)this.onVirusKilled(t[0])},createGoldMoveAnim:function(t){var e=t.getComponent(""+t.id);if(e.m_DieGold>0){var i=e.m_DieGold;i=i>36?36:i;var n=t.getPosition();n.x-=450,n.y-=800,gGameCtl.createGoldAnim(n,cc.v2(-214,572),gVirusHpView.m_CoinNode,300,i,e.m_DieGold,function(t){gVirusHpView.AddGold(t)}.bind(this))}},createDieAnim:function(t){this.createGoldMoveAnim(t);var e,i,n=t.getPosition(),o=t.getScale(),c=(i=t.getComponent(""+t.id)).m_CurColor;(e=this.dieAnimPool.size()>0?this.dieAnimPool.get():cc.instantiate(this.m_animDie)).parent=this.m_VirusParentl,e.x=n.x,e.y=n.y,e.setScale(cc.v2(2*o,2*o)),e.color=c,(i=e.getComponent(cc.Animation)).playOver=function(){this.onDieAnimKilled(e)}.bind(this),i.play("die")},onDieAnimKilled:function(t){this.dieAnimPool.put(t)},sleepVirus:function(){this.m_VirusSleep=!0;for(var t=this.m_VirusParentl.children,e=0;e<t.length;e++){var i=t[e].getComponent(""+t[e].id);null!=i&&i.sleep(!0)}},unsleepVirus:function(){this.m_VirusSleep=!1;for(var t=this.m_VirusParentl.children,e=0;e<t.length;e++){var i=t[e].getComponent(""+t[e].id);null!=i&&i.sleep(!1)}},hit:function(t){this.m_BriefHp+=t,this.m_CurHp+=t,this.m_BriefHp<this.m_NextBrieValue&&this.nextBrief(),gVirusHpView.changeProgress(this.m_CurHp/this.m_AllHp),0==this.m_CurHp&&(gTouchCtl.setCanTouch(!1),gBrief.onShowView(this.m_CurHp))}}),cc._RF.pop()},{}],Wall:[function(t,e){"use strict";cc._RF.push(e,"b6dd6/cjlpOYouM9Ufzkqjy","Wall"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],coll2:[function(t,e){"use strict";cc._RF.push(e,"4dd8a//MxJFvYsWkegnZXvr","coll2"),cc.Class({extends:cc.Component,properties:{m_bombEff:cc.Animation},onLoad:function(){this.m_bombEff.node.parent=null,gGameCtl.m_SubWeaponParent.addChild(this.m_bombEff.node),this.m_bombEff.node.active=!1,this.m_bombEff.hideEff=function(){this.m_bombEff.node.active=!1}.bind(this)},start:function(){},onCollisionEnter:function(t,e){e.node.active=!1;var i=e.node.convertToWorldSpaceAR(cc.v2(0,0));i=gGameCtl.m_SubWeaponParent.convertToNodeSpaceAR(i),this.m_bombEff.node.setPosition(i),this.m_bombEff.node.active=!0,this.m_bombEff.play("3_bomb")}}),cc._RF.pop()},{}],color:[function(t,e){"use strict";cc._RF.push(e,"ed5f5zI7rlEupIIOIbufhLW","color"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],data:[function(t,e){"use strict";cc._RF.push(e,"f16b8bsdAJG173ZtPiWb4V5","data"),window.gVirusColor=[{pro:1,color:new cc.Color(255,255,166)},{pro:2,color:new cc.Color(205,255,166)},{pro:5,color:new cc.Color(122,255,116)},{pro:6,color:new cc.Color(116,255,216)},{pro:10,color:new cc.Color(116,194,255)},{pro:15,color:new cc.Color(255,116,224)},{pro:18,color:new cc.Color(255,116,160)},{pro:20,color:new cc.Color(255,116,116)},{pro:100,color:new cc.Color(255,39,39)}],window.gVirusScale=[{pro:1,scale:.4},{pro:2,scale:.5},{pro:5,scale:.6},{pro:10,scale:.7},{pro:20,scale:.8},{pro:40,scale:.9},{pro:100,scale:1}],window.gSpeed=[cc.v2(50,60),cc.v2(60,70),cc.v2(70,80),cc.v2(80,90),cc.v2(90,100),cc.v2(100,110),cc.v2(110,120)];var i=cc.Class({ctor:function(){this.gData={},this.gLevelDesign=[{hp:0},{hp:[[1,1,1,1,10,5,1,1,1],[1,1,1,1,10,5,1,1,1],[1,1,1,1,1e3,5,1,1,1]],scale:{1:.6,10:1,5:.8},color:{1:new cc.Color(255,255,166),5:new cc.Color(122,255,116),10:new cc.Color(255,116,116)},next:10,virus:[0]}],this.m_WeaponSpeed=[[1,1,,.5],[10,10,.49],[12,30,.48],[18,80,.47],[32,120,.46],[52,180,.45],[93,320,.44],[96,980,.43],[124,1980,.42],[350,4e3,.41],[865,12e3,.4],[2097,45e3,.39],[3502,2e5,.38],[5605,3e5,.37],[6605,69e4,.36],[7605,79e4,.35],[8605,89e4,.34],[10605,12e3,.33],[11605,158e3,.32],[12605,35e4,.31],[12605,35e4,.3],[12605,35e4,.29],[12605,35e4,.28],[12605,35e4,.27],[12605,35e4,.26],[12605,35e4,.25],[12605,35e4,.24],[12605,35e4,.23],[12605,35e4,.22],[12605,35e4,.21],[12605,35e4,.2],[12605,35e4,.19],[12605,35e4,.18],[12605,35e4,.17],[12605,35e4,.16],[12605,35e4,.15],[12605,35e4,.14],[12605,35e4,.13],[12605,35e4,.12],[12605,35e4,.11],[12605,35e4,.1],[12605,35e4,.09],[12605,35e4,.08],[12605,35e4,.07],[12605,35e4,.06],[12605,35e4,.05],[12605,35e4,.04],[12605,35e4,.03]],this.m_WeaponFire=[[1,1],[10,10],[12,300],[18,800],[32,1200],[52,1800],[93,3200],[96,9800],[124,19800],[350,2e4],[865,21e3],[2097,21e3],[3502,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3],[5605,21e3]]},clear:function(){cc.sys.localStorage.removeItem("data"),cc.sys.localStorage.removeItem("Weapon"),this.load()},save:function(){var t=JSON.stringify(this.gData);cc.sys.localStorage.setItem("data",t)},load:function(){var t=cc.sys.localStorage.getItem("data");return this.gData=JSON.parse(t),null==this.gData&&(this.gData={}),this.gData},AddGold:function(t){null==this.gData.m_Gold&&(this.gData.m_Gold=0),this.gData.m_Gold+=t,this.save()},SubGold:function(t){null==this.gData.m_Gold&&(this.gData.m_Gold=0),this.gData.m_Gold-=t,this.save()},GetGold:function(){return null==this.gData.m_Gold&&(this.gData.m_Gold=9999999999),this.gData.m_Gold},SetGoldAddTime:function(t){this.gData.m_GetGoldTime=t,this.save()},GetGoldAddTime:function(){return null==this.gData.m_GetGoldTime&&(this.gData.m_GetGoldTime=3),this.gData.m_GetGoldTime},SetAwardGold:function(t){this.gData.m_AwardGold=t,this.save()},GetAwardGold:function(){return null==this.gData.m_AwardGold&&(this.gData.m_AwardGold=3),this.gData.m_AwardGold},AddTaskGold:function(t){null==this.gData.m_TaskGold&&(this.gData.m_TaskGold=0),this.gData.m_TaskGold+=t,this.save()},ClearTaskGold:function(){this.gData.m_TaskGold=0,this.save()},GetTaskGold:function(){return null==this.gData.m_TaskGold&&(this.gData.m_TaskGold=0),this.gData.m_TaskGold},GetCurLevelDesign:function(){return null==this.gData.m_LevelDesignNum&&(this.gData.m_LevelDesignNum=1),this.gData.m_LevelDesignNum},AddCurLevelDesign:function(){null==this.gData.m_LevelDesignNum&&(this.gData.m_LevelDesignNum=1),this.gData.m_LevelDesignNum++,this.save()},GetLDData:function(t){return t>=gLevelDesign.length-1?gLevelDesign[gLevelDesign.length-1]:gLevelDesign[t]},GetWeaponFire:function(){return null==this.gData.m_WeaponFire&&(this.gData.m_WeaponFire=1),this.gData.m_WeaponFire},AddWeapoFire:function(){return null==this.gData.m_WeaponFire&&(this.gData.m_WeaponFire=1),this.gData.m_WeaponFire++,this.save(),this.gData.m_WeaponFire},GetWeaponFireValue:function(){for(var t=0,e=gDataCtl.GetWeaponFire(),i=gDataCtl.m_WeaponFire.length,n=0;n<e&&n<i;n++)t+=gDataCtl.m_WeaponFire[n][0];return t},GetWeaponUpFireMoney:function(){var t=this.GetWeaponFire();if(t>=gDataCtl.m_WeaponFire.length){var e=gDataCtl.m_WeaponFire.length-1;return gDataCtl.m_WeaponFire[e][1]}return gDataCtl.m_WeaponFire[t][1]},GetWeaponFireMax:function(){return gDataCtl.m_WeaponFire.length},GetWeaponSpeedService:function(){var t=this.GetWeaponSpeed();return null==gDataCtl.m_WeaponSpeed[t]?gDataCtl.m_WeaponSpeed[gDataCtl.m_WeaponSpeed.length-1][2]:gDataCtl.m_WeaponSpeed[t][2]},GetWeaponSpeed:function(){return null==this.gData.m_WeaponSpeed&&(this.gData.m_WeaponSpeed=1),this.gData.m_WeaponSpeed},GetWeaponSpeedValue:function(){for(var t=0,e=gDataCtl.GetWeaponSpeed(),i=gDataCtl.m_WeaponSpeed.length,n=0;n<e&&n<i;n++)t+=gDataCtl.m_WeaponSpeed[n][0];return t},GetWeaponUpSpeedMoney:function(){var t=this.GetWeaponSpeed();if(t>=gDataCtl.m_WeaponSpeed.length){var e=gDataCtl.m_WeaponSpeed.length-1;return gDataCtl.m_WeaponSpeed[e][1]}return gDataCtl.m_WeaponSpeed[t][1]},GetWeaponSpeedMax:function(){return gDataCtl.m_WeaponSpeed.length},AddWeapoSpeed:function(){return null==this.gData.m_WeaponSpeed&&(this.gData.m_WeaponSpeed=1),this.gData.m_WeaponSpeed++,this.save(),this.gData.m_WeaponSpeed},GetGoldWeaponFire:function(){return null==this.gData.m_GoldWeaponFire&&(this.gData.m_GoldWeaponFire=1),this.gData.m_GoldWeaponFire},AddGoldWeapoFire:function(){return null==this.gData.m_GoldWeaponFire&&(this.gData.m_GoldWeaponFire=1),this.gData.m_GoldWeaponFire++,this.save(),this.gData.m_GoldWeaponFire},GetGoldWeaponSpeed:function(){return null==this.gData.m_GoldWeaponSpeed&&(this.gData.m_GoldWeaponSpeed=1),this.gData.m_GoldWeaponSpeed},AddGoldWeapoSpeed:function(){return null==this.gData.m_GoldWeaponSpeed&&(this.gData.m_GoldWeaponSpeed=1),this.gData.m_GoldWeaponSpeed++,this.save(),this.gData.m_GoldWeaponSpeed},GetSubWeaponFire:function(){return null==this.gData.m_SubWeaponFire&&(this.gData.m_SubWeaponFire=1),this.gData.m_SubWeaponFire},AddSubWeapoFire:function(){return null==this.gData.m_SubWeaponFire&&(this.gData.m_SubWeaponFire=1),this.gData.m_SubWeaponFire++,this.save(),this.gData.m_SubWeaponFire},GetSubWeaponSpeed:function(){return null==this.gData.m_SubWeaponSpeed&&(this.gData.m_SubWeaponSpeed=1),this.gData.m_SubWeaponSpeed},AddSubWeapoSpeed:function(){return null==this.gData.m_SubWeaponSpeed&&(this.gData.m_SubWeaponSpeed=1),this.gData.m_SubWeaponSpeed++,this.save(),this.gData.m_SubWeaponSpeed}});window.gDataCtl=new i,window.gDataCtl.load(),window.gData=window.gDataCtl.gData,window.gLevelDesign=window.gDataCtl.gLevelDesign,cc._RF.pop()},{}],subWeapon0:[function(t,e){"use strict";cc._RF.push(e,"c7070hATdpLIrfCRb0fWLNl","subWeapon0"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],subWeapon1:[function(t,e){"use strict";cc._RF.push(e,"897f0kB0FZDdK3XsSYzUn/Y","subWeapon1"),cc.Class({extends:cc.Component,properties:{m_LeftWind:cc.Sprite,m_RightWind:cc.Sprite,m_LeftBullet:cc.Node,m_RightBullet:cc.Node,m_buttle:cc.Node},onLoad:function(){var t=this.m_buttle.convertToWorldSpaceAR(cc.v2(0,0)),e=gGameCtl.m_SubWeaponParent.convertToNodeSpaceAR(t);this.m_buttle.parent=null,gGameCtl.m_SubWeaponParent.addChild(this.m_buttle),this.m_buttle.setPosition(e),this.m_bInit=!1,this.Reset()},start:function(){},Reset:function(){this.m_LeftBullet.setScale(cc.v2(.1,.1)),this.m_RightBullet.setScale(cc.v2(.1,.1)),this.m_bButtleMove=!1,this.m_buttle.active=!1,this.m_Sleep=!1},begin:function(){var t;this.m_bBeginLeft?((t=this.m_LeftBullet).active=!0,this.m_RightBullet.active=!1):((t=this.m_RightBullet).active=!0,this.m_LeftBullet.active=!1),t.setScale(cc.v2(.1,.1));var e=cc.sequence(cc.scaleTo(1,.5,.5),cc.callFunc(function(){t.active=!1;var e=t.convertToWorldSpaceAR(cc.v2(0,0));e=gGameCtl.node.convertToNodeSpaceAR(e),this.m_buttle.active=!0,this.m_buttle.setPosition(e),this.m_bButtleMove=!0}.bind(this)));t.runAction(e),this.m_bBeginLeft=!this.m_bBeginLeft},setStart:function(){this.m_bInit||(this.begin(),this.m_bInit=!0),this.m_LeftBullet.resumeAllActions(),this.m_RightBullet.resumeAllActions(),this.m_Sleep=!1},setStop:function(){this.m_LeftBullet.pauseAllActions(),this.m_RightBullet.pauseAllActions(),this.m_Sleep=!0},update:function(t){if(this.m_bButtleMove&&!this.m_Sleep){var e=this.m_buttle.y;e+=1e3*t,this.m_buttle.y=e,this.m_buttle.y>860&&(this.begin(),this.m_bButtleMove=!1,this.m_buttle.active=!1)}}}),cc._RF.pop()},{}],subWeapon2:[function(t,e){"use strict";cc._RF.push(e,"dcffcO6YwdC8oBxOKE/howK","subWeapon2"),cc.Class({extends:cc.Component,properties:{m_LeftWind:cc.Sprite,m_RightWind:cc.Sprite,m_buttle:[cc.Node],m_light:[cc.Node]},onLoad:function(){for(var t=0;t<this.m_buttle.length;t++){var e=this.m_buttle[t].convertToWorldSpaceAR(cc.v2(0,0)),i=gGameCtl.m_SubWeaponParent.convertToNodeSpaceAR(e);this.m_buttle[t].parent=null,gGameCtl.m_SubWeaponParent.addChild(this.m_buttle[t]),this.m_buttle[t].setPosition(i),this.m_light[t].active=!1,this.m_light[t].index=t}this.m_bInit=!1,this.Reset()},start:function(){},Reset:function(){this.m_light[0].setScale(cc.v2(.1,.1)),this.m_light[1].setScale(cc.v2(.1,.1)),this.m_bButtleMove=!1,this.m_buttle[0].active=!1,this.m_buttle[1].active=!1,this.m_Sleep=!1},begin:function(){for(var t=0;t<this.m_light.length;t++){this.m_light[t].active=!0,this.m_light[t].setScale(cc.v2(0,0));var e=cc.sequence(cc.scaleTo(1,.5,.5),cc.callFunc(function(t){var e=t.index;this.m_light[e].active=!1;var i=this.m_light[e].convertToWorldSpaceAR(cc.v2(0,0));i=gGameCtl.node.convertToNodeSpaceAR(i),this.m_buttle[e].active=!0,this.m_buttle[e].setPosition(i),this.m_bButtleMove=!0}.bind(this)));this.m_light[t].runAction(e)}},setStart:function(){this.m_bInit||(this.begin(),this.m_bInit=!0),this.m_light[0].resumeAllActions(),this.m_light[1].resumeAllActions(),this.m_Sleep=!1},setStop:function(){this.m_light[0].pauseAllActions(),this.m_light[1].pauseAllActions(),this.m_Sleep=!0},update:function(t){if(this.m_bButtleMove&&!this.m_Sleep)for(var e=0;e<this.m_buttle.length;e++){var i=this.m_buttle[e].y,n=this.m_buttle[e].x;i+=1e3*t,0==e?n-=200*t:n+=200*t,this.m_buttle[e].y=i,this.m_buttle[e].x=n,this.m_buttle[e].y>860&&(this.begin(),this.m_bButtleMove=!1,this.m_buttle[e].active=!1)}}}),cc._RF.pop()},{}],subWeaponItem:[function(t,e){"use strict";cc._RF.push(e,"a8693c2H5REQIk+y2U/AeOU","subWeaponItem"),cc.Class({extends:cc.Component,properties:{m_texture:cc.SpriteAtlas,m_subWeapon:cc.Sprite},onLoad:function(){},start:function(){},init:function(t){this.m_Index=t;var e=this.m_texture.getSpriteFrame("subWeapon"+t);this.m_subWeapon.spriteFrame=e},onClickChange:function(){this.getComponent(cc.Toggle).isChecked?gAirPlane.ChangeAirPlane(this.m_Index):gAirPlane.ChangeAirPlane(0)},setDisable:function(){this.getComponent(cc.Toggle).interactable=!1;var t=this.m_texture.getSpriteFrame("subWeapon_gray"+this.m_Index);this.m_subWeapon.spriteFrame=t}}),cc._RF.pop()},{}],use_reversed_rotateTo:[function(t,e){"use strict";cc._RF.push(e,"73ebb2YJwhA94dNJo349fH4","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],virusBuilder:[function(t,e){"use strict";cc._RF.push(e,"368159sA/xIrJf5BC8F8lrK","virusBuilder"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}]},{},["use_reversed_rotateTo","Advertising","AirAutoPlay","AirPlane","BG","Bottom","BottomItem","Brief","Bullet","ClickGet","GameControl","GoldItem","Gun","LevelDesign","LevelItem","Logo","LogoVirus","MonsterHp","Resurgence","Setting","Tip","Top","TouchControl","VirusMake","Wall","data","virusBuilder","subWeaponItem","coll2","subWeapon0","subWeapon1","subWeapon2","0","color"]);