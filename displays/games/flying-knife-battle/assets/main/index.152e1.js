window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AccountRankData:[function(e,t,n){"use strict";cc._RF.push(t,"666aaXNp7xB7ZLQANDqL93H","AccountRankData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.id=0,this.level=0,this.rank=0,this.reward=0},cc._RF.pop()},{}],AccountUI:[function(e,t,n){"use strict";cc._RF.push(t,"2833fGUv4RIaqVA9q1xQBOV","AccountUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),i=e("../../gamescene/GameScene"),a=e("../../core/GameManager"),r=e("../../gamescene/Player"),s=e("../../core/DataManager"),c=e("../../wx/WXSdk"),l=e("../UIManager"),u=e("./LevelIcon"),p=e("./MainUI"),d=e("../../util/Mathf"),h=e("../../core/SoundManager"),f=e("../../audio/SoundClip"),y=cc._decorator,m=y.ccclass,g=y.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelIcon=null,t.levelProgress=null,t.levelvalueTxt=null,t.rankValueTxt=null,t.killValueTxt=null,t.totalValueTxt=null,t.winStarTxt1=null,t.killTxt=null,t.winStarTxt2=null,t.turnBack=null,t.lookRankBtn=null,t.huoquBtn1=null,t.huoquBtn2=null,t.recoverBtn=null,t.replayBtn=null,t.rankImg=null,t.numArr=[],t.gameScene=null,t.star=0,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.gameScene=a.default.instance.gameScene.getComponent(i.default),this.turnBack.node.on(cc.Node.EventType.TOUCH_END,function(){var t=s.default.instance.getPlayerData().star,n=s.default.instance.getLevelId(s.default.instance.getPlayerData().star);s.default.instance.getPlayerData().addStar(e.star),s.default.instance.savePlayerData(),c.default.instance.setUserRankStorage("star",s.default.instance.getPlayerData().star);var o=s.default.instance.getLevelId(s.default.instance.getPlayerData().star);o>n?(e.close(),l.default.instance.upgradeUI.open(),l.default.instance.upgradeUI.showUpgrade(o,!0),l.default.instance.upgradeUI.onExit=function(){cc.director.loadScene(cc.director.getScene().name)}):o<n?(e.close(),l.default.instance.upgradeUI.open(),l.default.instance.upgradeUI.showUpgrade(o,!1),l.default.instance.upgradeUI.onExit=function(){cc.director.loadScene(cc.director.getScene().name)},l.default.instance.upgradeUI.onRecover=function(){s.default.instance.getPlayerData().star=t,s.default.instance.savePlayerData(),cc.director.loadScene(cc.director.getScene().name)}):cc.director.loadScene(cc.director.getScene().name)}),this.huoquBtn2.node.on(cc.Node.EventType.TOUCH_END,function(){c.default.instance.showVideo("adunit-82c0e31583967848",function(t){if(0!=t){var n=s.default.instance.getPlayerData().star,o=s.default.instance.getLevelId(s.default.instance.getPlayerData().star);s.default.instance.getPlayerData().addStar(3*e.star),s.default.instance.savePlayerData(),c.default.instance.setUserRankStorage("star",s.default.instance.getPlayerData().star);var i=s.default.instance.getLevelId(s.default.instance.getPlayerData().star);i>o?(e.close(),l.default.instance.upgradeUI.open(),l.default.instance.upgradeUI.showUpgrade(i,!0),l.default.instance.upgradeUI.onExit=function(){cc.director.loadScene(cc.director.getScene().name)}):i<o?(e.close(),l.default.instance.upgradeUI.open(),l.default.instance.upgradeUI.showUpgrade(i,!1),l.default.instance.upgradeUI.onExit=function(){cc.director.loadScene(cc.director.getScene().name)},l.default.instance.upgradeUI.onRecover=function(){s.default.instance.getPlayerData().star=n,s.default.instance.savePlayerData(),cc.director.loadScene(cc.director.getScene().name)}):cc.director.loadScene(cc.director.getScene().name)}})}),this.recoverBtn.node.on(cc.Node.EventType.TOUCH_END,function(){c.default.instance.showVideo("adunit-58c67892748cf639",function(e){0!=e&&cc.director.loadScene(cc.director.getScene().name)})}),this.lookRankBtn.node.on(cc.Node.EventType.TOUCH_END,function(){l.default.instance.wxOpenDataUI.openRankUI()},this),this.replayBtn.node.on(cc.Node.EventType.TOUCH_END,function(){s.default.instance.getPlayerData().addStar(e.star),s.default.instance.savePlayerData(),c.default.instance.setUserRankStorage("star",s.default.instance.getPlayerData().star),p.default.startRightAway=!0,cc.director.loadScene(cc.director.getScene().name)})},t.prototype.init=function(){this.gameScene=a.default.instance.gameScene.getComponent(i.default),this.gameScene.player.status==r.PlayerStatus.die?s.default.instance.getPlayerData().continueStraking=0:(1==this.gameScene.player.rank&&(s.default.instance.getPlayerData().num1+=1,this.gameScene.clock.currentCount-1>s.default.instance.getPlayerData().timelimitnum1&&(s.default.instance.getPlayerData().timelimitnum1=this.gameScene.clock.currentCount-1)),s.default.instance.getPlayerData().continueStraking++,s.default.instance.getPlayerData().continueStraking>s.default.instance.getPlayerData().straking&&(s.default.instance.getPlayerData().straking=s.default.instance.getPlayerData().continueStraking)),this.star=0;var e=d.default.clamp(this.gameScene.player.rank,1,8);this.rankImg.spriteFrame=this.numArr[e-1],this.rankImg.node.width=this.numArr[e-1].getRect().width,this.rankImg.node.height=this.numArr[e-1].getRect().height;var t=s.default.instance.getLevelId(s.default.instance.getPlayerData().star),n=s.default.instance.accountRankCnfDatasDic[t][e-1].reward;this.star+=n,this.rankValueTxt.string=n>=0?"+"+n:""+n,n<0&&(this.rankValueTxt.node.color=cc.Color.RED);var o=this.gameScene.player.killCount,c=0;o<2||(c=o-1),this.killTxt.string=""+o,this.killValueTxt.string="+"+c,this.star+=c,this.totalValueTxt.string=this.star>=0?"+"+this.star:""+this.star,this.star<0?(this.totalValueTxt.node.color=cc.Color.RED,this.recoverBtn.node.active=!0,this.huoquBtn2.node.active=!1,h.default.instance.playAudioClip(f.SoundClipType.fail)):(this.recoverBtn.node.active=!1,this.huoquBtn2.node.active=!0,h.default.instance.playAudioClip(f.SoundClipType.victory)),s.default.instance.savePlayerData(),t=s.default.instance.getLevelId(s.default.instance.getPlayerData().star);var l=s.default.instance.levelConfigDatas;t==l.length?(this.levelvalueTxt.string=""+s.default.instance.getPlayerData().star,this.levelProgress.progress=1):(this.levelvalueTxt.string=s.default.instance.getPlayerData().star+"/"+l[t].stars,this.levelProgress.progress=s.default.instance.getPlayerData().star/l[t].stars),this.levelIcon.updatePlayerSkin()},t.prototype.open=function(){e.prototype.open.call(this),this.init(),c.default.instance.showBottomBanner("adunit-d39672ca59cf15a2")},t.prototype.close=function(){e.prototype.close.call(this),c.default.instance.removeBanner()},__decorate([g(u.default)],t.prototype,"levelIcon",void 0),__decorate([g(cc.ProgressBar)],t.prototype,"levelProgress",void 0),__decorate([g(cc.Label)],t.prototype,"levelvalueTxt",void 0),__decorate([g(cc.Label)],t.prototype,"rankValueTxt",void 0),__decorate([g(cc.Label)],t.prototype,"killValueTxt",void 0),__decorate([g(cc.Label)],t.prototype,"totalValueTxt",void 0),__decorate([g(cc.Label)],t.prototype,"winStarTxt1",void 0),__decorate([g(cc.Label)],t.prototype,"killTxt",void 0),__decorate([g(cc.Label)],t.prototype,"winStarTxt2",void 0),__decorate([g(cc.Button)],t.prototype,"turnBack",void 0),__decorate([g(cc.Button)],t.prototype,"lookRankBtn",void 0),__decorate([g(cc.Button)],t.prototype,"huoquBtn1",void 0),__decorate([g(cc.Button)],t.prototype,"huoquBtn2",void 0),__decorate([g(cc.Button)],t.prototype,"recoverBtn",void 0),__decorate([g(cc.Button)],t.prototype,"replayBtn",void 0),__decorate([g(cc.Sprite)],t.prototype,"rankImg",void 0),__decorate([g(cc.SpriteFrame)],t.prototype,"numArr",void 0),__decorate([m],t)}(o.default);n.default=v,cc._RF.pop()},{"../../audio/SoundClip":"SoundClip","../../core/DataManager":"DataManager","../../core/GameManager":"GameManager","../../core/SoundManager":"SoundManager","../../gamescene/GameScene":"GameScene","../../gamescene/Player":"Player","../../util/Mathf":"Mathf","../../wx/WXSdk":"WXSdk","../UIManager":"UIManager","../base/BaseUI":"BaseUI","./LevelIcon":"LevelIcon","./MainUI":"MainUI"}],AnimationController:[function(e,t,n){"use strict";cc._RF.push(t,"bd208TAM6hOe5rynE0i/9TS","AnimationController"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.images=[],t.frameTime=.1,t.playTimes=0,t.autoDestroy=!1,t.frameNum=0,t.frameIndex=0,t.running=!0,t.time=0,t.currentTimes=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.m_render=this.getComponent(cc.Sprite)},t.prototype.start=function(){0!=this.images.length&&(this.frameNum=this.images.length),this.time=this.frameTime},t.prototype.update=function(e){this.running&&0!=this.images.length&&(this.time-=e,0!=this.playTimes&&this.currentTimes==this.playTimes||this.time<=0&&(this.time=this.frameTime,this.frameIndex=this.frameIndex%this.frameNum,this.m_render.spriteFrame=this.images[this.frameIndex],null!=this.frameCallback&&this.frameCallback(this.frameIndex),this.frameIndex==this.frameNum-1&&(this.currentTimes++,null!=this.completeCallback&&this.completeCallback(),this.autoDestroy&&this.node.destroy()),this.frameIndex++))},t.prototype.play=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.completeCallback=e,this.frameCallback=t,this.running=!0,this.frameIndex=0,this.currentTimes=0,this.time=this.frameTime,0!=this.images.length&&(this.frameNum=this.images.length),this.m_render&&(this.m_render.spriteFrame=this.images[0])},t.prototype.gotoAndPlay=function(){},t.prototype.stop=function(){this.running=!1},t.prototype.gotoAndStop=function(){this.frameIndex<0&&(this.frameIndex=0),this.frameIndex>this.images.length-1&&(this.frameIndex=this.images.length-1),this.m_render.spriteFrame=this.images[this.frameIndex],this.running=!1},t.prototype.isPlayEnd=function(){return this.frameIndex==this.frameNum},__decorate([a(cc.SpriteFrame)],t.prototype,"images",void 0),__decorate([a()],t.prototype,"frameTime",void 0),__decorate([a()],t.prototype,"playTimes",void 0),__decorate([a()],t.prototype,"autoDestroy",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],Barrier:[function(e,t,n){"use strict";cc._RF.push(t,"e4c4cYS2FtI6p+AI35rs0jE","Barrier"),Object.defineProperty(n,"__esModule",{value:!0}),n.BarrierType=void 0;var o,i=e("../util/Random"),a=e("./GameScene"),r=e("../core/GameManager"),s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e.static=0]="static",e[e.dynamic=1]="dynamic",e[e.blackhole=2]="blackhole"})(o=n.BarrierType||(n.BarrierType={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.static,t.gameScene=null,t}return __extends(t,e),t.prototype.start=function(){if(this.gameScene=r.default.instance.gameScene.getComponent(a.default),this.node.scale=.7,this.type==o.dynamic){var e=this.gameScene.sceneSize,t=cc.v2(i.default.Range(-e.width/2,e.width/2),i.default.Range(-e.height/2,e.height/2)),n=cc.v2(i.default.Range(-e.width/2,e.width/2),i.default.Range(-e.height/2,e.height/2)),s=n.sub(t).mag()/(60*i.default.Range(.5,2.5));this.node.position=t;var c=cc.sequence(cc.moveTo(s,n).easing(cc.easeCubicActionInOut()),cc.moveTo(s,t).easing(cc.easeCubicActionInOut()));this.node.runAction(c.repeatForever())}},__decorate([l({type:cc.Enum(o)})],t.prototype,"type",void 0),__decorate([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../core/GameManager":"GameManager","../util/Random":"Random","./GameScene":"GameScene"}],BaseUI:[function(e,t,n){"use strict";cc._RF.push(t,"1c79aZR9QhDHZp+sdZYPuJ8","BaseUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.basePos=cc.Vec2.ZERO,t}return __extends(t,e),t.prototype.onLoad=function(){this.basePos=this.node.position,this.close()},t.prototype.open=function(){var e=this;this.node.active=!0,this.scheduleOnce(function(){e.node.position=cc.Vec2.ZERO},.01)},t.prototype.close=function(){this.node.active=!1,this.node.position=this.basePos},__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],BgSoundClip:[function(e,t,n){"use strict";cc._RF.push(t,"55b43/MlypGNavaonI/Czvm","BgSoundClip"),Object.defineProperty(n,"__esModule",{value:!0}),n.BgSoundClipType=void 0;var o,i=cc._decorator,a=i.ccclass,r=i.property;(function(e){e[e.none=0]="none",e[e.main=1]="main",e[e.level1=2]="level1",e[e.level2=3]="level2",e[e.level3=4]="level3",e[e.level4=5]="level4",e[e.level5=6]="level5"})(o=n.BgSoundClipType||(n.BgSoundClipType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipName="",t.type=o.none,t.clip=null,t}return __extends(t,e),__decorate([r(cc.String)],t.prototype,"clipName",void 0),__decorate([r({type:cc.Enum(o)})],t.prototype,"type",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"clip",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],BlackHole:[function(e,t,n){"use strict";cc._RF.push(t,"01a155n941N4KWBmaZ+N+j1","BlackHole"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Barrier"),i=e("../util/Random"),a=e("../core/GameManager"),r=e("./GameScene"),s=e("./Player"),c=e("../ui/UIManager"),l=e("../core/SoundManager"),u=e("../audio/SoundClip"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skin=null,t.body=null,t.cdTimer=0,t.liveTimer=5,t.appear=!0,t.moveSpeed=300,t.moveDir=cc.Vec2.ZERO,t.endPos=cc.Vec2.ZERO,t.eatCount=0,t.knifecount=0,t.circleCollider=null,t.physicsCircleCollider=null,t._size=1,t}return __extends(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e,this.skin.node.scale=this._size,this.circleCollider||(this.circleCollider=this.body.getComponent(cc.CircleCollider)),this.circleCollider.radius=100*this._size,this.physicsCircleCollider||(this.physicsCircleCollider=this.getComponent(cc.PhysicsCircleCollider)),this.physicsCircleCollider.radius=100*this._size},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=cc.rotateBy(1,360);this.skin.node.runAction(e.repeatForever()),this.gameScene=a.default.instance.gameScene.getComponent(r.default);var t=this.gameScene.sceneSize;this.endPos=cc.v2(i.default.Range(-t.width/2,t.width/2),i.default.Range(-t.height/2,t.height/2)),this.moveDir=this.endPos.sub(this.node.position).normalize();var n=a.default.instance.getMark();n.node.parent=c.default.instance.getLayer(c.LayerType.back),n.player=this.gameScene.player,n.isPlayer=!1,n.blackHole=this,this.gameScene.blackHole=this},t.prototype.update=function(e){if(a.default.instance.gameStatus==a.GameStatus.start){var t=this.moveSpeed*e,n=this.node.position.add(this.moveDir.mul(t));this.node.position=n,this.endPos.sub(this.node.position).mag()<t&&(this.endPos=this.getRandomPlayer().node.position,this.moveDir=this.endPos.sub(this.node.position).normalize())}},t.prototype.getRandomPlayer=function(){for(var e=this.gameScene.playerArr,t=[],n=0;n<e.length;n++)e[n].status!=s.PlayerStatus.die&&t.push(e[n]);return 0==t.length?this.gameScene.player:t[i.default.RangeInteger(0,t.length)]},t.prototype.eat=function(){this.eatCount++,this.size=1+.25*Math.floor(this.eatCount/6),this.knifecount++,l.default.instance.playAudioClip(u.SoundClipType.blackhole)},__decorate([h(cc.Sprite)],t.prototype,"skin",void 0),__decorate([h(cc.Node)],t.prototype,"body",void 0),__decorate([d],t)}(o.default);n.default=f,cc._RF.pop()},{"../audio/SoundClip":"SoundClip","../core/GameManager":"GameManager","../core/SoundManager":"SoundManager","../ui/UIManager":"UIManager","../util/Random":"Random","./Barrier":"Barrier","./GameScene":"GameScene","./Player":"Player"}],Body:[function(e,t,n){"use strict";cc._RF.push(t,"68f37xrkmpGcZut7SNLEz2/","Body"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=e("./Knife"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skin=null,t.face=null,t.player=null,t.faceSFArr=[],t.timer=0,t}return __extends(t,e),t.prototype.start=function(){this.player=this.node.parent.getComponent(o.default)},t.prototype.update=function(e){this.player.showface&&this.timer>0&&(this.timer-=e,this.timer<=0&&(this.face.spriteFrame=this.faceSFArr[1]))},t.prototype.onCollisionEnter=function(e){if(this.player.status!=o.PlayerStatus.die)if(0==e.tag);else if(1==e.tag){var t=e.getComponent(i.default);t&&t.status==i.KnifeStatus.capture&&t.player&&t.player!=this.player&&this.player.setDamage(t.damage,t.player)}else e.tag},t.prototype.updateState=function(){this.player||(this.player=this.node.parent.getComponent(o.default)),this.face.node.active=this.player.showface},t.prototype.changeFace=function(e,t){void 0===t&&(t=0),this.timer=t,this.face.spriteFrame=this.faceSFArr[e]},__decorate([s(cc.Sprite)],t.prototype,"skin",void 0),__decorate([s(cc.Sprite)],t.prototype,"face",void 0),__decorate([s(o.default)],t.prototype,"player",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"faceSFArr",void 0),__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./Knife":"Knife","./Player":"Player"}],CameraFollow:[function(e,t,n){"use strict";cc._RF.push(t,"0ff65++q1xKkJHP5TbJ+4NT","CameraFollow"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=e("../core/GameManager"),a=e("./GameScene"),r=e("../util/Vector2"),s=e("../util/Quake"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.camera=null,t.player=null,t.quake=null,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.instance=this},t.prototype.start=function(){this.player=i.default.instance.gameScene.getComponent(a.default).player},t.prototype.update=function(e){if(this.player&&this.player.status!=o.PlayerStatus.die){var t=r.default.lerp(this.camera.node.position,this.player.node.position,25*e);this.camera.node.position=t}},t.prototype.shake=function(e){void 0===e&&(e=0),this.quake.shake(e)},t.instance=null,__decorate([u(cc.Camera)],t.prototype,"camera",void 0),__decorate([u(s.default)],t.prototype,"quake",void 0),n=__decorate([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../core/GameManager":"GameManager","../util/Quake":"Quake","../util/Vector2":"Vector2","./GameScene":"GameScene","./Player":"Player"}],Clock:[function(e,t,n){"use strict";cc._RF.push(t,"83782/Oy9lC2ZGy9VcARPZY","Clock"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hms=3,t.timeText=null,t.increse=0,t.timeLength=0,t.timeStep=1,t._stime=0,t._etime=0,t._currentCount=0,t._hour=0,t._minute=0,t._second=0,t._isStop=!0,t._callback=null,t._completeCallback=null,t}return __extends(t,e),t.prototype.Play=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.timeText||(this.timeText=this.getComponent(cc.Label)),this._callback=e,this._completeCallback=t,this._isStop=!1,this.unschedule(this.ClockTime),this.ClockTime(this.timeStep),this.schedule(this.ClockTime,this.timeStep)},t.prototype.Stop=function(){this.unschedule(this.ClockTime),this._isStop=!0},t.prototype.Reset=function(){this._currentCount=0,this._isStop=!0},t.prototype.ClockTime=function(){if(this._isStop)this.unschedule(this.ClockTime);else{if(!(this._currentCount<this.timeLength))return this._isStop=!0,null!=this._completeCallback&&this._completeCallback(),void this.unschedule(this.ClockTime);this._currentCount++;var e=0;if(1==this.increse)e=this._stime+this._currentCount;else{if(0!=this.increse)return void this.unschedule(this.ClockTime);e=this.timeLength-this._currentCount+this._stime}this._hour=Math.floor(e/3600),this._minute=Math.floor((e-3600*this.hour)/60),this._second=e-(3600*this.hour+60*this.minute);var t="";1==this.hms?t=this.second>=10?""+this.second:"0"+this.second:2==this.hms?t=this.minute+":"+(this.second>=10?""+this.second:"0"+this.second):3==this.hms&&(t=(this.hour>=10?this.hour+":":"0"+this.hour+":")+(this.minute>=10?this.minute+":":"0"+this.minute+":")+(this.second>=10?""+this.second:"0"+this.second)),null!=this._callback&&this._callback(this.second,this.minute,this.hour,t,e),null!=this.timeText&&(this.timeText.string=t)}},Object.defineProperty(t.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hour",{get:function(){return this._hour},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minute",{get:function(){return this._minute},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"second",{get:function(){return this._second},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return!this._isStop},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.timeText||(this.timeText=this.getComponent(cc.Label))},t.prototype.start=function(){},__decorate([a({type:cc.Integer,tooltip:"1\u53ea\u663e\u793a\u79d2\uff0c2\u53ea\u663e\u793a\u5206\u79d2\uff0c3\u53ea\u663e\u793a\u65f6\u5206\u79d2"})],t.prototype,"hms",void 0),__decorate([a({type:cc.Label,tooltip:"\u663e\u793a\u5012\u8ba1\u65f6\u7684\u6587\u672c"})],t.prototype,"timeText",void 0),__decorate([a({type:cc.Integer,tooltip:"0\u662f\u5012\u8ba1\u65f6\uff0c1\u662f\u987a\u8ba1\u65f6"})],t.prototype,"increse",void 0),__decorate([a({type:cc.Integer,tooltip:"\u65f6\u957f"})],t.prototype,"timeLength",void 0),__decorate([a({type:cc.Integer,tooltip:"\u6bcf\u4e2a\u65f6\u95f4\u6b65\u7684\u95f4\u9694\uff0c\u5355\u4f4d\u4e3a\u79d2"})],t.prototype,"timeStep",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],CommonUils:[function(e,t,n){"use strict";cc._RF.push(t,"d4d69/p1JFKgId+Qa96rIlv","CommonUils"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){}return e.transRelativePos=function(e,t){var n=t.parent.convertToWorldSpaceAR(t.position);return e.parent.convertToNodeSpaceAR(n)},e.transRelativeFromPos=function(e,t){var n=e.convertToWorldSpaceAR(t);return cc.v2(n.x-.5*cc.winSize.width,n.y-.5*cc.winSize.height)},e.converCHNumber=function(e){return(e=Math.floor(e))<0&&(e=0),e>9&&(e=9),this.chNumArr[e]},e.chNumArr=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"],__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],Config:[function(e,t,n){"use strict";cc._RF.push(t,"84cf4K+EsJFpJdDscR5chZR","Config"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.CoinName="\u91d1\u5e01",e.GoldName="\u9ec4\u91d1",e}();n.default=o,cc._RF.pop()},{}],CustomButton:[function(e,t,n){"use strict";cc._RF.push(t,"35c71Atp/VMlITzkEr/Shad","CustomButton"),Object.defineProperty(n,"__esModule",{value:!0}),n.CBState=void 0;var o,i=e("../../audio/SoundClip"),a=e("../../core/SoundManager"),r=cc._decorator,s=r.ccclass,c=r.property;(function(e){e[e.normal=0]="normal",e[e.pressed=1]="pressed",e[e.hover=2]="hover",e[e.disabled=3]="disabled"})(o=n.CBState||(n.CBState={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickSound=i.SoundClipType.none,t.normal=null,t.pressed=null,t.hover=null,t.disabled=null,t._state=o.normal,t}return __extends(t,e),Object.defineProperty(t.prototype,"sprite",{get:function(){return this._sprite||(this._sprite=this.getComponent(cc.Sprite)),this._sprite},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){this.sprite&&this[o[e]]&&(this.sprite.spriteFrame=this[o[e]]),this._state=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.init()},t.prototype.init=function(){var e=this;this.state=o.normal,this.node.on(cc.Node.EventType.TOUCH_START,function(){e.state!=o.disabled&&(a.default.instance.playAudioClip(e.clickSound),e.state=o.pressed)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){e.state!=o.disabled&&(e.state=o.normal)},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.state!=o.disabled&&(e.state=o.normal)},this),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e.state!=o.disabled&&(e.state=o.hover)},this),this.node.on(cc.Node.EventType.MOUSE_UP,function(){e.state!=o.disabled&&(e.state=o.hover)},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e.state!=o.disabled&&(e.state=o.normal)},this)},__decorate([c({type:cc.Enum(i.SoundClipType)})],t.prototype,"clickSound",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"normal",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"pressed",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"hover",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"disabled",void 0),__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../audio/SoundClip":"SoundClip","../../core/SoundManager":"SoundManager"}],CustomEventType:[function(e,t,n){"use strict";cc._RF.push(t,"401cdWF7V1NI5WcHpvjbKcu","CustomEventType"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.NewDay="newDay",e.CoinChange="coinChange",e.GoldChange="goldChange",e.DiamondChange="diamondChange",e.ShareTicketUpdate="shareTicketUpdate",e}();n.default=o,cc._RF.pop()},{}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"c6c4fxMJsxHDYEnKbDHNKIx","DataManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ResourcesManager"),i=e("./DataStorage"),a=e("../data/PlayerData"),r=e("../data/LevelData"),s=e("../event/CustomEventType"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._playerData=null,t._levelData=null,t._nameConfigDatas=null,t._levelConfigDatas=null,t._knifeConfigDatas=null,t._accountRankConfigDatas=null,t._accountRankCnfDatasDic={},t._ctlevelConfigDatas=[],t._isJosnLoaded=!1,t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new n,this._instance.init()),n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nameConfigDatas",{get:function(){return this._nameConfigDatas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"levelConfigDatas",{get:function(){return this._levelConfigDatas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"knifeConfigDatas",{get:function(){return this._knifeConfigDatas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accountRankConfigDatas",{get:function(){return this._accountRankConfigDatas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accountRankCnfDatasDic",{get:function(){return this._accountRankCnfDatasDic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ctlevelConfigDatas",{get:function(){return this._ctlevelConfigDatas},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.loadComfigDatas=function(e){var t=this;if(this._isJosnLoaded)e();else{var n=["LevelTable","NameTable","KnifeTable","AccountRankTable"],i=o.default.instance;i.loadJson("LevelTable",function(e,n){t._levelConfigDatas=e,r(n)}),i.loadJson("NameTable",function(e,n){t._nameConfigDatas=e,r(n)}),i.loadJson("KnifeTable",function(e,n){t._knifeConfigDatas=e,r(n)}),i.loadJson("AccountRankTable",function(e,n){t._accountRankConfigDatas=e,r(n)}),this.schedule(function t(){0==n.length&&(this.onConfigDataLoadComp(),e(),a.unschedule(t),a._isJosnLoaded=!0)},.02);var a=this}function r(e){var t=n.indexOf(e);t>=0&&n.splice(t,1)}},t.prototype.onConfigDataLoadComp=function(){for(var e=this._accountRankConfigDatas.length,t=0;t<e;t++){var n=this._accountRankConfigDatas[t];this._accountRankCnfDatasDic[n.level]||(this._accountRankCnfDatasDic[n.level]=[]),this._accountRankCnfDatasDic[n.level].push(n)}for(e=this._levelConfigDatas.length,t=0;t<e;t++){var o=this._levelConfigDatas[t];0!=o.contentType&&this._ctlevelConfigDatas.push(o)}this.updateDataEveryDay()},t.prototype.updateDataEveryDay=function(){var e=new Date;e.setDate(e.getDate()-1);var t=i.default.getItem("day",this.getLocaleDateString(e)),n=new Date(t),o=new Date(this.getLocaleDateString(new Date)),a=(o.getTime()-n.getTime())/864e5,r=function(){(o=new Date).getHours()>=6&&(cc.log("\u65b0\u7684\u4e00\u5929\u5230\u4e86"),this.getPlayerData().logindays++,this.getPlayerData().todayUseFace=!1,this.savePlayerData(),this.unschedule(r),i.default.setItem("day",this.getLocaleDateString(o)),cc.systemEvent.emit(s.default.NewDay))}.bind(this);a>=1?(this.schedule(r,5),r(0)):a<0&&i.default.setItem("day",this.getLocaleDateString(o))},t.prototype.getLocaleDateString=function(e){var t=e.getFullYear().toString(),n=e.getMonth()+1;return t+"/"+(n<10?"0"+n:n.toString())+"/"+(e.getDate()<10?"0"+e.getDate():e.getDate().toString())},t.prototype.getNowTime=function(){return Date.now()},t.prototype.getPlayerData=function(){if(null==this._playerData){this._playerData=new a.default;var e=JSON.parse(i.default.getItem("playerData"));if(e)for(var t in e)void 0!==this._playerData[t]&&(this._playerData[t]=e[t])}return this._playerData},t.prototype.savePlayerData=function(){i.default.setItem("playerData",JSON.stringify(this._playerData))},t.prototype.getLevelData=function(){if(null==this._levelData){this._levelData=new r.default;var e=JSON.parse(i.default.getItem("levelData"));if(e)for(var t in e)void 0!==this._levelData[t]&&(this._levelData[t]=e[t])}return this._levelData},t.prototype.saveLevelData=function(){i.default.setItem("levelData",JSON.stringify(this._levelData))},t.prototype.getNameConfigData=function(e){return e<=0?null:this._nameConfigDatas[e-1]},t.prototype.getLevelConfigData=function(e){return e<=0?null:this._levelConfigDatas[e-1]},t.prototype.getKnifeConfigData=function(e){return e<=0?null:this._knifeConfigDatas[e-1]},t.prototype.getLevelId=function(e){var t=this.levelConfigDatas,n=0;if(e>=t[t.length-1].stars)n=t.length-1;else for(var o=0;o<t.length-1;o++)if(e>=t[o].stars&&e<t[o+1].stars){n=o;break}return t[n].id},t.prototype.getLevel=function(e){var t=this.getLevelId(e);return n.instance.levelConfigDatas[t-1].level},n=__decorate([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{"../data/LevelData":"LevelData","../data/PlayerData":"PlayerData","../event/CustomEventType":"CustomEventType","./DataStorage":"DataStorage","./ResourcesManager":"ResourcesManager"}],DataStorage:[function(e,t,n){"use strict";cc._RF.push(t,"68008FatJBC2oG9+1Dpf9RR","DataStorage"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){}return Object.defineProperty(e,"wx",{get:function(){return this._wx||(this._wx=window.wx),this._wx},enumerable:!1,configurable:!0}),e.getItem=function(e,t){return void 0===t&&(t=null),this.getStorage(e)||t},e.getIntItem=function(e,t){return parseInt(this.getStorage(e))||t},e.getFloatItem=function(e,t){return parseFloat(this.getStorage(e))||t},e.setItem=function(e,t){this.setStorage(e,t)},e.getStorage=function(e){return this.wx?this.wx.getStorageSync(e):cc.sys.localStorage.getItem(e)},e.setStorage=function(e,t){this.wx?this.wx.setStorage({key:e,data:t}):cc.sys.localStorage.setItem(e,t)},e.removeItem=function(e){return cc.sys.localStorage.removeItem(e)},e.clearStorage=function(){this.wx&&this.wx.clearStorage()},e._wx=null,__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],DuanWei:[function(e,t,n){"use strict";cc._RF.push(t,"1de79iLlGBPfIamdZenkimw","DuanWei"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../core/DataManager"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.nameTxt=null,t.valueTxt=null,t.skins=[],t}return __extends(t,e),t.prototype.start=function(){this.showDuanWei()},t.prototype.showDuanWei=function(){var e=o.default.instance.getPlayerData().star,t=o.default.instance.levelConfigDatas,n=0;if(e>=t[t.length-1].stars)n=t.length-1;else for(var i=0;i<t.length-1;i++)if(e>=t[i].stars&&e<t[i+1].stars){n=i;break}if(n==t.length-1){this.nameTxt.string=t[n].name,this.valueTxt.string=""+o.default.instance.getPlayerData().star;var a=this.skins[this.skins.length-1];this.icon.spriteFrame=a,this.icon.node.width=a.getOriginalSize().width,this.icon.node.height=a.getOriginalSize().width}else this.nameTxt.string=t[n].name,this.valueTxt.string=o.default.instance.getPlayerData().star+"/"+t[n+1].stars,a=this.skins[t[n].id-1],this.icon.spriteFrame=a,this.icon.node.width=a.getOriginalSize().width,this.icon.node.height=a.getOriginalSize().width},__decorate([r(cc.Sprite)],t.prototype,"icon",void 0),__decorate([r(cc.Label)],t.prototype,"nameTxt",void 0),__decorate([r(cc.Label)],t.prototype,"valueTxt",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"skins",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../../core/DataManager":"DataManager"}],FailPanel:[function(e,t,n){"use strict";cc._RF.push(t,"7504bk1adBA66vY+CrfbIPm","FailPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/View"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.replayBtn=null,t.exitBtn=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.replayBtn.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene(cc.director.getScene().name)}),this.exitBtn.node.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("selector")})},__decorate([r(cc.Button)],t.prototype,"replayBtn",void 0),__decorate([r(cc.Button)],t.prototype,"exitBtn",void 0),__decorate([a],t)}(o.default);n.default=s,cc._RF.pop()},{"../base/View":"View"}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"b3027iHD85Hg43cxeD7A4Ly","GameManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameStatus=void 0;var o,i=e("../ui/common/PopupText"),a=e("./ResourcesPool"),r=e("./ResourcesManager"),s=e("../gamescene/Knife"),c=e("../gamescene/Mark"),l=e("../gamescene/Player"),u=e("../gamescene/Joystick"),p=e("../gamescene/Guide"),d=e("../util/MovieClip"),h=e("../util/Random"),f=e("../gamescene/BlackHole"),y=e("../item/Item"),m=cc._decorator,g=m.ccclass,v=m.property;(function(e){e[e.none=0]="none",e[e.start=1]="start",e[e.over=2]="over"})(o=n.GameStatus||(n.GameStatus={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.gameScene=null,t.touchPlane=null,t.playerPrefab=null,t.knifePrefab=null,t.markPrefab=null,t.killEffectPrefab=null,t.blackHolePrefab=null,t.joystick=null,t.guide=null,t.bgImgs=[],t.daoImgs=[],t.levelImgs=[],t.barrierPrefabArr=[],t.itemPrefabArr=[],t.gameStatus=o.none,t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this},t.prototype.init=function(){},t.prototype.showPopupText=function(e,t,n,o){var s=this;void 0===n&&(n=32),void 0===o&&(o=cc.Color.YELLOW);var c=a.default.instance.get(i.default);c?(c.node.setParent(this.canvas),c.node.position=e,c.showText(t,n,o)):r.default.instance.load("PopupText",function(a){(c=a.getComponent(i.default)).node.setParent(s.canvas),c.node.position=e,c.showText(t,n,o)})},t.prototype.showPopupMsg=function(e,t,n,o){void 0===n&&(n=32),void 0===o&&(o=cc.Color.YELLOW)},t.prototype.getPlayer=function(){var e=cc.instantiate(this.playerPrefab).getComponent(l.default);return e.node.position=cc.Vec2.ZERO,e.node.active=!0,e},t.prototype.getKnife=function(e){var t=a.default.instance.get(s.default);return t||((t=cc.instantiate(this.knifePrefab).getComponent(s.default)).node.position=cc.Vec2.ZERO,t.type=e,t.node.active=!0,t)},t.prototype.getMark=function(){var e=cc.instantiate(this.markPrefab).getComponent(c.default);return e.node.position=cc.Vec2.ZERO,e.node.active=!0,e},t.prototype.getKillEffect=function(){var e=cc.instantiate(this.killEffectPrefab).getComponent(d.default);return e.node.position=cc.Vec2.ZERO,e.node.active=!0,e},t.prototype.getRandomBarrier=function(e){var t=null;return(t=0==e?cc.instantiate(this.barrierPrefabArr[h.default.RangeInteger(0,4)]):cc.instantiate(this.barrierPrefabArr[h.default.RangeInteger(4,this.barrierPrefabArr.length)])).position=cc.Vec2.ZERO,t.rotation=h.default.RangeInteger(0,360),t.active=!0,t},t.prototype.getBlackHole=function(){var e=cc.instantiate(this.blackHolePrefab);return e.position=cc.Vec2.ZERO,e.active=!0,e.getComponent(f.default)},t.prototype.getItemByType=function(e){var t=cc.instantiate(this.itemPrefabArr[e-1]);return t.position=cc.Vec2.ZERO,t.active=!0,t.getComponent(y.default)},t.gameTimes=0,__decorate([v(cc.Node)],t.prototype,"canvas",void 0),__decorate([v(cc.Node)],t.prototype,"gameScene",void 0),__decorate([v(cc.Node)],t.prototype,"touchPlane",void 0),__decorate([v(cc.Prefab)],t.prototype,"playerPrefab",void 0),__decorate([v(cc.Prefab)],t.prototype,"knifePrefab",void 0),__decorate([v(cc.Prefab)],t.prototype,"markPrefab",void 0),__decorate([v(cc.Prefab)],t.prototype,"killEffectPrefab",void 0),__decorate([v(cc.Prefab)],t.prototype,"blackHolePrefab",void 0),__decorate([v(u.default)],t.prototype,"joystick",void 0),__decorate([v(p.default)],t.prototype,"guide",void 0),__decorate([v(cc.SpriteFrame)],t.prototype,"bgImgs",void 0),__decorate([v(cc.SpriteFrame)],t.prototype,"daoImgs",void 0),__decorate([v(cc.SpriteFrame)],t.prototype,"levelImgs",void 0),__decorate([v(cc.Prefab)],t.prototype,"barrierPrefabArr",void 0),__decorate([v(cc.Prefab)],t.prototype,"itemPrefabArr",void 0),n=__decorate([g],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../gamescene/BlackHole":"BlackHole","../gamescene/Guide":"Guide","../gamescene/Joystick":"Joystick","../gamescene/Knife":"Knife","../gamescene/Mark":"Mark","../gamescene/Player":"Player","../item/Item":"Item","../ui/common/PopupText":"PopupText","../util/MovieClip":"MovieClip","../util/Random":"Random","./ResourcesManager":"ResourcesManager","./ResourcesPool":"ResourcesPool"}],GameScene:[function(e,t,n){"use strict";cc._RF.push(t,"d4e1bWErCJGeY9M0ENtxngp","GameScene"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=e("../ui/UIManager"),a=e("../core/GameManager"),r=e("./Knife"),s=e("../util/Random"),c=e("../util/Clock"),l=e("../core/DataManager"),u=e("../wx/WXSdk"),p=e("./Wall"),d=e("../item/Item"),h=e("./PlayerAI"),f=e("./CameraFollow"),y=e("../core/SoundManager"),m=e("../audio/SoundClip"),g=e("../audio/BgSoundClip"),v=cc._decorator,_=v.ccclass,S=v.property,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sceneSize=null,t.player=null,t.clock=null,t.cdTxt=null,t.wall=null,t.bg=null,t.halfSize=cc.Size.ZERO,t.knifeNum=25,t.knifeArr=[],t.playerArr=[],t.rank=8,t.skinIndexArr=[],t.nameIndexArr=[],t.aiPlayerCount=7,t.aiNameIndexArr=[],t.levelConfigData=null,t.blackHole=null,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.Vec2.ZERO,this.halfSize.width=(this.sceneSize.width-cc.winSize.width)/2,this.halfSize.height=(this.sceneSize.height-cc.winSize.height)/2,this.player.initKnife(3),this.player.showface=l.default.instance.getPlayerData().todayUseFace},t.prototype.start=function(){y.default.instance.PlayBGSound(g.BgSoundClipType.main),this.clock.node.active=!1,this.cdTxt.node.active=!1,this.playerArr.push(this.player),this.player.skin=1,u.default.instance.isWXPlatform()?u.default.instance.isLogin?this.onWxLogin():(this.player.setName(""),cc.systemEvent.on("wxLogin",this.onWxLogin,this)):this.player.setName("\u5c0f\u674e\u98de\u5200");for(var e=0;e<this.aiPlayerCount;e++)this.aiNameIndexArr.push(this.getRandomNameIndex())},t.prototype.onWxLogin=function(){this.player.setName(u.default.instance.nickname)},t.prototype.startGame=function(){var e=this;a.default.instance.gameStatus=a.GameStatus.start,a.default.gameTimes++,l.default.instance.getPlayerData().games++,l.default.instance.savePlayerData();var t=l.default.instance.getPlayerData().star,n=l.default.instance.getLevelId(t);this.levelConfigData=l.default.instance.levelConfigDatas[n-1],l.default.instance.levelConfigDatas,a.default.instance.guide.node.active=n<=5,this.initBarriers(),this.initAIPlayer(this.aiPlayerCount),this.initKnifes(this.knifeNum),this.initMark(),this.player.onGameStart(),this.clock.node.active=!0,this.clock.hms=2,this.clock.timeLength=151;var r=this.clock.getComponentInChildren(cc.Label);r.string=""+this.clock.timeLength,this.clock.Play(function(t,n,o,i,c){if(100!=c&&70!=c&&40!=c||e.wall.shrink(),e.clock.currentCount%25==0){var l=0;e.blackHole&&(l=Math.ceil(e.blackHole.knifecount/2),e.blackHole.knifecount=0),e.initKnifes(5+l)}if(""!=e.levelConfigData.hotWheels){var u=e.levelConfigData.hotWheels.split("-");c%Number(u[0])==0&&e.initItem(Number(u[1]),d.ItemType.fhl)}if(""!=e.levelConfigData.speedUp&&(u=e.levelConfigData.speedUp.split("-"),c%Number(u[0])==0&&e.initItem(Number(u[1]),d.ItemType.rocket)),""!=e.levelConfigData.magnet&&(u=e.levelConfigData.magnet.split("-"),c%Number(u[0])==0&&e.initItem(Number(u[1]),d.ItemType.magnet)),120==c&&0!=e.levelConfigData.blackHole){var p=e.sceneSize.width/2-350,h=e.sceneSize.height/2-350;e.blackHole=a.default.instance.getBlackHole(),e.blackHole.node.parent=e.node,e.blackHole.node.position=cc.v2(s.default.Range(-p,p),s.default.Range(-h,h))}r.string=""+c,c<=5&&(e.cdTxt.node.active=!0,e.cdTxt.string=""+c,y.default.instance.playAudioClip(m.SoundClipType.dida)),0==c&&(e.cdTxt.node.active=!1)},function(){e.clock.Stop();for(var t=[],n=0;n<e.playerArr.length;n++)e.playerArr[n].status!=o.PlayerStatus.die&&1==e.playerArr[n].rank&&t.push(e.playerArr[n]);for(t.sort(function(e,t){if(e.killCount>t.killCount)return-1;if(e.killCount<t.killCount)return 1;var n=e.knifePool.knifes.length,o=t.knifePool.knifes.length;return n>o?-1:n<o?1:0}),n=0;n<t.length;n++)t[n].rank=n+1;e.gameOver()}),i.default.instance.rankUI.node.active=!0},t.prototype.gameOver=function(){a.default.instance.gameStatus=a.GameStatus.over,this.scheduleOnce(function(){i.default.instance.rankUI.node.active=!1,i.default.instance.accountUI.open()},1.8)},t.prototype.initBarriers=function(){var e=this.sceneSize.width/2-350,t=this.sceneSize.height/2-350;if(""!=this.levelConfigData.meteor)for(var n=this.levelConfigData.meteor.split("-"),o=s.default.RangeInteger(Number(n[0]),Number(n[0])),i=0;i<o;i++)(r=a.default.instance.getRandomBarrier(0)).parent=this.node,r.position=cc.v2(s.default.Range(-e,e),s.default.Range(-t,t));if(""!=this.levelConfigData.movMeteor)for(n=this.levelConfigData.movMeteor.split("-"),o=s.default.RangeInteger(Number(n[0]),Number(n[0])),i=0;i<o;i++){var r;(r=a.default.instance.getRandomBarrier(1)).parent=this.node,r.position=cc.v2(s.default.Range(-e,e),s.default.Range(-t,t))}},t.prototype.initItem=function(e,t){void 0===t&&(t=d.ItemType.none);for(var n=this.sceneSize.width/2-150,o=this.sceneSize.height/2-150,i=0;i<e;i++){var r=null;(r=t==d.ItemType.none?a.default.instance.getItemByType(s.default.RangeInteger(1,4)):a.default.instance.getItemByType(t)).node.parent=this.node,r.node.position=cc.v2(s.default.Range(-n,n),s.default.Range(-o,o))}},t.prototype.initAIPlayer=function(e){for(var t=[],n=1;n<=4;n++)for(var o=0;o<this.levelConfigData["ailv"+n];o++)t.push(n);for(n=0;n<e;n++){var i=a.default.instance.getPlayer();i.node.parent=this.node,i.isAI=!0,i.showface=s.default.Range(0,10)<3,i.getComponent(h.default).aiLevel=t[n]?t[n]:h.PlayerAILevel.level1,i.onGameStart(),i.randomKnifeSkin(),i.getComponent(h.default).onGameStart();var r=s.default.RangeInteger(0,this.getSkinIndexArr().length),c=this.getSkinIndexArr()[r];this.getSkinIndexArr().splice(r,1),i.skin=c,i.setName(l.default.instance.nameConfigDatas[this.aiNameIndexArr[n]].name),this.playerArr.push(i);var u=this.sceneSize.width/2-150,p=this.sceneSize.height/2-150;i.node.position=cc.v2(s.default.Range(-u,u),s.default.Range(-p,p))}},t.prototype.getSkinIndexArr=function(){if(0==this.skinIndexArr.length){for(var e=1;e<=8;e++)this.skinIndexArr.push(e);var t=this.skinIndexArr.indexOf(this.player.skin);-1!=t&&this.skinIndexArr.splice(t,1)}return this.skinIndexArr},t.prototype.getRandomNameIndex=function(){var e=s.default.RangeInteger(0,this.getNameIndexArr().length),t=this.getNameIndexArr()[e];return this.getNameIndexArr().splice(e,1),t},t.prototype.getNameIndexArr=function(){if(0==this.nameIndexArr.length){l.default.instance.nameConfigDatas;for(var e=0;e<50;e++)this.nameIndexArr.push(e)}return this.nameIndexArr},t.prototype.playerKilled=function(e,t){e.killCount++,t.rank=this.rank,this.rank--;var n=a.default.instance.getKillEffect();if(n.node.color=t.body.node.color,n.node.parent=this.node,n.node.position=t.node.position,e.changeFace(2,1.5),e==this.player&&(l.default.instance.getPlayerData().kills++,4==this.player.killCount?l.default.instance.getPlayerData().kills4++:5==this.player.killCount?l.default.instance.getPlayerData().kills5++:6==this.player.killCount&&l.default.instance.getPlayerData().kills6++,l.default.instance.savePlayerData()),i.default.instance.messageUI.showMessage(e,t),t.isAI){e.isAI||(u.default.instance.vibrateShort(),f.default.instance.shake(1),y.default.instance.playAudioClip(m.SoundClipType.killMam));for(var r=this.getComponentsInChildren(o.default),s=!0,c=0;c<r.length;c++)if(r[c].node.active&&r[c].isAI&&r[c].status!=o.PlayerStatus.die){s=!1;break}s&&(this.clock.Stop(),this.gameOver())}else u.default.instance.vibrateLong(),f.default.instance.shake(1),this.clock.Stop(),this.gameOver()},t.prototype.initKnifes=function(e){for(var t=0;t<e;t++){var n=a.default.instance.getKnife(r.KnifeType.normal),o=this.sceneSize.width/2-150,i=this.sceneSize.height/2-150;n.node.rotation=s.default.Range(0,360),n.node.position=cc.v2(s.default.Range(-o,o),s.default.Range(-i,i)),this.addKnife(n)}},t.prototype.initMark=function(){for(var e=this.getComponentsInChildren(o.default),t=0;t<e.length;t++){var n=e[t];if(n.isAI&&n.node.active){var r=a.default.instance.getMark();r.node.parent=i.default.instance.getLayer(i.LayerType.back),r.player=this.player,r.targetPlayer=n}}},t.prototype.addKnife=function(e){e.node.parent&&e.node.parent.removeChild(e.node),this.node.addChild(e.node,0),-1==this.knifeArr.indexOf(e)&&this.knifeArr.push(e),this.node.emit("knifesChange",{})},t.prototype.removeKnife=function(e){var t=this.knifeArr.indexOf(e);-1!=t&&this.knifeArr.splice(t,1),this.node.emit("knifesChange",{})},t.prototype.onDestroy=function(){cc.systemEvent.off("wxLogin",this.onWxLogin,this)},t.levelMax=1,t.levelMin=1,__decorate([S(cc.Node)],t.prototype,"sceneSize",void 0),__decorate([S(o.default)],t.prototype,"player",void 0),__decorate([S(c.default)],t.prototype,"clock",void 0),__decorate([S(cc.Label)],t.prototype,"cdTxt",void 0),__decorate([S(p.default)],t.prototype,"wall",void 0),__decorate([S(cc.Sprite)],t.prototype,"bg",void 0),__decorate([_],t)}(cc.Component);n.default=k,cc._RF.pop()},{"../audio/BgSoundClip":"BgSoundClip","../audio/SoundClip":"SoundClip","../core/DataManager":"DataManager","../core/GameManager":"GameManager","../core/SoundManager":"SoundManager","../item/Item":"Item","../ui/UIManager":"UIManager","../util/Clock":"Clock","../util/Random":"Random","../wx/WXSdk":"WXSdk","./CameraFollow":"CameraFollow","./Knife":"Knife","./Player":"Player","./PlayerAI":"PlayerAI","./Wall":"Wall"}],Guide:[function(e,t,n){"use strict";cc._RF.push(t,"8069eAiwitAFqEk/ApiAoTv","Guide"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../util/MovieClip"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msgTxt=null,t.guideMovieClip=null,t}return __extends(t,e),t.prototype.start=function(){this.node.position=cc.Vec2.ZERO,this.guideMovieClip.node.active=!1;var e=this;this.scheduleOnce(function(){e.guideMovieClip.node.active=!0,e.scheduleOnce(function(){e.guideMovieClip.node.destroy()},5)},1),this.msgTxt.string="";var t=0,n=["\u677e\u5f00\u624b\u6307\u9f9f\u7f29\u9632\u5fa1","\u6309\u4f4f\u5c4f\u5e55\u79fb\u52a8\u6361\u5200","\u653b\u51fb\u654c\u4eba\u5706\u5fc3"];this.schedule(function(){t<n.length?e.msgTxt.string=n[t]:e.node.destroy(),t++},4,3)},t.prototype.update=function(){},__decorate([r(cc.Label)],t.prototype,"msgTxt",void 0),__decorate([r(o.default)],t.prototype,"guideMovieClip",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../util/MovieClip":"MovieClip"}],Item:[function(e,t,n){"use strict";cc._RF.push(t,"80113nWi9FNLaCAbUWEg+lL","Item"),Object.defineProperty(n,"__esModule",{value:!0}),n.ItemType=void 0;var o,i=cc._decorator,a=i.ccclass,r=i.property;(function(e){e[e.none=0]="none",e[e.fhl=1]="fhl",e[e.rocket=2]="rocket",e[e.magnet=3]="magnet"})(o=n.ItemType||(n.ItemType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.none,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.destroySelf=function(){this.node.destroy()},__decorate([r({type:cc.Enum(o)})],t.prototype,"type",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],Joystick:[function(e,t,n){"use strict";cc._RF.push(t,"8a090NbeXdJc6B23POj/ba4","Joystick"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GameScene"),i=e("../core/GameManager"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cursor=null,t.gameScene=null,t}return __extends(t,e),t.prototype.start=function(){this.gameScene=i.default.instance.gameScene.getComponent(o.default),this.node.scale=2.5},t.prototype.cursorTo=function(e){this.cursor.position=e.mul(20)},t.prototype.show=function(){this.node.active=!0},t.prototype.hidden=function(){this.node.active=!1},__decorate([s(cc.Node)],t.prototype,"cursor",void 0),__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../core/GameManager":"GameManager","./GameScene":"GameScene"}],KnifeConfigData:[function(e,t,n){"use strict";cc._RF.push(t,"e52e3edNXtK2JDsmnrqGLlC","KnifeConfigData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.id=0,this.stars=0,this.num1=0,this.straking=0,this.logindays=0,this.knives=0,this.timelimitnum1=0,this.kills=0,this.games=0,this.kills4=0,this.kills5=0,this.kills6=0},cc._RF.pop()},{}],KnifePool:[function(e,t,n){"use strict";cc._RF.push(t,"c4bdd116CZJqJdKFHYxqqqR","KnifePool"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=e("./Knife"),a=e("../util/Random"),r=e("../core/GameManager"),s=e("../core/DataManager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.radius=125,t.rotaSpeed=180,t.rotaAngle=0,t.knifes=[],t.limitNum=25,t.baseNum=100,t}return __extends(t,e),t.prototype.start=function(){this.knifes=this.getComponentsInChildren(i.default),this.changeDefenceState()},t.prototype.update=function(e){this.rotaAngle-=e*this.rotaSpeed*this.player.rotaSpeedUp,this.rotaAngle%=360,this.node.angle=this.rotaAngle},t.prototype.initKnife=function(e){for(var t=this.knifes.slice(),n=0;n<t.length;n++)this.removeKnife(t[n]),t[n].destroySelf();for(n=0;n<e;n++){var o=r.default.instance.getKnife(i.KnifeType.normal);this.addKnife(o)}},t.prototype.addKnife=function(e){if(-1==this.knifes.indexOf(e)){if(null!=e.node.parent){var t=e.node.parent.convertToWorldSpaceAR(e.node.position),n=this.node.convertToNodeSpaceAR(t);e.node.position=n}e.node.parent=this.node,e.player=this.player,e.status=i.KnifeStatus.capture,e.setSkin(this.player.knifeId),this.knifes.push(e),this.player.isAI||this.knifes.length>s.default.instance.getPlayerData().knives&&(s.default.instance.getPlayerData().knives=this.knifes.length,s.default.instance.saveLevelData()),this.player.status==o.PlayerStatus.defence?this.changeDefenceState():this.player.status==o.PlayerStatus.attack&&this.changeAttackState()}},t.prototype.updateKnifesSkin=function(e){for(var t=this.knifes.length,n=0;n<t;n++)this.knifes[n].setSkin(e)},t.prototype.removeKnife=function(e){var t=this.knifes.indexOf(e);-1!=t&&(this.knifes.splice(t,1),this.player.status==o.PlayerStatus.defence?this.changeDefenceState():this.player.status==o.PlayerStatus.attack&&this.changeAttackState())},t.prototype.disposeAllKnifes=function(){for(var e=this.knifes.slice(),t=0;t<e.length;t++){var n=cc.v2(a.default.Range(-1,1),a.default.Range(-1,1)).normalize();e[t].fly(n)}},t.prototype.changeDefenceState=function(){var e=this.knifes.length,t=2*Math.PI/e,n=360/e,o=e<10?10:e,i=e/this.baseNum+(1-this.limitNum/this.baseNum);this.radius=133.9308*i+5.3564*o,this.rotaSpeed=144,this.player.size=(115+1.94*e)/115,this.player.pickRadius=this.radius;for(var a=0;a<e;a++){var r=this.knifes[a];r.node.stopAllActions(),e>=this.limitNum?r.node.scale=(a%5+1)/5*.6+.75:r.node.scale=i;var s=cc.v2(this.radius*Math.cos(a*t),this.radius*Math.sin(a*t));r.setPos(s),r.setRota(90-a*n)}},t.prototype.changeAttackState=function(){var e=this.knifes.length,t=2*Math.PI/e,n=360/e,o=e<10?10:e,i=e/this.baseNum+(1-this.limitNum/this.baseNum);this.radius=133.9308*i+5.3564*o+90*i,this.rotaSpeed=160,this.player.size=(115+1.94*e)/115,this.player.pickRadius=this.radius;for(var a=0;a<e;a++){var r=this.knifes[a];r.node.stopAllActions(),e>=this.limitNum?r.node.scale=(a%5+1)/5*.6+.75:r.node.scale=i;var s=cc.v2(this.radius*Math.cos(a*t),this.radius*Math.sin(a*t));r.setPos(s),r.setRota(180-a*n)}},__decorate([u(o.default)],t.prototype,"player",void 0),__decorate([l],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../core/DataManager":"DataManager","../core/GameManager":"GameManager","../util/Random":"Random","./Knife":"Knife","./Player":"Player"}],Knife:[function(e,t,n){"use strict";cc._RF.push(t,"42a9bdmWaRJLKhRV5/o+TYs","Knife"),Object.defineProperty(n,"__esModule",{value:!0}),n.KnifeStatus=n.KnifeType=void 0;var o,i,a=e("../core/ResourcesPool"),r=e("./Player"),s=e("../util/Random"),c=e("./KnifePool"),l=e("../core/GameManager"),u=e("./GameScene"),p=e("../wx/WXSdk"),d=e("./BlackHole"),h=e("./CameraFollow"),f=e("../core/SoundManager"),y=e("../audio/SoundClip"),m=cc._decorator,g=m.ccclass,v=m.property;(function(e){e[e.normal=0]="normal",e[e.red=1]="red",e[e.green=2]="green"})(o=n.KnifeType||(n.KnifeType={})),function(e){e[e.normal=0]="normal",e[e.capture=1]="capture",e[e.fly=2]="fly",e[e.absorb=3]="absorb"}(i=n.KnifeStatus||(n.KnifeStatus={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.normal,t.skin=null,t.status=i.normal,t.player=null,t.damage=30,t.rotaSpeed=90,t.rotaAngle=0,t.targetAngle=0,t.targetPos=cc.Vec2.ZERO,t.halfSize=cc.Size.ZERO,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){this.baseScale=this.node.scale},t.prototype.start=function(){this.gameScene=l.default.instance.gameScene.getComponent(u.default),this.skin.node.width=this.skin.spriteFrame.getRect().width,this.skin.node.height=this.skin.spriteFrame.getRect().height},t.prototype.setSkin=function(e){var t=l.default.instance.daoImgs[e-1];this.skin.spriteFrame=t,this.skin.node.width=t.getRect().width,this.skin.node.height=t.getRect().height},t.prototype.update=function(){if(this.node.parent==l.default.instance.gameScene){this.halfSize.width=(this.gameScene.sceneSize.width-this.node.width)/2,this.halfSize.height=(this.gameScene.sceneSize.height-this.node.height)/2;var e=this.node.position;e.x<-this.halfSize.width?e.x=-this.halfSize.width:e.x>this.halfSize.width&&(e.x=this.halfSize.width),e.y<-this.halfSize.height?e.y=-this.halfSize.height:e.y>this.halfSize.height&&(e.y=this.halfSize.height),this.node.position=e}},t.prototype.onCollisionEnter=function(e){if(0==e.tag);else if(1==e.tag){if(this.status==i.capture){var t=e.getComponent(n);if(t&&t.status==i.capture&&t.player&&t.player!=this.player){this.player.isAI&&t.player.isAI||(p.default.instance.vibrateShort(),h.default.instance.shake(),f.default.instance.playAudioClip(y.SoundClipType.kfhit));var o=this.node.position.sub(t.node.position).normalize();t.player.status==r.PlayerStatus.attack&&t.fly(o.mul(-1)),this.player.status==r.PlayerStatus.attack&&this.fly(o)}}}else 2==e.tag?this.status!=i.capture&&this.status!=i.fly||(this.player&&!this.player.isAI&&(p.default.instance.vibrateShort(),h.default.instance.shake(),f.default.instance.playAudioClip(y.SoundClipType.kfhit)),o=this.node.position.sub(e.node.position).normalize(),this.fly(o)):5==e.tag&&this.absorbed(e.node.parent.getComponent(d.default))},t.prototype.fly=function(e){var t=this;if(void 0===e&&(e=cc.Vec2.ONE),this.status==i.capture){this.status=i.fly;var n=this.node.parent.getComponent(c.default);n&&n.removeKnife(this)}if(this.node.parent!=l.default.instance.gameScene){var o=this.node.parent.convertToWorldSpaceAR(this.node.position),a=l.default.instance.gameScene.convertToNodeSpaceAR(o);this.node.position=a}this.node.parent=l.default.instance.gameScene,this.player=null,this.node.stopAllActions(),this.node.scale=1;var r=s.default.Range(.65,1),p=cc.spawn(cc.moveBy(r,e.mul(s.default.Range(360,540))).easing(cc.easeCubicActionOut()),cc.rotateBy(r,1080).easing(cc.easeCubicActionOut())),d=cc.sequence(p,cc.callFunc(function(){t.status=i.normal,l.default.instance.gameScene.getComponent(u.default).addKnife(t)},this));this.node.runAction(d)},t.prototype.absorbed=function(e){var t=this;if(e.appear&&this.status!=i.absorb){if(this.status==i.capture){var n=this.node.parent.getComponent(c.default);n&&n.removeKnife(this)}if(this.status=i.absorb,this.node.parent!=e.node){var o=this.node.parent.convertToWorldSpaceAR(this.node.position),a=e.node.convertToNodeSpaceAR(o);this.node.position=a}this.node.parent=e.node,this.player=null,this.node.stopAllActions(),this.node.scale=1;var r=cc.Vec2.ZERO.sub(this.node.position).normalize(),p=90-180*Math.atan2(r.y,r.x)/Math.PI;this.node.runAction(cc.rotateTo(.15,p)),s.default.Range(.65,1);var d=cc.spawn(cc.moveTo(.45,cc.Vec2.ZERO),cc.fadeTo(.45,25),cc.scaleTo(.45,.25)),h=cc.sequence(d,cc.callFunc(function(){e.eat(t),t.status=i.normal,l.default.instance.gameScene.getComponent(u.default).removeKnife(t),t.destroySelf()},this));this.node.runAction(h)}},t.prototype.setRota=function(e){l.default.instance.gameStatus,l.GameStatus.start,this.node.runAction(cc.rotateTo(.1,e))},t.prototype.setPos=function(e){var t=this.node.position.sub(e).mag()/1e3;this.node.runAction(cc.moveTo(t,e))},t.prototype.rotateTowards=function(){},t.prototype.setScale=function(e){this.node.scale=this.baseScale*e},t.prototype.getKey=function(){return"Knife"},t.prototype.awake=function(){this.node.position=cc.Vec2.ZERO,this.node.active=!0,this.node.color=cc.Color.WHITE,this.node.opacity=255,this.node.scale=1,this.status=i.normal,this.gameScene=l.default.instance.gameScene.getComponent(u.default)},t.prototype.sleep=function(){this.node.stopAllActions(),this.node.parent=null,this.node.active=!1,this.status=i.normal},t.prototype.destroySelf=function(){a.default.instance.put(this,50)},__decorate([v({type:cc.Enum(o)})],t.prototype,"type",void 0),__decorate([v(cc.Sprite)],t.prototype,"skin",void 0),n=__decorate([g],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../audio/SoundClip":"SoundClip","../core/GameManager":"GameManager","../core/ResourcesPool":"ResourcesPool","../core/SoundManager":"SoundManager","../util/Random":"Random","../wx/WXSdk":"WXSdk","./BlackHole":"BlackHole","./CameraFollow":"CameraFollow","./GameScene":"GameScene","./KnifePool":"KnifePool","./Player":"Player"}],Launch:[function(e,t,n){"use strict";cc._RF.push(t,"a2ba48HWfxEZ4M3U/wR+iUC","Launch"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){cc.director.loadScene("main")},__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],LevelConfigData:[function(e,t,n){"use strict";cc._RF.push(t,"2ba317HCg9Gor8PkV4RXy62","LevelConfigData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.id=1,this.name="",this.level=0,this.uplevel=0,this.stars=0,this.meteor="",this.movMeteor="",this.blackHole=0,this.speedUp="",this.hotWheels="",this.magnet="",this.newContent="",this.contentType=0,this.ailv1=0,this.ailv2=0,this.ailv3=0,this.ailv4=0},cc._RF.pop()},{}],LevelData:[function(e,t,n){"use strict";cc._RF.push(t,"90b2c5e4idLdbllZpz2o3eD","LevelData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],LevelIcon:[function(e,t,n){"use strict";cc._RF.push(t,"8a516H4mcJAb7hInBhucHS5","LevelIcon"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../core/DataManager"),i=e("../../core/GameManager"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.uplevel=null,t.upelementArr=[],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.updatePlayerSkin=function(){var e=o.default.instance.getLevelId(o.default.instance.getPlayerData().star);this.updateSkin(e)},t.prototype.updateSkin=function(e,t){void 0===t&&(t=!0);var n=o.default.instance.levelConfigDatas[e-1],a=i.default.instance.levelImgs[n.level-1];if(this.icon.spriteFrame=a,this.icon.node.width=a.getRect().width,this.icon.node.height=a.getRect().height,t)if(0==n.uplevel)this.uplevel.active=!1;else{this.uplevel.active=!0;for(var r=0;r<this.upelementArr.length;r++)r<n.uplevel?this.upelementArr[r].getChildByName("upstate").active=!0:this.upelementArr[r].getChildByName("upstate").active=!1}else this.uplevel.active=!1},__decorate([s(cc.Sprite)],t.prototype,"icon",void 0),__decorate([s(cc.Node)],t.prototype,"uplevel",void 0),__decorate([s(cc.Node)],t.prototype,"upelementArr",void 0),__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../../core/DataManager":"DataManager","../../core/GameManager":"GameManager"}],LevelMessageUI:[function(e,t,n){"use strict";cc._RF.push(t,"5449f0wN5pH8aXxO522sGOD","LevelMessageUI"),Object.defineProperty(n,"__esModule",{value:!0}),n.ContentType=void 0;var o=e("./LevelIcon"),i=e("../base/BaseUI"),a=e("../../core/DataManager"),r=e("../../util/Mathf"),s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e.none=0]="none",e[e.fhl=1]="fhl",e[e.rocket=2]="rocket",e[e.magnet=3]="magnet",e[e.blackHole=10]="blackHole",e[e.staticMeteor=11]="staticMeteor",e[e.moveMeteor=12]="moveMeteor",e[e.other=100]="other"})(n.ContentType||(n.ContentType={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.panel=null,t.touchPlane=null,t.title=null,t.levelIcon=null,t.contentIcon=null,t.leftBtn=null,t.rightBtn=null,t.unlockTxt=null,t.detailTxt=null,t.contentImgArr=[],t.contentIndex=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.basePos=this.node.position,this.scheduleOnce(function(){e.close()},.01)},t.prototype.start=function(){var e=this,t=a.default.instance.ctlevelConfigDatas.length;this.touchPlane.on(cc.Node.EventType.TOUCH_START,function(){e.close()},this),this.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(){e.contentIndex=r.default.clamp(e.contentIndex-1,0,t-1),e.showMsg()},this),this.rightBtn.node.on(cc.Node.EventType.TOUCH_START,function(){e.contentIndex=r.default.clamp(e.contentIndex+1,0,t-1),e.showMsg()},this);var n=a.default.instance.getLevel(a.default.instance.getPlayerData().star);this.contentIndex=n-1},t.prototype.showMsg=function(){var e=a.default.instance.ctlevelConfigDatas[this.contentIndex];this.levelIcon.updateSkin(e.id,!1),this.unlockTxt.string="\u83b7\u5f97"+e.stars+"\u661f\u89e3\u9501",this.detailTxt.string=e.newContent,100==e.contentType?(this.title.active=!1,this.detailTxt.node.x=110,this.detailTxt.node.y=-18):(this.title.active=!0,this.detailTxt.node.x=158,this.detailTxt.node.y=-43),this.contentIcon.spriteFrame=this.contentImgArr[e.contentType]},t.prototype.open=function(){e.prototype.open.call(this),this.touchPlane.active=!0,this.panel.stopAllActions(),this.panel.y=-250,this.panel.runAction(cc.moveTo(.65,0,0).easing(cc.easeCubicActionOut())),this.showMsg()},t.prototype.close=function(){var t=this;this.panel.stopAllActions(),this.touchPlane.active=!1;var n=cc.sequence(cc.moveTo(.65,0,-250).easing(cc.easeCubicActionOut()),cc.callFunc(function(){e.prototype.close.call(t)},this));this.panel.runAction(n)},__decorate([l(cc.Node)],t.prototype,"panel",void 0),__decorate([l(cc.Node)],t.prototype,"touchPlane",void 0),__decorate([l(cc.Node)],t.prototype,"title",void 0),__decorate([l(o.default)],t.prototype,"levelIcon",void 0),__decorate([l(cc.Sprite)],t.prototype,"contentIcon",void 0),__decorate([l(cc.Button)],t.prototype,"leftBtn",void 0),__decorate([l(cc.Button)],t.prototype,"rightBtn",void 0),__decorate([l(cc.Label)],t.prototype,"unlockTxt",void 0),__decorate([l(cc.Label)],t.prototype,"detailTxt",void 0),__decorate([l(cc.SpriteFrame)],t.prototype,"contentImgArr",void 0),__decorate([c],t)}(i.default);n.default=u,cc._RF.pop()},{"../../core/DataManager":"DataManager","../../util/Mathf":"Mathf","../base/BaseUI":"BaseUI","./LevelIcon":"LevelIcon"}],MainUI:[function(e,t,n){"use strict";cc._RF.push(t,"442c8WlqyBFWqEM6A26dU1o","MainUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../gamescene/GameScene"),i=e("../base/BaseUI"),a=e("../../core/GameManager"),r=e("../../core/DataManager"),s=e("../UIManager"),c=e("../../wx/WXSdk"),l=e("../../gamescene/PlayerController"),u=e("./LevelIcon"),p=e("./TryOutUI"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.leftBtn=null,t.rightBtn=null,t.startBtn=null,t.tryOutBtn=null,t.addknifeBtn=null,t.butSkins=[],t.lookBtn=null,t.planetSkinBtn=null,t.levelIcon=null,t.starValueTxt=null,t.conditionTxt=null,t.progressTxt=null,t.playerMsg=null,t.gameScene=null,t.btnIndex=0,t.btnNames=["\u5f00\u5c406\u628a\u5200","\u5f00\u5c40\u52a0\u901f","\u514d\u8d39\u8868\u60c5","","","",""],t.lookVidioKfIdDic={},t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){this.basePos=cc.v2(-2500,0)},t.prototype.start=function(){var e=this;this.node.position=cc.Vec2.ZERO,this.gameScene=a.default.instance.gameScene.getComponent(o.default),this.gameScene.player.node.parent=this.node,this.updateKnifeMsg(),this.leftBtn.node.on(cc.Node.EventType.TOUCH_START,function(){e.gameScene.player.knifeId>1&&(e.gameScene.player.knifeId-=1,e.gameScene.player.getComponent(l.default).zoomRatio=2,e.gameScene.player.updateKnifesSkin(),e.gameScene.player.changeAttackState(),e.updateKnifeMsg())},this),this.rightBtn.node.on(cc.Node.EventType.TOUCH_START,function(){e.gameScene.player.knifeId<r.default.instance.knifeConfigDatas.length&&(e.gameScene.player.knifeId+=1,e.gameScene.player.getComponent(l.default).zoomRatio=2,e.gameScene.player.updateKnifesSkin(),e.gameScene.player.changeAttackState(),e.updateKnifeMsg())},this),this.leftBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.gameScene.player.changeDefenceState(),e.gameScene.player.getComponent(l.default).zoomRatio=1},this),this.rightBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.gameScene.player.changeDefenceState(),e.gameScene.player.getComponent(l.default).zoomRatio=1},this),this.leftBtn.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.gameScene.player.changeDefenceState(),e.gameScene.player.getComponent(l.default).zoomRatio=1},this),this.rightBtn.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.gameScene.player.changeDefenceState(),e.gameScene.player.getComponent(l.default).zoomRatio=1},this),this.startBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.gameScene.player.node.parent=e.gameScene.node,s.default.instance.matchingUI.open(),e.close(),c.default.instance.removeBanner(),cc.log("open matchingui")},this),this.tryOutBtn.node.on(cc.Node.EventType.TOUCH_END,function(){var t=e.gameScene.player.knifeId;c.default.instance.showVideo("adunit-82c0e31583967848",function(n){0!=n&&(e.lookVidioKfIdDic[t]=!0,e.updateKnifeMsg())})},this),this.addknifeBtn.node.on(cc.Node.EventType.TOUCH_START,function(){var t=e.btnIndex;c.default.instance.shareToAnyOne(function(){switch(t){case 0:e.gameScene.player.initKnife(6);break;case 1:e.gameScene.player.rocketItemEffect();break;case 2:e.gameScene.player.showface=!0}},function(){})},this),this.lookBtn.node.on(cc.Node.EventType.TOUCH_END,function(){s.default.instance.wxOpenDataUI.openRankUI()},this),c.default.instance.isWXPlatform()||(this.lookBtn.node.active=!1),this.planetSkinBtn.node.on(cc.Node.EventType.TOUCH_END,function(){},this),this.playerMsg.on(cc.Node.EventType.TOUCH_START,function(){s.default.instance.levelMessageUI.open()},this),this.levelIcon.node.on(cc.Node.EventType.TOUCH_START,function(){s.default.instance.levelMessageUI.open()},this),c.default.instance.isWXPlatform()&&(c.default.instance.isLogin?this.onWxLogin():(this.playerMsg.getChildByName("NameTxt").getComponent(cc.Label).string="",cc.systemEvent.on("wxLogin",this.onWxLogin,this)));var t=r.default.instance.getLevelId(r.default.instance.getPlayerData().star),i=r.default.instance.levelConfigDatas;t==i.length?this.starValueTxt.string=""+r.default.instance.getPlayerData().star:this.starValueTxt.string=r.default.instance.getPlayerData().star+"/"+i[t].stars,this.levelIcon.updatePlayerSkin(),this.bntFlip(),n.startRightAway&&(s.default.instance.tryOutUI.rewardType==p.RewardType.none?(this.gameScene.player.node.parent=this.gameScene.node,s.default.instance.matchingUI.open(),this.close()):s.default.instance.tryOutUI.closeCallback=function(){e.gameScene.player.node.parent=e.gameScene.node,s.default.instance.matchingUI.open(),e.close()},n.startRightAway=!1)},t.prototype.onWxLogin=function(){var e=this;this.playerMsg.getChildByName("NameTxt").getComponent(cc.Label).string=c.default.instance.nickname,c.default.instance.getUserIcon(function(t){e.playerMsg.getChildByName("Mask").getChildByName("HeadIcon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t)},64)},t.prototype.onDestroy=function(){cc.systemEvent.off("wxLogin",this.onWxLogin,this)},t.prototype.bntFlip=function(){var e=this;this.schedule(function(){e.btnIndex++,e.btnIndex%=3,e.addknifeBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=e.butSkins[e.btnIndex],e.addknifeBtn.node.getChildByName("TitleTxt").getComponent(cc.Label).string=e.btnNames[e.btnIndex],e.addknifeBtn.node.position=cc.v2(-200,0),e.addknifeBtn.node.runAction(cc.moveTo(.25,0,0))},3.6)},t.prototype.selectKnife=function(e){this.gameScene.player.knifeId=e,this.gameScene.player.updateKnifesSkin(),this.gameScene.player.changeAttackState(),this.updateKnifeMsg()},t.prototype.updateKnifeMsg=function(){var e=r.default.instance.getKnifeConfigData(this.gameScene.player.knifeId),t=this.getConditonData(e),n=r.default.instance.getPlayerData();this.conditionTxt.string=e.explain,this.progressTxt.node.color=this.gameScene.player.body.node.color,this.progressTxt.string=n[t.key]+"/"+t.value,""==t.key?(this.conditionTxt.node.active=!1,this.progressTxt.node.active=!1,this.startBtn.node.active=!0,this.tryOutBtn.node.active=!1):(this.conditionTxt.node.active=!0,this.progressTxt.node.active=!0,n[t.key]>=t.value?(this.startBtn.node.active=!0,this.tryOutBtn.node.active=!1):(this.startBtn.node.active=!1,this.tryOutBtn.node.active=!0)),this.lookVidioKfIdDic[this.gameScene.player.knifeId]&&(this.startBtn.node.active=!0,this.tryOutBtn.node.active=!1),s.default.instance.tryOutUI.rewardType==p.RewardType.kfskin&&this.gameScene.player.knifeId==s.default.instance.tryOutUI.kfId&&(this.startBtn.node.active=!0,this.tryOutBtn.node.active=!1)},t.prototype.getConditonData=function(e){var t=new m;for(var n in t.id=e.id,t.explain=e.explain,t.stars=e.stars,e)if("id"!=n&&"explain"!=n&&"stars"!=n&&0!=e[n]){t.key=n,t.value=e[n];break}return t},t.startRightAway=!1,__decorate([f(cc.Button)],t.prototype,"leftBtn",void 0),__decorate([f(cc.Button)],t.prototype,"rightBtn",void 0),__decorate([f(cc.Button)],t.prototype,"startBtn",void 0),__decorate([f(cc.Button)],t.prototype,"tryOutBtn",void 0),__decorate([f(cc.Button)],t.prototype,"addknifeBtn",void 0),__decorate([f(cc.SpriteFrame)],t.prototype,"butSkins",void 0),__decorate([f(cc.Button)],t.prototype,"lookBtn",void 0),__decorate([f(cc.Button)],t.prototype,"planetSkinBtn",void 0),__decorate([f(u.default)],t.prototype,"levelIcon",void 0),__decorate([f(cc.Label)],t.prototype,"starValueTxt",void 0),__decorate([f(cc.Label)],t.prototype,"conditionTxt",void 0),__decorate([f(cc.Label)],t.prototype,"progressTxt",void 0),__decorate([f(cc.Node)],t.prototype,"playerMsg",void 0),n=__decorate([h],t)}(i.default);n.default=y;var m=function(){this.id=0,this.explain="",this.stars=0,this.key="",this.value=0};cc._RF.pop()},{"../../core/DataManager":"DataManager","../../core/GameManager":"GameManager","../../gamescene/GameScene":"GameScene","../../gamescene/PlayerController":"PlayerController","../../wx/WXSdk":"WXSdk","../UIManager":"UIManager","../base/BaseUI":"BaseUI","./LevelIcon":"LevelIcon","./TryOutUI":"TryOutUI"}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"ffa54D2yqNEcZ2pIBowdJyx","Main"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./core/DataManager"),i=e("./core/GameManager"),a=e("./wx/WXSdk"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.onLoadComfigDatas=function(){this.gameMagr.init(),this.canvas.active=!0,this.loginWx()}.bind(t),t}return __extends(t,e),t.prototype.onLoad=function(){cc.game.setFrameRate(60),this.gameMagr=this.canvas.getComponent(i.default),this.canvas.active=!1,o.default.instance.loadComfigDatas(this.onLoadComfigDatas)},t.prototype.loginWx=function(){var e=this;a.default.instance.login("wxd1874c425e342948","be02cf1bf6fd79a2bfc153fa83f59165",function(){if(a.default.instance.isWXPlatform()){var e={name:"init",levelConfigDatas:o.default.instance.levelConfigDatas};a.default.instance.wx.postMessage(e),cc.systemEvent.emit("wxLogin")}},function(){a.default.instance.isWXPlatform()&&e.showModal()})},t.prototype.showModal=function(){var e=this;a.default.instance.wx.showModal({title:"\u8b66\u544a",showCancel:!1,confirmText:"\u91cd\u8bd5",content:"\u6e38\u620f\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",success:function(t){t.confirm,e.loginWx()}})},t.prototype.start=function(){},__decorate([c(cc.Node)],t.prototype,"canvas",void 0),__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./core/DataManager":"DataManager","./core/GameManager":"GameManager","./wx/WXSdk":"WXSdk"}],Mark:[function(e,t,n){"use strict";cc._RF.push(t,"77508ChDR1GLYt5yR5jvjxa","Mark"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.targetPlayer=null,t.blackHole=null,t.isPlayer=!0,t.halfSize=cc.Size.ZERO,t.viewSize=cc.Size.ZERO,t.targetNode=null,t}return __extends(t,e),t.prototype.start=function(){this.isPlayer?(this.getComponent(cc.Sprite).spriteFrame=this.targetPlayer.body.skin.spriteFrame,this.targetNode=this.targetPlayer.node):(this.getComponent(cc.Sprite).spriteFrame=this.blackHole.skin.spriteFrame,this.targetNode=this.blackHole.node),this.halfSize.width=(cc.winSize.width-this.node.width)/2,this.halfSize.height=(cc.winSize.height-this.node.height)/2,this.winRadius=cc.v2(this.halfSize.width,this.halfSize.height).mag()},t.prototype.update=function(){if(!this.isPlayer||this.targetPlayer&&this.targetPlayer.isValid&&this.targetPlayer.status!=o.PlayerStatus.die){if(this.player&&this.player.isValid){var e=1/cc.Camera.main.zoomRatio;this.viewSize.width=(cc.winSize.width+160)*e/2,this.viewSize.height=(cc.winSize.height+160)*e/2;var t=this.targetNode.position.sub(this.player.node.position);if(t.x>-this.viewSize.width&&t.x<this.viewSize.width&&t.y>-this.viewSize.height&&t.y<this.viewSize.height)this.node.opacity=0;else{this.node.opacity=255;var n=Math.atan2(t.y,t.x),i=cc.v2(this.winRadius*Math.cos(n),this.winRadius*Math.sin(n));i.x<-this.halfSize.width?i.x=-this.halfSize.width:i.x>this.halfSize.width&&(i.x=this.halfSize.width),i.y<-this.halfSize.height?i.y=-this.halfSize.height:i.y>this.halfSize.height&&(i.y=this.halfSize.height),this.node.position=i}}}else this.node.destroy()},__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"./Player":"Player"}],MatchingUI:[function(e,t,n){"use strict";cc._RF.push(t,"bd1b5wmfrVFRaC+JmCerd3a","MatchingUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),i=e("../../util/Random"),a=e("../../core/GameManager"),r=e("../../gamescene/GameScene"),s=e("../../core/ResourcesManager"),c=e("../../core/DataManager"),l=e("../../wx/WXSdk"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.otherUsers=[],t.dotArr=[],t.radius=220,t.gameSceme=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.gameSceme=a.default.instance.gameScene.getComponent(r.default),Math.PI,this.otherUsers.length;for(var t=[],n=1;n<this.otherUsers.length;n++)this.otherUsers[n].active=!1;for(n=1;n<=50;n++)t.push(n);this.scheduleOnce(function(){l.default.instance.isWXPlatform()&&(l.default.instance.isLogin?e.onWxLogin():cc.systemEvent.on("wxLogin",e.onWxLogin,e));for(var t=function(){var t=e.otherUsers[n];t.active=!1;var o=e.gameSceme.aiNameIndexArr[n-1];s.default.instance.load("headIcon/"+o,function(e){e&&(t.getComponent(cc.Sprite).spriteFrame=e),t.getChildByName("NameTxt").getComponent(cc.Label).string=c.default.instance.nameConfigDatas[o].name},cc.SpriteFrame,!1,!1)},n=1;n<e.otherUsers.length;n++)t()},.1)},t.prototype.open=function(){var t=this;e.prototype.open.call(this);var n=i.default.Range(2.5,4.8);this.scheduleOnce(function(){a.default.instance.gameScene.getComponent(r.default).startGame(),t.close()},n+1.5);for(var o=this.otherUsers.length+i.default.RangeInteger(2,8),s=[],c=0;c<o;c++)s.push(c);this.schedule(function(){var e=i.default.RangeInteger(0,s.length),n=s[e];t.otherUsers[n]&&(t.otherUsers[n].active=!0),s.splice(e,1)},n/o,o-1);for(var l=0;l<this.dotArr.length;l++)this.dotArr[l].active=!1;c=0,this.schedule(function(){for(var e=0;e<t.dotArr.length;e++)t.dotArr[e].active=e<c;c++,c%=t.dotArr.length+1},.25,20)},t.prototype.onWxLogin=function(){var e=this;this.otherUsers[0].active=!1,l.default.instance.getUserIcon(function(t){e.otherUsers[0].active=!0,e.otherUsers[0].getChildByName("Mask").getChildByName("HeadIcon").getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),e.otherUsers[0].getChildByName("NameTxt").getComponent(cc.Label).string=l.default.instance.nickname},64)},t.prototype.onDestroy=function(){cc.systemEvent.off("wxLogin",this.onWxLogin,this)},__decorate([d(cc.Node)],t.prototype,"otherUsers",void 0),__decorate([d(cc.Node)],t.prototype,"dotArr",void 0),__decorate([d],t.prototype,"radius",void 0),__decorate([p],t)}(o.default);n.default=h,cc._RF.pop()},{"../../core/DataManager":"DataManager","../../core/GameManager":"GameManager","../../core/ResourcesManager":"ResourcesManager","../../gamescene/GameScene":"GameScene","../../util/Random":"Random","../../wx/WXSdk":"WXSdk","../base/BaseUI":"BaseUI"}],Mathf:[function(e,t,n){"use strict";cc._RF.push(t,"f65b5ocyA9FdLnQaCyUjigM","Mathf"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getDirValue=function(e){return e>0?1:e<0?-1:0},e.prototype.getRandomDir=function(){return Math.random()>=.5?1:-1},e.lerp=function(e,t,n){return n>1?n=1:n<0&&(n=0),e*(1-n)+t*n},e.clamp=function(e,t,n){return e<t?t:e>n?n:e},e.probability=function(e){return Math.random()<e},e}();n.default=o,cc._RF.pop()},{}],MessageUI:[function(e,t,n){"use strict";cc._RF.push(t,"6990fZxq6hHgIdL4yLKxT0s","MessageUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),i=e("../../audio/SoundClip"),a=e("../../core/SoundManager"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.killerNameTxt=null,t.dieManTxt=null,t.jisha=null,t.jishaArr=[],t.bg=null,t.killAcount=null,t.soundClipTypes=[i.SoundClipType.kill1,i.SoundClipType.kill1,i.SoundClipType.kill1,i.SoundClipType.kill1,i.SoundClipType.kill5,i.SoundClipType.kill6,i.SoundClipType.kill7],t}return __extends(t,e),t.prototype.start=function(){},t.prototype.showMessage=function(e,t){var n=this;e.isAI||(this.unscheduleAllCallbacks(),this.killerNameTxt.string=e.getName(),this.dieManTxt.string=t.getName(),this.bg.node.color=e.body.node.color,e.isAI?this.killAcount.active=!1:(this.killAcount.active=!0,this.jisha.spriteFrame=this.jishaArr[e.killCount-1],a.default.instance.playAudioClip(this.soundClipTypes[e.killCount-1])),this.open(),this.scheduleOnce(function(){n.close()},1))},__decorate([c(cc.Label)],t.prototype,"killerNameTxt",void 0),__decorate([c(cc.Label)],t.prototype,"dieManTxt",void 0),__decorate([c(cc.Sprite)],t.prototype,"jisha",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"jishaArr",void 0),__decorate([c(cc.Sprite)],t.prototype,"bg",void 0),__decorate([c(cc.Node)],t.prototype,"killAcount",void 0),__decorate([s],t)}(o.default);n.default=l,cc._RF.pop()},{"../../audio/SoundClip":"SoundClip","../../core/SoundManager":"SoundManager","../base/BaseUI":"BaseUI"}],MovieClip:[function(e,t,n){"use strict";cc._RF.push(t,"10fa9noqZpH3pYATAmeKpIH","MovieClip"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Mathf"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_sprite=null,t.timer=.1,t.interval=.1,t.texture=null,t.playTimes=0,t.row=4,t.col=4,t.rowIndex=0,t.isAll=!1,t.autoPlayOnLoad=!0,t.autoDestroy=!1,t.begin=0,t.end=4,t.totalFrame=8,t.currentFrame=0,t.currentTimes=0,t.running=!0,t._playIndex=0,t._pieceWidth=0,t._pieceHeight=0,t.rect=new cc.Rect,t}return __extends(t,e),t.prototype.start=function(){this.begin=0,this.end=this.col,this.rowIndex=o.default.clamp(this.rowIndex,0,this.row-1),this._pieceWidth=this.texture.width/this.col,this._pieceHeight=this.texture.height/this.row,this.m_sprite=this.getComponent(cc.Sprite),this.m_sprite.spriteFrame=new cc.SpriteFrame(this.texture,new cc.Rect(0,this.rowIndex*this._pieceHeight,this._pieceWidth,this._pieceHeight),!1,cc.v2(0,0),new cc.Size(this._pieceWidth,this._pieceHeight)),this.rect.width=this._pieceWidth,this.rect.height=this._pieceHeight,this.node.width=this._pieceWidth,this.node.height=this._pieceHeight,this.timer=this.interval,this.running=this.autoPlayOnLoad},t.prototype.update=function(e){this.running&&(0!=this.playTimes&&this.currentTimes==this.playTimes||(this.timer-=e,this.timer<=0&&(this.timer=this.interval,this.currentFrame=this.currentFrame%this.col,this.playAction(),this.currentFrame++,this.currentFrame==this.col&&(this.isAll?(this.rowIndex++,this.rowIndex==this.row&&(this.currentTimes++,this.node.emit("completeTimes"),0!=this.playTimes&&this.currentTimes==this.playTimes&&(this.node.emit("complete"),this.autoDestroy&&this.node.destroy())),this.rowIndex%=this.row):(this.currentTimes++,this.node.emit("completeTimes"),0!=this.playTimes&&this.currentTimes==this.playTimes&&(this.node.emit("complete"),this.autoDestroy&&this.node.destroy()))))))},t.prototype.playAction=function(){this.rowIndex=o.default.clamp(this.rowIndex,0,this.row-1),this._playIndex=this._playIndex%(this.begin-this.end)+this.begin,this.rect.x=this._playIndex*this._pieceWidth,this.rect.y=this.rowIndex*this._pieceHeight,this.m_sprite.spriteFrame.setRect(this.rect),this._playIndex++},t.prototype.play=function(){this.running=!0},t.prototype.stop=function(){this.running=!1},t.prototype.gotoAndPlay=function(e){this.running=!0,this._playIndex=e,this._playIndex=o.default.clamp(this._playIndex,0,this.col-1)},t.prototype.gotoAndStop=function(e){this.running=!1,this._playIndex=e,this._playIndex=o.default.clamp(this._playIndex,0,this.col-1),this.rect.x=this._playIndex*this._pieceWidth,this.rect.y=this.rowIndex*this._pieceHeight,this.m_sprite.spriteFrame.setRect(this.rect)},__decorate([r(cc.Float)],t.prototype,"interval",void 0),__decorate([r({type:cc.Texture2D})],t.prototype,"texture",void 0),__decorate([r({type:cc.Integer})],t.prototype,"playTimes",void 0),__decorate([r(cc.Integer)],t.prototype,"row",void 0),__decorate([r(cc.Integer)],t.prototype,"col",void 0),__decorate([r(cc.Integer)],t.prototype,"rowIndex",void 0),__decorate([r(cc.Boolean)],t.prototype,"isAll",void 0),__decorate([r(cc.Boolean)],t.prototype,"autoPlayOnLoad",void 0),__decorate([r(cc.Boolean)],t.prototype,"autoDestroy",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./Mathf":"Mathf"}],NameConfigData:[function(e,t,n){"use strict";cc._RF.push(t,"7975abLELpEKKAvwYKk7uxV","NameConfigData"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.id=1},cc._RF.pop()},{}],NavigateOtherGameIcon:[function(e,t,n){"use strict";cc._RF.push(t,"3fd23EnIfpJR4hWqNwgO2hQ","NavigateOtherGameIcon"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../wx/WXSdk"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameIcon=null,t.gameIconImgArr=[],t.iconIndex=0,t.appIdArr=["wx1b0de075c16e0e29"],t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){o.default.instance.isWXPlatform()&&o.default.instance.wx.navigateToMiniProgram({appId:e.appIdArr[e.iconIndex],extraData:{from:"xqfd_dzz"},success:function(){}})},this),this.schedule(function(){e.iconIndex++,e.iconIndex%=e.gameIconImgArr.length,e.gameIcon.spriteFrame=e.gameIconImgArr[e.iconIndex]},3.2)},__decorate([r(cc.Sprite)],t.prototype,"gameIcon",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"gameIconImgArr",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../../wx/WXSdk":"WXSdk"}],PlayerAI:[function(e,t,n){"use strict";cc._RF.push(t,"cbb8an4cWJIy7jTE63ZIcvD","PlayerAI"),Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerAILevel=void 0;var o,i=e("./Player"),a=e("../util/Random"),r=e("../core/GameManager"),s=e("./GameScene"),c=e("../util/Vector2"),l=e("../util/Mathf"),u=cc._decorator,p=u.ccclass;u.property,function(e){e[e.none=0]="none",e[e.level1=1]="level1",e[e.level2=2]="level2",e[e.level3=3]="level3",e[e.level4=4]="level4"}(o=n.PlayerAILevel||(n.PlayerAILevel={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiLevel=o.level1,t.cmd=new y,t.player=null,t.timer=.01,t.alertRange=1250,t.gameScene=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.gameScene=this.node.parent.getComponent(s.default)},t.prototype.start=function(){this.player=this.getComponent(i.default),this.cmd.Reset()},t.prototype.onGameStart=function(){this.player=this.getComponent(i.default),this.aiLevel==o.level1?this.player.knifePool.initKnife(3):this.aiLevel==o.level2?this.player.knifePool.initKnife(4):this.aiLevel==o.level3?this.player.knifePool.initKnife(6):this.aiLevel==o.level4?this.player.knifePool.initKnife(8):this.player.knifePool.initKnife(3)},t.prototype.update2=function(e){r.default.instance.gameStatus==r.GameStatus.start?this.player.isAI&&(this.timer-=e,this.timer<=0&&(a.default.Range(0,1)<.25?(this.player.status!=i.PlayerStatus.defence&&this.player.changeDefenceState(),this.player.moveDir=cc.Vec2.ZERO):(this.player.status!=i.PlayerStatus.attack&&this.player.changeAttackState(),this.player.moveDir=cc.v2(a.default.Range(-1,1),a.default.Range(-1,1))),this.timer=a.default.Range(1,2))):this.player.moveDir=cc.Vec2.ZERO},t.prototype.update=function(e){if(r.default.instance.gameStatus==r.GameStatus.start){if(this.player.isAI)if(this.player.status!=i.PlayerStatus.die)switch(this.cmd.Update(e),this.cmd.type){case h.none:this.OnWhatToDoNext(e);break;case h.pickKnife:this.OnPickKnifeHandler(e);break;case h.patrol:this.OnPatrolHandler(e);break;case h.scared:this.OnScareHandler(e);break;case h.moveToTarget:this.OnMoveToTargetHandler(e);break;case h.run:this.OnRunHandler(e);break;case h.defenced:this.OnDefencedHandler(e);break;case h.outflank:this.OnOutflankHandler(e);break;case h.track:this.OnTrackHandler(e);break;case h.attack:this.OnAttackHandler(e)}else this.player.stopMove()}else this.player.stopMove()},t.prototype.OnWhatToDoNext=function(e){this.AnalysisEnvironment(e)},t.prototype.OnPickKnifeHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=c.default.distance(this.player.node.position,this.cmd.targetPos)/this.player.getMoveSpeed(),this.player.moveToTarget(this.cmd.targetPos)),this.cmd.process,f.execute},t.prototype.OnPatrolHandler=function(e){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(1,2),this.player.moveDir=cc.v2(a.default.Range(-1,1),a.default.Range(-1,1)).normalize(),this.player.changeAttackState()),this.cmd.process==f.execute&&c.default.distance(this.player.node.position,this.cmd.targetPos)<=this.player.getMoveSpeed()*e&&(this.cmd.process=f.complete)},t.prototype.OnScareHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(5.25,6.75)),this.cmd.process,f.execute},t.prototype.OnRunHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(3.25,5),this.player.changeAttackState()),this.cmd.process==f.execute&&(this.player.moveDir=this.player.node.position.sub(this.cmd.targetPlayer.node.position).normalize())},t.prototype.OnDefencedHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(2,4),this.player.changeDefenceState(),this.player.stopMove()),this.cmd.process,f.execute},t.prototype.OnOutflankHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(5.25,6.75)),this.cmd.process,f.execute},t.prototype.OnTrackHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(5.25,6.75)),this.cmd.process,f.execute},t.prototype.OnMoveToTargetHandler=function(){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(5.25,6.75),this.player.changeAttackState()),this.cmd.process,f.execute},t.prototype.OnMoveToTargetComplete=function(){},t.prototype.OnTargetInAttackRange=function(){},t.prototype.OnAttackHandler=function(e){this.cmd.process==f.none&&(this.cmd.process=f.execute,this.cmd.timer=a.default.Range(2.25,3.5),this.player.changeAttackState()),this.cmd.process==f.execute&&(this.player.moveToTarget(this.cmd.targetPlayer.node.position),c.default.distance(this.player.node.position,this.cmd.targetPos)<=this.player.getMoveSpeed()*e&&(this.cmd.process=f.complete))},t.prototype.AnalysisEnvironment=function(e){switch(this.cmd.Reset(),this.cmd.timer=a.default.Range(2,3.6),this.aiLevel){case o.level1:this.AnalysisEnvironment_Level1(e);break;case o.level2:this.AnalysisEnvironment_Level2(e);break;case o.level3:this.AnalysisEnvironment_Level3(e);break;case o.level4:this.AnalysisEnvironment_Level4(e)}},t.prototype.AnalysisEnvironment_Level1=function(){l.default.probability(.25)?this.UseDefenseCmd():this.UsePatrolCmd()},t.prototype.AnalysisEnvironment_Level2=function(){if(l.default.probability(.5)){var e=this.GetLastestPlayerInAlert(),t=this.player.knifePool.knifes.length;null!=e?t-e.knifePool.knifes.length>0?t<8?this.UsePickKnifeCmd():this.UseAttackCmd(e):l.default.probability(.4)?this.UseDefenseCmd():this.UseRunCmd(e):this.UsePickKnifeCmd()}else this.UsePatrolCmd()},t.prototype.AnalysisEnvironment_Level3=function(){if(l.default.probability(.7)){var e=this.GetLastestPlayerInAlert(),t=this.player.knifePool.knifes.length;null!=e?t-e.knifePool.knifes.length>0?t<8?this.UsePickKnifeCmd():this.UseAttackCmd(e):l.default.probability(.4)?this.UseDefenseCmd():this.UseRunCmd(e):this.UsePickKnifeCmd()}else this.UsePatrolCmd()},t.prototype.AnalysisEnvironment_Level4=function(){var e=this.GetLastestPlayerInAlert(),t=this.player.knifePool.knifes.length;null!=e?t-e.knifePool.knifes.length>2?t<10?this.UsePickKnifeCmd():this.UseAttackCmd(e):l.default.probability(.4)?this.UseDefenseCmd():this.UseRunCmd(e):this.UsePickKnifeCmd()},t.prototype.GetLastestPlayer=function(){var e=this,t=this.gameScene.playerArr,n=null,o=0;return t.forEach(function(t){if(t&&t.status!=i.PlayerStatus.die&&t!=e.player){var a=c.default.distance(e.player.node.position,t.node.position);0==o?(o=a,n=t):a<o&&(o=a,n=t)}}),n},t.prototype.GetLastestPlayerInAlert=function(){var e=this,t=this.gameScene.playerArr,n=null,o=0;return t.forEach(function(t){if(t&&t.status!=i.PlayerStatus.die&&t!=e.player){var a=c.default.distance(e.player.node.position,t.node.position);a<e.alertRange&&(0==o?(o=a,n=t):a<o&&(o=a,n=t))}}),n},t.prototype.GetRandomPlayer=function(){var e=this,t=this.gameScene.playerArr,n=null,o=[];return t.forEach(function(t){t&&t.status!=i.PlayerStatus.die&&t!=e.player&&o.push(t)}),0!=o.length&&(n=o[a.default.RangeInteger(0,o.length)]),n},t.prototype.GetRandomPointInScene=function(){var e=this.gameScene.sceneSize.width/2,t=this.gameScene.sceneSize.height/2;return cc.v2(a.default.Range(-e,e),a.default.Range(-t,t))},t.prototype.GetLastestKnife=function(){var e=this,t=this.gameScene.knifeArr,n=null,o=0,i=this.gameScene.sceneSize.width/2,a=this.gameScene.sceneSize.height/2;return t.forEach(function(t){if(!(t.node.x<-i||t.node.x>i||t.node.x<-a||t.node.y>a)){var r=c.default.distance(e.player.node.position,t.node.position);r<e.alertRange&&(0==o?(o=r,n=t):r<o&&(o=r,n=t))}}),n},t.prototype.UsePickKnifeCmd=function(){this.cmd.type=h.pickKnife;var e=this.GetLastestKnife();this.cmd.targetPos=e?e.node.position:this.GetRandomPointInScene()},t.prototype.UsePatrolCmd=function(){this.cmd.type=h.patrol,this.cmd.targetPos=this.GetRandomPointInScene()},t.prototype.UseDefenseCmd=function(){this.cmd.type=h.defenced},t.prototype.UseAttackCmd=function(e){this.cmd.type=h.attack,null!=e&&(this.cmd.targetPlayer=e,this.cmd.targetPos=e.node.position)},t.prototype.UseRunCmd=function(e){this.cmd.type=h.run,null!=e&&(this.cmd.targetPlayer=e,this.cmd.targetPos=e.node.position)},t.prototype.UseMoveToTargetCmd=function(e){this.cmd.type=h.moveToTarget,this.cmd.targetPlayer=e,this.cmd.targetPos=e.node.position},t.prototype.UseTrackCmd=function(e){this.cmd.type=h.track,this.cmd.targetPlayer=e,this.cmd.targetPos=e.node.position},__decorate([p],t)}(cc.Component);n.default=d;var h,f,y=function(){function e(){this.roadPath=[],this.timer=0,this.cd=0}return e.prototype.Reset=function(){this.type=h.none,this.targetPlayer=null,this.targetPos=cc.Vec2.ZERO,this.roadPath.length=0,this.timer=0,this.cd=0,this.process=f.none},e.prototype.Update=function(e){this.type!=h.moveToTarget&&this.type!=h.outflank&&this.type!=h.track||this.targetPlayer&&this.targetPlayer.status!=i.PlayerStatus.die||this.Reset(),this.process==f.complete?this.Reset():this.timer>0&&(this.timer-=e,this.timer<=0&&this.Reset())},e}();(function(e){e[e.none=0]="none",e[e.pickKnife=1]="pickKnife",e[e.patrol=2]="patrol",e[e.scared=3]="scared",e[e.moveToTarget=4]="moveToTarget",e[e.run=5]="run",e[e.defenced=6]="defenced",e[e.outflank=7]="outflank",e[e.track=8]="track",e[e.comboAttack=100]="comboAttack",e[e.attack=101]="attack",e[e.attack2=102]="attack2",e[e.attack3=103]="attack3"})(h||(h={})),function(e){e[e.none=0]="none",e[e.execute=1]="execute",e[e.complete=2]="complete"}(f||(f={})),cc._RF.pop()},{"../core/GameManager":"GameManager","../util/Mathf":"Mathf","../util/Random":"Random","../util/Vector2":"Vector2","./GameScene":"GameScene","./Player":"Player"}],PlayerController:[function(e,t,n){"use strict";cc._RF.push(t,"fffb951/GFGpZQryjExFi+v","PlayerController"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Player"),i=e("../core/GameManager"),a=e("../util/Mathf"),r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=null,t.touchPos=cc.Vec2.ZERO,t.baseZoom=1,t.targetZoom=1,t.zoomRatio=1,t.joyStick=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;if(this.baseZoom=cc.Camera.main.zoomRatio,this.targetZoom=cc.Camera.main.zoomRatio,this.player=this.getComponent(o.default),this.joyStick=i.default.instance.joystick,!this.player.isAI){var t=i.default.instance.touchPlane;t.on(cc.Node.EventType.TOUCH_START,function(t){e.player&&e.player.status!=o.PlayerStatus.die&&(e.touchPos=t.getLocation(),e.player.changeAttackState(),i.default.instance.gameStatus==i.GameStatus.start&&(e.zoomRatio=.75,e.joyStick.node.position=cc.v2(t.getLocation().x-.5*cc.winSize.width,t.getLocation().y-.5*cc.winSize.height),e.joyStick.show()),e.player.circle.active=!1)}),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(i.default.instance.gameStatus==i.GameStatus.start){if(e.player&&e.player.status!=o.PlayerStatus.die){var n=t.getLocation();e.player.moveDir=n.sub(e.touchPos).normalize(),e.joyStick.cursorTo(e.player.moveDir)}}else e.player.moveDir=cc.Vec2.ZERO}),t.on(cc.Node.EventType.TOUCH_END,function(){e.player&&e.player.status!=o.PlayerStatus.die&&(e.player.moveDir=cc.Vec2.ZERO,e.player.changeDefenceState(),e.zoomRatio=1,i.default.instance.gameStatus==i.GameStatus.start&&(e.player.circle.active=!0),e.joyStick.hidden())}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.player&&e.player.status!=o.PlayerStatus.die&&(e.player.moveDir=cc.Vec2.ZERO,e.player.changeDefenceState(),e.zoomRatio=1,i.default.instance.gameStatus==i.GameStatus.start&&(e.player.circle.active=!0),e.joyStick.hidden())})}},t.prototype.update=function(e){this.player.isAI||(this.targetZoom=this.baseZoom/this.player.size*this.zoomRatio,cc.Camera.main.zoomRatio=a.default.lerp(cc.Camera.main.zoomRatio,this.targetZoom,5*e))},__decorate([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../core/GameManager":"GameManager","../util/Mathf":"Mathf","./Player":"Player"}],PlayerData:[function(e,t,n){"use strict";cc._RF.push(t,"e28f1VXaOBPm6AphXLg2K1v","PlayerData"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../wx/WXSdk"),i=function(){function e(){this.star=0,this.num1=0,this.straking=0,this.logindays=0,this.knives=0,this.timelimitnum1=0,this.kills=0,this.games=0,this.kills4=0,this.kills5=0,this.kills6=0,this.kills7=0,this.continueStraking=0,this.todayUseFace=!1,this.highStar=0}return e.prototype.addStar=function(e){this.star+=e,this.star>this.highStar&&(this.highStar=this.star,o.default.instance.unloadUserScore(this.highStar,function(){},function(){}))},e}();n.default=i,cc._RF.pop()},{"../wx/WXSdk":"WXSdk"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"c3b100Vh/REDKGWVEdiJIDB","Player"),Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerStatus=void 0;var o,i=e("../item/Item"),a=e("../core/GameManager"),r=e("./GameScene"),s=e("./KnifePool"),c=e("./Knife"),l=e("./Body"),u=e("../util/Random"),p=e("../core/DataManager"),d=e("../util/Mathf"),h=e("../core/SoundManager"),f=e("../audio/SoundClip"),y=cc._decorator,m=y.ccclass,g=y.property;(function(e){e[e.none=0]="none",e[e.defence=1]="defence",e[e.attack=2]="attack",e[e.die=3]="die"})(o=n.PlayerStatus||(n.PlayerStatus={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.knifePool=null,t.nameTxt=null,t.isAI=!1,t.body=null,t.circle=null,t.tail=null,t.skins=[],t.radius=0,t.gameScene=null,t.moveDir=cc.Vec2.ZERO,t.moveSpeed=550,t.halfSize=cc.Size.ZERO,t.hp=10,t.status=o.defence,t.knifeId=1,t.killCount=0,t.showface=!1,t.circleCollider=null,t.physicsCircleCollider=null,t.speedBufTime=0,t.fhlBufTime=0,t.magnetBufTime=0,t.moveSpeedUp=1,t.rotaSpeedUp=1,t.circleRange=1,t.killer=null,t.rank=1,t.baseScale=1,t._size=1,t._skin=1,t}return __extends(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e,this.body.node.scale=this.baseScale*this._size,this.physicsCircleCollider||(this.physicsCircleCollider=this.getComponent(cc.PhysicsCircleCollider)),this.physicsCircleCollider.radius=75*this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pickRadius",{get:function(){return this._pickRadius},set:function(e){this._pickRadius=e,this.circleCollider||(this.circleCollider=this.getComponent(cc.CircleCollider)),this.circleCollider.radius=this._pickRadius*this.circleRange},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skin",{get:function(){return this._skin},set:function(e){this._skin=d.default.clamp(e,1,8),this.body.skin.spriteFrame=this.skins[this._skin-1]},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.gameScene=this.node.parent.getComponent(r.default),this.baseScale=this.body.node.scale,this.radius=this.body.getComponent(cc.CircleCollider).radius},t.prototype.start=function(){this.isAI},t.prototype.onGameStart=function(){this.isAI||(this.circle.active=!0),this.speedBufTime>0&&(this.tail.active=!0),this.body.updateState()},t.prototype.getName=function(){return this.nameTxt.string},t.prototype.onCollisionEnter=function(e){if(this.status!=o.die)if(0==e.tag);else if(1==e.tag){var t=e.getComponent(c.default);t&&t.status==c.KnifeStatus.normal&&this.captureKnife(t)}else if(8==e.tag){var n=e.getComponent(i.default);switch(n.type){case i.ItemType.fhl:this.fhlItemEffect();break;case i.ItemType.rocket:this.rocketItemEffect();break;case i.ItemType.magnet:this.magnetItemEffect()}n.destroySelf()}},t.prototype.onBeginContact=function(e,t,n){var o=n.getComponent(c.default);o&&o.status==c.KnifeStatus.normal&&this.captureKnife(o)},t.prototype.update=function(e){if(a.default.instance.gameStatus!=a.GameStatus.none){this.speedBufTime>0&&(this.speedBufTime-=e,this.speedBufTime<=0&&(this.speedBufTime=0,this.moveSpeedUp=1,this.tail.active=!1)),this.fhlBufTime>0&&(this.fhlBufTime-=e,this.fhlBufTime<=0&&(this.fhlBufTime=0,this.rotaSpeedUp=1)),this.magnetBufTime>0&&(this.magnetBufTime-=e,this.magnetBufTime<=0&&(this.magnetBufTime=0,this.circleRange=1,this.size=this.size)),this.halfSize.width=(this.gameScene.sceneSize.width-2*this.radius*this.size)/2,this.halfSize.height=(this.gameScene.sceneSize.height-2*this.radius*this.size)/2;var t=this.node.position.add(this.moveDir.mul(this.getMoveSpeed()*e));t.x<-this.halfSize.width?t.x=-this.halfSize.width:t.x>this.halfSize.width&&(t.x=this.halfSize.width),t.y<-this.halfSize.height?t.y=-this.halfSize.height:t.y>this.halfSize.height&&(t.y=this.halfSize.height),this.node.position=t}},t.prototype.getMoveSpeed=function(){return this.moveSpeed*this.moveSpeedUp},t.prototype.moveToTarget=function(e){this.moveDir=e.sub(this.node.position).normalize()},t.prototype.stopMove=function(){this.moveDir=cc.Vec2.ZERO},t.prototype.captureKnife=function(e){this.isAI||h.default.instance.playAudioClip(f.SoundClipType.pick),this.knifePool.addKnife(e),this.gameScene.removeKnife(e)},t.prototype.changeDefenceState=function(){this.status!=o.defence&&(this.status=o.defence,this.knifePool.changeDefenceState(),this.changeFace(0))},t.prototype.changeAttackState=function(){this.status!=o.attack&&(this.status=o.attack,this.knifePool.changeAttackState(),this.changeFace(1))},t.prototype.initKnife=function(e){this.knifePool.initKnife(e)},t.prototype.randomKnifeSkin=function(){this.knifeId=u.default.RangeInteger(1,p.default.instance.knifeConfigDatas.length+1),this.updateKnifesSkin()},t.prototype.setColor=function(e){this.body.node.color=e,this.circle.color=e},t.prototype.setName=function(e){this.nameTxt.string=e},t.prototype.fhlItemEffect=function(){this.fhlBufTime=10,this.rotaSpeedUp=2},t.prototype.rocketItemEffect=function(){this.speedBufTime=10,this.moveSpeedUp=1.5,a.default.instance.gameStatus==a.GameStatus.start&&(this.tail.active=!0)},t.prototype.magnetItemEffect=function(){this.magnetBufTime=5,this.circleRange=1.5,this.size=this.size},t.prototype.updateKnifesSkin=function(){this.knifePool.updateKnifesSkin(this.knifeId)},t.prototype.setDamage=function(e,t){this.status!=o.die&&(this.hp-=e,this.hp<=0&&(this.hp=0,this.status=o.die,this.knifePool.disposeAllKnifes(),this.killer=t,this.node.active=!1,this.gameScene.playerKilled(t,this)))},t.prototype.changeFace=function(e,t){void 0===t&&(t=0),this.showface&&this.body.changeFace(e,t)},t.colorArr=[new cc.Color(255,152,96),new cc.Color(45,185,251),new cc.Color(123,87,240),new cc.Color(61,230,146),new cc.Color(245,135,189),new cc.Color(253,253,122)],__decorate([g(s.default)],t.prototype,"knifePool",void 0),__decorate([g(cc.Label)],t.prototype,"nameTxt",void 0),__decorate([g()],t.prototype,"isAI",void 0),__decorate([g(l.default)],t.prototype,"body",void 0),__decorate([g(cc.Node)],t.prototype,"circle",void 0),__decorate([g(cc.Node)],t.prototype,"tail",void 0),__decorate([g(cc.SpriteFrame)],t.prototype,"skins",void 0),__decorate([m],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../audio/SoundClip":"SoundClip","../core/DataManager":"DataManager","../core/GameManager":"GameManager","../core/SoundManager":"SoundManager","../item/Item":"Item","../util/Mathf":"Mathf","../util/Random":"Random","./Body":"Body","./GameScene":"GameScene","./Knife":"Knife","./KnifePool":"KnifePool"}],PopupMsg:[function(e,t,n){"use strict";cc._RF.push(t,"a1647xeGrpNRrq7cNrPUxZu","PopupMsg"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return __extends(t,e),t.prototype.start=function(){var e=this,t=cc.callFunc(function(){e.destroySelf()},this),n=cc.sequence(cc.spawn(cc.moveBy(1,0,150),cc.fadeTo(1,25)),t);this.node.runAction(n)},t.prototype.showText=function(e,t,n){this.label.string=e,this.label.fontSize=t,this.label.node.color=n},t.prototype.destroySelf=function(){this.node.destroy()},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],PopupText:[function(e,t,n){"use strict";cc._RF.push(t,"2e6fcfe6F9CqaGVaos3yc6A","PopupText"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../core/ResourcesPool"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.showText=function(e,t,n){var o=this;this.label.string=e,this.label.fontSize=t,this.label.node.color=n;var i=cc.callFunc(function(){o.destroySelf()},this),a=cc.sequence(cc.spawn(cc.moveBy(1,0,150),cc.fadeTo(1,25)),i);this.node.runAction(a)},t.prototype.getKey=function(){return"PopupText"},t.prototype.awake=function(){this.node.position=cc.Vec2.ZERO,this.node.active=!0,this.node.color=cc.Color.WHITE,this.node.opacity=255},t.prototype.sleep=function(){this.node.stopAllActions(),this.node.parent=null,this.node.active=!1},t.prototype.destroySelf=function(){o.default.instance.put(this,45)},__decorate([r(cc.Label)],t.prototype,"label",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../../core/ResourcesPool":"ResourcesPool"}],Quake:[function(e,t,n){"use strict";cc._RF.push(t,"390c1a5gv9Mqa5w+RUhJNNc","Quake"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Random"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shakeLevel=3,t.setShakeTime=.2,t.shakeFps=45,t.shakeTime=0,t.frameTime=0,t.shakeDelta=.005,t.isShake=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.basePos=this.node.position},t.prototype.start=function(){this.shakeTime=this.setShakeTime,this.fps=this.shakeFps,this.frameTime=.03,this.shakeDelta=.005},t.prototype.update=function(e){this.isShake&&this.shakeTime>0&&(this.shakeTime-=e,this.shakeTime<=0?(this.node.position=this.basePos,this.isShake=!1,this.shakeTime=this.setShakeTime,this.fps=this.shakeFps,this.frameTime=.03,this.shakeDelta=.005):(this.frameTime+=e,this.frameTime>1/this.fps&&(this.frameTime=0,this.node.position=this.basePos.add(cc.v2(o.default.Range(-this.shakeLevel,this.shakeLevel),o.default.Range(-this.shakeLevel,this.shakeLevel))))))},t.prototype.shake=function(e){void 0===e&&(e=0),this.isShake=!0,this.shakeTime=0!=e?e:this.setShakeTime},__decorate([r],t.prototype,"shakeLevel",void 0),__decorate([r],t.prototype,"setShakeTime",void 0),__decorate([r],t.prototype,"shakeFps",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./Random":"Random"}],Random:[function(e,t,n){"use strict";cc._RF.push(t,"2900d0hDJpF16INet9u32+C","Random"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Range=function(e,t){return t>e?Math.random()*(t-e)+e:Math.random()*(e-t)+t},e.RangeInteger=function(e,t){return Math.floor(this.Range(e,t))},e}();n.default=o,cc._RF.pop()},{}],RankItem:[function(e,t,n){"use strict";cc._RF.push(t,"2e241NFGeFI0aRL3ryh8mzv","RankItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mark=null,t.nameTxt=null,t.rankTxt=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},__decorate([a(cc.Sprite)],t.prototype,"mark",void 0),__decorate([a(cc.Label)],t.prototype,"nameTxt",void 0),__decorate([a(cc.Label)],t.prototype,"rankTxt",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],RankUI:[function(e,t,n){"use strict";cc._RF.push(t,"d73ce+gRgVNxoqR1GSxYKDv","RankUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./RankItem"),i=e("../../gamescene/GameScene"),a=e("../../core/GameManager"),r=e("../../gamescene/Player"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankItemArr=[],t.gameScene=null,t.playerColor=new cc.Color(200,141,51),t}return __extends(t,e),t.prototype.onLoad=function(){this.gameScene=a.default.instance.gameScene.getComponent(i.default)},t.prototype.start=function(){this.gameScene.node.on("knifesChange",this.onKnifesChange,this)},t.prototype.onKnifesChange=function(){if(a.default.instance.gameStatus!=a.GameStatus.over){this.gameScene.playerArr.sort(function(e,t){var n=e.knifePool.knifes.length,o=t.knifePool.knifes.length;return n>o?-1:n<o?1:0});for(var e=0;e<this.rankItemArr.length;e++){var t=this.gameScene.playerArr[e];null!=t&&(this.rankItemArr[e].mark.spriteFrame=t.body.skin.spriteFrame,this.rankItemArr[e].nameTxt.string=t.getName(),t.status!=r.PlayerStatus.die?this.rankItemArr[e].rankTxt.string=""+t.knifePool.knifes.length:this.rankItemArr[e].rankTxt.string="0",t==this.gameScene.player?this.rankItemArr[e].nameTxt.node.color=this.playerColor:this.rankItemArr[e].nameTxt.node.color=cc.Color.WHITE)}}},__decorate([l(o.default)],t.prototype,"rankItemArr",void 0),__decorate([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../core/GameManager":"GameManager","../../gamescene/GameScene":"GameScene","../../gamescene/Player":"Player","./RankItem":"RankItem"}],ResourcesManager:[function(e,t,n){"use strict";cc._RF.push(t,"2ee5189PwJOJI783s/mRdlg","ResourcesManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.jsonRoot="configtable/",t.prefabDic={},t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new n,this._instance.init()),n._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.loadJson=function(e,t){cc.loader.loadRes(this.jsonRoot+e,function(n,o){n?cc.log("json"+e+"\u52a0\u8f7d\u5931\u8d25 ",n):t(o.json,e)})},t.prototype.load=function(e,t,n,o,i,a){var r=this;if(void 0===n&&(n=cc.Prefab),void 0===o&&(o=!0),void 0===i&&(i=!0),void 0===a&&(a="prefab/"),this.prefabDic[e])if(i){var s=cc.instantiate(this.prefabDic[e]);t&&t(s)}else t&&t(this.prefabDic[e]);else{var c=a+e;cc.loader.loadRes(c,n,function(n,a){if(n)cc.log("\u52a0\u8f7d\u8d44\u6e90\u5931\u8d25 path",c,n.toString());else if(o&&(r.prefabDic[e]=a),i){var s=cc.instantiate(a);t&&t(s)}else t&&t(a)})}},n=__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],ResourcesPool:[function(e,t,n){"use strict";cc._RF.push(t,"91bbdEQF+VFFaxnBCp51Gzy","ResourcesPool"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trash={},t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new n,this._instance.init()),n._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){},t.prototype.put=function(e,t){void 0===t&&(t=100);var n=e.getKey();this.trash[n]||(this.trash[n]=[]),this.trash[n].length<t?(e.sleep(),this.trash[n].push(e)):e instanceof cc.Component?e.node.destroy():e instanceof cc.Object&&e.destroy()},t.prototype.get=function(e){var t;if(t="function"==typeof e?e.name:e,!this.trash[t]||0==this.trash[t].length)return null;var n=this.trash[t].shift();return n.awake(),n},n=__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],SelectItem:[function(e,t,n){"use strict";cc._RF.push(t,"38be4b5v19JL5N+84whw5uc","SelectItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],SelectView:[function(e,t,n){"use strict";cc._RF.push(t,"427c4ZEmZ5Bz69RJH5CP0w1","SelectView"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.awake=function(){this.node.active=!0},t.prototype.sleep=function(){this.node.active=!1,this.node.parent=null},t.prototype.reset=function(){},__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],SoundClip:[function(e,t,n){"use strict";cc._RF.push(t,"fe7b4FtJWRPL4N7yBtkCip/","SoundClip"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundClipType=void 0;var o,i=cc._decorator,a=i.ccclass,r=i.property;(function(e){e[e.none=0]="none",e[e.kill1=1]="kill1",e[e.kill2=2]="kill2",e[e.kill3=3]="kill3",e[e.kill4=4]="kill4",e[e.kill5=5]="kill5",e[e.kill6=6]="kill6",e[e.kill7=7]="kill7",e[e.killMam=8]="killMam",e[e.pick=9]="pick",e[e.kfhit=10]="kfhit",e[e.dida=11]="dida",e[e.blackhole=12]="blackhole",e[e.victory=13]="victory",e[e.fail=14]="fail"})(o=n.SoundClipType||(n.SoundClipType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipName="",t.type=o.none,t.clip=null,t}return __extends(t,e),__decorate([r(cc.String)],t.prototype,"clipName",void 0),__decorate([r({type:cc.Enum(o)})],t.prototype,"type",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"clip",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"61ea7gw6m5BUoE3mKLIxlki","SoundManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../audio/SoundClip"),i=e("../audio/BgSoundClip"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgAS=null,t.bgSoundSrc=null,t.bgSoundDic={},t.soundSrc=null,t.soundDic={},t.lastBgSound=i.BgSoundClipType.none,t.mute=!1,t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance,n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance?this.node.destroy():(n._instance=this,cc.game.addPersistRootNode(this.node),this.init())},t.prototype.init=function(){for(var e=this.bgSoundSrc.children,t=0;t<e.length;t++){var n=e[t].getComponent(i.default);this.bgSoundDic[n.type]=n}for(e=this.soundSrc.children,t=0;t<e.length;t++){var a=e[t].getComponent(o.default);this.soundDic[a.type]=a}},t.prototype.pause=function(){this.mute=!0,cc.audioEngine.pauseAll(),this.bgAS.pause()},t.prototype.resume=function(){this.mute=!1,cc.audioEngine.resumeAll(),this.bgAS.resume()},t.prototype.PlayBGSound=function(e,t){void 0===t&&(t=!0),this.lastBgSound==i.BgSoundClipType.none&&(this.lastBgSound=e),this.bgAS.stop(),this.bgAS.loop=t,this.bgAS.clip=this.getBGSoundClip(e),this.mute||this.bgAS.play()},t.prototype.getBGSoundClip=function(e){return this.bgSoundDic[e]?this.bgSoundDic[e].clip:(cc.log("\u4e0d\u5b58\u5728\u80cc\u666f\u58f0\u97f3\u6e90 ",i.BgSoundClipType[e]),null)},t.prototype.playAudioClip=function(e){if(!this.mute){o.SoundClipType[e];var t=this.getSoundClip(e);null!=t?cc.audioEngine.play(t,!1,1):cc.log("\u627e\u4e0d\u5230\u8d44\u6e90id\u4e3a ",e," PlayOtherSound\u58f0\u97f3\u914d\u7f6e")}},t.prototype.getSoundClip=function(e){return this.soundDic[e]?this.soundDic[e].clip:(cc.log("\u4e0d\u5b58\u5728\u8be5\u79cd\u58f0\u97f3\u6e90 "+o.SoundClipType[e]),null)},__decorate([s(cc.AudioSource)],t.prototype,"bgAS",void 0),__decorate([s(cc.Node)],t.prototype,"bgSoundSrc",void 0),__decorate([s(cc.Node)],t.prototype,"soundSrc",void 0),n=__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../audio/BgSoundClip":"BgSoundClip","../audio/SoundClip":"SoundClip"}],SplashScreen:[function(e,t,n){"use strict";cc._RF.push(t,"638f9JPW4JF/KhrDz/2HdK5","SplashScreen"),Object.defineProperty(n,"__esModule",{value:!0}),n.SplashType=n.FadeStatus=void 0;var o,i,a=cc._decorator,r=a.ccclass,s=a.property;(function(e){e[e.None=0]="None",e[e.FadeIn=1]="FadeIn",e[e.FadeWait=2]="FadeWait",e[e.FadeOut=3]="FadeOut",e[e.FadeFinish=4]="FadeFinish"})(o=n.FadeStatus||(n.FadeStatus={})),function(e){e[e.None=0]="None",e[e.SingleOnly=1]="SingleOnly",e[e.LoadSceneThenFadeOut=2]="LoadSceneThenFadeOut"}(i=n.SplashType||(n.SplashType={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fadeSpeed=.5,t.waitDuration=.84,t.splashType=i.None,t.mStatus=o.None,t.mAlpha=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.mSplashLogoPos.x=0,this.mSplashLogoPos.y=0,this.mSplashLogoPos.width=cc.winSize.width,this.mSplashLogoPos.height=cc.winSize.height},t.prototype.PlaySplash=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=.85),void 0===n&&(n=0),this.fadeSpeed=e,this.waitDuration=t,this.delay=n,this.splashType=i.None,this.mStatus=o.FadeIn},t.prototype.PlaySplashFadeIn=function(e,t){void 0===e&&(e=1),void 0===t&&(t=0),this.fadeSpeed=e,this.delay=t,this.splashType=i.SingleOnly,this.mStatus=o.FadeIn,this.mAlpha=0},t.prototype.PlaySplashFadeOut=function(e,t){void 0===e&&(e=1),void 0===t&&(t=0),this.fadeSpeed=e,this.delay=t,this.splashType=i.SingleOnly,this.mStatus=o.FadeOut,this.mAlpha=1},t.prototype.update=function(e){if(this.delay>0)this.delay-=e;else switch(this.mStatus){case o.FadeIn:this.mAlpha+=this.fadeSpeed*e,this.mAlpha>=1&&(this.splashType!=i.SingleOnly&&(this.mStatus=o.FadeWait,this.waitTime=this.waitDuration),this.mAlpha=1,null!=this.OnFadeInFinish&&this.OnFadeInFinish());break;case o.FadeOut:this.mAlpha-=this.fadeSpeed*e,this.mAlpha<=0&&(this.mStatus=o.FadeFinish,this.mAlpha=0,null!=this.OnFadeOutFinish&&this.OnFadeOutFinish());break;case o.FadeWait:this.splashType!=i.SingleOnly&&(this.waitTime-=e,this.waitTime<=0&&(this.mStatus=o.FadeOut,this.waitTime=0))}},t.prototype.lateUpdate=function(){this.splashLogo},__decorate([s({type:cc.Enum(i)})],t.prototype,"splashType",void 0),__decorate([s({type:cc.Enum(o)})],t.prototype,"mStatus",void 0),__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],SuccessPanel:[function(e,t,n){"use strict";cc._RF.push(t,"c5bf9IbcQJHtLeLpeQbul8E","SuccessPanel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../gamescene/GameScene"),i=e("../base/BaseUI"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextLevelBtn=null,t.exitBtn=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.nextLevelBtn.node.on(cc.Node.EventType.TOUCH_START,function(){o.default.levelMin++,o.default.levelMin>5&&(o.default.levelMin=1),cc.director.loadScene(cc.director.getScene().name)})},__decorate([s(cc.Button)],t.prototype,"nextLevelBtn",void 0),__decorate([s(cc.Button)],t.prototype,"exitBtn",void 0),__decorate([r],t)}(i.default);n.default=c,cc._RF.pop()},{"../../gamescene/GameScene":"GameScene","../base/BaseUI":"BaseUI"}],SystemTools:[function(e,t,n){"use strict";cc._RF.push(t,"a26d3p99ilP1ZqFHCYHQRqX","SystemTools"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(){function e(){}return e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=e;if(t.length>0){var i=void 0;for(var a in t)if(null!=(i=t[a])&&0!=i.length){var r=new RegExp("\\{"+a+"\\}","g");o=o.replace(r,i)}}return o},__decorate([i],e)}());n.default=a,cc._RF.pop()},{}],TabButton:[function(e,t,n){"use strict";cc._RF.push(t,"15064kNii5CiaeP0EhEgt/j","TabButton"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalFrame=null,t.selectedFrame=null,t._selected=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){e?(this.normalFrame.active=!1,this.selectedFrame.active=!0):(this.normalFrame.active=!0,this.selectedFrame.active=!1),this._selected=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){},__decorate([a(cc.Node)],t.prototype,"normalFrame",void 0),__decorate([a(cc.Node)],t.prototype,"selectedFrame",void 0),__decorate([a(cc.Boolean)],t.prototype,"_selected",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],TabSelectView:[function(e,t,n){"use strict";cc._RF.push(t,"7d93diVFzZAVp3APNl+nI+9","TabSelectView"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SelectView"),i=e("./TabButton"),a=e("./View"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tabBtns=[],t.selevtViews=[],t.showView=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this);for(var t=0;t<this.tabBtns.length;t++)this.tabBtns[t].node.on(cc.Node.EventType.TOUCH_START,function(){},this),this.tabBtns[t].node.on(cc.Node.EventType.TOUCH_END,this.onTouchUp,this);this.selectTab(0)},t.prototype.open=function(){e.prototype.open.call(this),this.currentView&&this.currentView.awake()},t.prototype.close=function(){e.prototype.close.call(this),this.currentView&&this.currentView.sleep()},t.prototype.selectTab=function(e){void 0===e&&(e=-1);for(var t=0;t<this.tabBtns.length;t++)t!=e?this.tabBtns[t].selected&&(this.tabBtns[t].selected=!1):this.tabBtns[t].selected||(this.tabBtns[t].selected=!0,this.currentView&&this.currentView.sleep(),this.currentView=this.selevtViews[t],this.currentView.node.setParent(this.showView),this.currentView.node.position=cc.Vec2.ZERO,this.currentView.awake())},t.prototype.onTouchUp=function(e){var t=e.currentTarget,n=this.tabBtns.indexOf(t.getComponent(i.default));this.selectTab(n)},__decorate([c(i.default)],t.prototype,"tabBtns",void 0),__decorate([c(o.default)],t.prototype,"selevtViews",void 0),__decorate([c(cc.Node)],t.prototype,"showView",void 0),__decorate([s],t)}(a.default);n.default=l,cc._RF.pop()},{"./SelectView":"SelectView","./TabButton":"TabButton","./View":"View"}],TestPhysics:[function(e,t,n){"use strict";cc._RF.push(t,"1d501n6Sg5LyL+2wQch5LeV","TestPhysics"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.rigibody=null,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().debugDrawFlags=1},t.prototype.start=function(){var e=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){switch(t.keyCode){case cc.macro.KEY.a:e.rigibody.node.position=cc.Vec2.ZERO,e.rigibody.linearVelocity=cc.Vec2.ZERO;break;case cc.macro.KEY.s:e.rigibody.applyForce(cc.v2(0,-1).mul(1e5),cc.v2(0,25),!0);break;case cc.macro.KEY.d:}})},t.prototype.update=function(){},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),__decorate([a(cc.RigidBody)],t.prototype,"rigibody",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],Test:[function(e,t,n){"use strict";cc._RF.push(t,"08f3f9Pjx5N+bZJdn6QAZZv","Test"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tex=null,t.tail=null,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){this.tail.x+=100*e},__decorate([a({type:cc.Texture2D})],t.prototype,"tex",void 0),__decorate([a(cc.Node)],t.prototype,"tail",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],TryOutUI:[function(e,t,n){"use strict";cc._RF.push(t,"07a505naSVOI6ydPPukyqp/","TryOutUI"),Object.defineProperty(n,"__esModule",{value:!0}),n.RewardType=void 0;var o,i=e("../base/BaseUI"),a=e("../../wx/WXSdk"),r=e("../../util/Clock"),s=e("../../core/GameManager"),c=e("../../core/DataManager"),l=e("../../util/Random"),u=e("../UIManager"),p=e("../../gamescene/GameScene"),d=e("./MainUI"),h=e("../../util/Mathf"),f=cc._decorator,y=f.ccclass,m=f.property;(function(e){e[e.none=0]="none",e[e.face=1]="face",e[e.kf6=2]="kf6",e[e.kfskin=3]="kfskin",e[e.rocket=4]="rocket"})(o=n.RewardType||(n.RewardType={}));var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rewardType=o.none,t.otherRewardType=o.none,t.turnbackBtn=null,t.useBtn=null,t.rewardTxt1=null,t.rewardTxt2=null,t.useTxt=null,t.levelImg=null,t.rewardIcon=null,t.lightImg=null,t.cdImg=null,t.cdImgArr=[],t.faceSF=null,t.kf6SF=null,t.kfId=0,t.gameScene=null,t.closeCallback=null,t.lookingVidio=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.basePos=this.node.position,this.checkReward()},t.prototype.start=function(){var e=this;this.gameScene=s.default.instance.gameScene.getComponent(p.default),this.lightImg.node.runAction(cc.rotateBy(3.6,360).repeatForever()),this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.close()},this),this.useBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.lookingVidio=!0,a.default.instance.showVideo(d.default.startRightAway?"adunit-82c0e31583967848":"adunit-4fce270de78f93a0",function(t){if(e.lookingVidio=!1,0!=t){switch(e.rewardType){case o.face:c.default.instance.getPlayerData().todayUseFace=!0,c.default.instance.saveLevelData(),e.gameScene.player.showface=!0;break;case o.kf6:e.gameScene.player.initKnife(6);break;case o.kfskin:u.default.instance.mainUI.selectKnife(e.kfId)}switch(e.otherRewardType){case o.kf6:e.gameScene.player.initKnife(6);break;case o.rocket:e.gameScene.player.rocketItemEffect()}e.close()}})},this)},t.prototype.checkReward=function(){var e=this;this.rewardType=o.none;var t=s.default.gameTimes;if(1==t?c.default.instance.getPlayerData().todayUseFace?this.rewardType=o.kf6:this.rewardType=o.face:t>1&&t%2==1&&(t%4==3?c.default.instance.getPlayerData().todayUseFace?this.rewardType=o.kf6:this.rewardType=o.face:this.rewardType=o.kfskin),this.rewardType==o.none)this.close();else{switch(this.rewardType){case o.face:this.rewardIcon.spriteFrame=this.faceSF,this.rewardTxt1.string="\u514d\u8d39\u4eca\u65e5\u8868\u60c5",this.otherRewardType=o.kf6;break;case o.kf6:this.rewardIcon.spriteFrame=this.kf6SF,this.rewardTxt1.string="\u5f00\u5c406\u628a\u5200",this.otherRewardType=o.rocket;break;case o.kfskin:this.kfId=l.default.RangeInteger(11,26),this.rewardIcon.spriteFrame=s.default.instance.daoImgs[this.kfId-1],this.rewardTxt1.string="\u514d\u8d39\u8bd5\u7528\u98de\u5200\u76ae\u80a4",this.otherRewardType=h.default.probability(.5)?o.kf6:o.rocket}switch(this.otherRewardType){case o.kf6:this.rewardTxt2.string="\u9644\u8d60\uff1a\u5f00\u5c406\u628a\u5200";break;case o.rocket:this.rewardTxt2.string="\u9644\u8d60\uff1a\u5f00\u5c40\u52a0\u901f"}this.rewardIcon.node.width=this.rewardIcon.spriteFrame.getRect().width,this.rewardIcon.node.height=this.rewardIcon.spriteFrame.getRect().height,this.scheduleOnce(function(){e.open()},.05)}},t.prototype.close=function(){e.prototype.close.call(this),this.cdImg.getComponent(r.default).Stop(),this.lookingVidio||this.closeCallback&&this.closeCallback(),a.default.instance.removeBanner()},t.prototype.open=function(){var t=this;e.prototype.open.call(this),a.default.instance.showBottomBanner("adunit-d39672ca59cf15a2");var n=this.cdImg.getComponent(r.default);n.Reset(),n.timeLength=6,n.Play(function(e,n,o,i,a){a<=5&&(t.cdImg.spriteFrame=t.cdImgArr[a-1])},function(){t.close()})},__decorate([m({type:cc.Enum(o)})],t.prototype,"rewardType",void 0),__decorate([m({type:cc.Enum(o)})],t.prototype,"otherRewardType",void 0),__decorate([m(cc.Button)],t.prototype,"turnbackBtn",void 0),__decorate([m(cc.Button)],t.prototype,"useBtn",void 0),__decorate([m(cc.Label)],t.prototype,"rewardTxt1",void 0),__decorate([m(cc.Label)],t.prototype,"rewardTxt2",void 0),__decorate([m(cc.Label)],t.prototype,"useTxt",void 0),__decorate([m(cc.Sprite)],t.prototype,"levelImg",void 0),__decorate([m(cc.Sprite)],t.prototype,"rewardIcon",void 0),__decorate([m(cc.Sprite)],t.prototype,"lightImg",void 0),__decorate([m(cc.Sprite)],t.prototype,"cdImg",void 0),__decorate([m(cc.SpriteFrame)],t.prototype,"cdImgArr",void 0),__decorate([m(cc.SpriteFrame)],t.prototype,"faceSF",void 0),__decorate([m(cc.SpriteFrame)],t.prototype,"kf6SF",void 0),__decorate([y],t)}(i.default);n.default=g,cc._RF.pop()},{"../../core/DataManager":"DataManager","../../core/GameManager":"GameManager","../../gamescene/GameScene":"GameScene","../../util/Clock":"Clock","../../util/Mathf":"Mathf","../../util/Random":"Random","../../wx/WXSdk":"WXSdk","../UIManager":"UIManager","../base/BaseUI":"BaseUI","./MainUI":"MainUI"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"3f6aeGt+WZA972S9YhvS8BF","UIManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.LayerType=n.ViewName=void 0;var o=e("./base/View"),i=e("./main/MainUI"),a=e("./result/SuccessPanel"),r=e("./message/MessageUI"),s=e("./rank/RankUI"),c=e("./main/AccountUI"),l=e("./main/MatchingUI"),u=e("./main/WXOpenDataUI"),p=e("./main/UpgradeUI"),d=e("./main/LevelMessageUI"),h=e("./main/TryOutUI"),f=cc._decorator,y=f.ccclass,m=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewLayers=[],t.viewDic={},t.mainUI=null,t.resultUI=null,t.messageUI=null,t.rankUI=null,t.accountUI=null,t.matchingUI=null,t.wxOpenDataUI=null,t.upgradeUI=null,t.levelMessageUI=null,t.tryOutUI=null,t.tex=new cc.Texture2D,t.showOpenData=!1,t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,n._instance.init()},t.prototype.init=function(){},t.prototype.start=function(){},t.prototype.OpenView=function(e,t,n,i){var a=this;void 0===t&&(t=null),void 0===n&&(n=v.popup),void 0===i&&(i="prefab/view/");var r=i+e;if(this.viewDic[e]){var s=this.viewDic[e];return s.node.setParent(null),this.viewLayers[n].addChild(s.node),s.node.position=cc.Vec2.ZERO,s.open(),void(t&&t.apply(this,[this.viewDic[e]]))}cc.loader.loadRes(r,cc.Prefab,function(i,s){if(i)cc.log("\u8def\u5f84"+r+"\u627e\u4e0d\u5230\u8d44\u6e90");else{var c=cc.instantiate(s).getComponent(o.default);c.node.setParent(null),a.viewLayers[n].addChild(c.node),c.node.position=cc.Vec2.ZERO,c.open(),cc.log("\u52a0\u8f7d\u5230\u7684\u8d44\u6e90",s,c.name),a.viewDic[e]=c,null!=t&&t.apply(a,[c])}})},t.prototype.closeView=function(e,t){void 0===t&&(t=!0),this.viewDic[e]&&(this.viewDic[e].close(),this.viewDic[e].node.setParent(null),t&&(this.viewDic[e].destroySelf(),this.viewDic[e]=null,delete this.viewDic[e]))},t.prototype.getLayer=function(e){return this.viewLayers[e]},__decorate([m(cc.Node)],t.prototype,"viewLayers",void 0),__decorate([m(i.default)],t.prototype,"mainUI",void 0),__decorate([m(a.default)],t.prototype,"resultUI",void 0),__decorate([m(r.default)],t.prototype,"messageUI",void 0),__decorate([m(s.default)],t.prototype,"rankUI",void 0),__decorate([m(c.default)],t.prototype,"accountUI",void 0),__decorate([m(l.default)],t.prototype,"matchingUI",void 0),__decorate([m(u.default)],t.prototype,"wxOpenDataUI",void 0),__decorate([m(p.default)],t.prototype,"upgradeUI",void 0),__decorate([m(d.default)],t.prototype,"levelMessageUI",void 0),__decorate([m(h.default)],t.prototype,"tryOutUI",void 0),n=__decorate([y],t)}(cc.Component);n.default=g;var v,_=function(){function e(){}return e.SuccessPanel="SuccessPanel",e.FailPanel="FailPanel",e.EmployeesView="EmployeesView",e.EmployeesRecuitView="EmployeesRecuitView",e.RankView="RankView",e.GiftView="GiftView",e.DGView="DGView",e.IVView="IVView",e.FarmLevelView="FarmLevelView",e.BonusEffectView="BonusEffectView",e.EmployeeUpView="EmployeeUpView",e.OfflineView="OfflineView",e.FarmAreaUpView="FarmAreaUpView",e.SpeedUpView="SpeedUpView",e.RewardEconomicView="RewardEconomicView",e}();n.ViewName=_,function(e){e[e.back=0]="back",e[e.popup=1]="popup"}(v=n.LayerType||(n.LayerType={})),cc._RF.pop()},{"./base/View":"View","./main/AccountUI":"AccountUI","./main/LevelMessageUI":"LevelMessageUI","./main/MainUI":"MainUI","./main/MatchingUI":"MatchingUI","./main/TryOutUI":"TryOutUI","./main/UpgradeUI":"UpgradeUI","./main/WXOpenDataUI":"WXOpenDataUI","./message/MessageUI":"MessageUI","./rank/RankUI":"RankUI","./result/SuccessPanel":"SuccessPanel"}],UpgradeUI:[function(e,t,n){"use strict";cc._RF.push(t,"6be2cv0QNxBkaYVJWnm3I3G","UpgradeUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../base/BaseUI"),i=e("../../wx/WXSdk"),a=e("./LevelIcon"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turnbackBtn=null,t.showBtn=null,t.recoverBtn=null,t.title=null,t.titleSkins=[],t.levelIcon=null,t.iconSkins=[],t.onExit=null,t.onRecover=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.close(),e.onExit&&e.onExit()},this),this.showBtn.node.on(cc.Node.EventType.TOUCH_END,function(){i.default.instance.shareToAnyOne(function(){e.close(),e.onExit&&e.onExit()},function(){})},this),this.recoverBtn.node.on(cc.Node.EventType.TOUCH_START,function(){i.default.instance.shareToAnyOne(function(){e.close(),e.onRecover&&e.onRecover()},function(){})},this)},t.prototype.open=function(){e.prototype.open.call(this),i.default.instance.showBottomBanner("adunit-d39672ca59cf15a2")},t.prototype.close=function(){e.prototype.close.call(this),i.default.instance.removeBanner()},t.prototype.showUpgrade=function(e,t){this.levelIcon.updateSkin(e),t?(this.showBtn.node.active=!0,this.recoverBtn.node.active=!1,this.title.spriteFrame=this.titleSkins[0]):(this.showBtn.node.active=!1,this.recoverBtn.node.active=!0,this.title.spriteFrame=this.titleSkins[1])},__decorate([c(cc.Button)],t.prototype,"turnbackBtn",void 0),__decorate([c(cc.Button)],t.prototype,"showBtn",void 0),__decorate([c(cc.Button)],t.prototype,"recoverBtn",void 0),__decorate([c(cc.Sprite)],t.prototype,"title",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"titleSkins",void 0),__decorate([c(a.default)],t.prototype,"levelIcon",void 0),__decorate([c(cc.SpriteFrame)],t.prototype,"iconSkins",void 0),__decorate([s],t)}(o.default);n.default=l,cc._RF.pop()},{"../../wx/WXSdk":"WXSdk","../base/BaseUI":"BaseUI","./LevelIcon":"LevelIcon"}],Vector2:[function(e,t,n){"use strict";cc._RF.push(t,"e92a0MK9VVImIf+/qVez0xa","Vector2"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.lerp=function(e,t,n){return this.bezierOne(n,e,t)},e.bezierOne=function(e,t,n){return e>1?e=1:e<0&&(e=0),t.mul(1-e).add(n.mul(e))},e.bezierTwo=function(e,t,n,o){e>1?e=1:e<0&&(e=0);var i=1-e,a=e*e,r=t;return r.addSelf(t.mul(i*i)),r.addSelf(n.mul(2*i*e)),r.addSelf(o.mul(a)),r},e.bezierThree=function(e,t,n,o,i){e>1?e=1:e<0&&(e=0);var a=1-e,r=a*a,s=r*a,c=e*e,l=c*e,u=t;return u.addSelf(t.mul(s)),u.addSelf(n.mul(3*r*e)),u.addSelf(o.mul(3*a*c)),u.addSelf(i.mul(l)),u},e.distance=function(e,t){return t.sub(e).mag()},e}();n.default=o,cc._RF.pop()},{}],View:[function(e,t,n){"use strict";cc._RF.push(t,"be1f6UJeX5H2rFJ6Tpwunrl","View"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../UIManager"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=this,t=this.node.getChildByName("Win").getChildByName("CloseBtn");t&&t.on(cc.Node.EventType.TOUCH_START,function(){o.default.instance.closeView(e.node.name,!1)},this)},t.prototype.open=function(){this.node.active=!0},t.prototype.close=function(){this.node.x=2500,this.node.active=!1},t.prototype.destroySelf=function(){this.node.destroy()},__decorate([a],t)}(cc.Component));n.default=r,cc._RF.pop()},{"../UIManager":"UIManager"}],WXOpenDataUI:[function(e,t,n){"use strict";cc._RF.push(t,"7f875l8bp1FkZCgHxoXXVzS","WXOpenDataUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../wx/WXSdk"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turnbackBtn=null,t.shareBtn=null,t.openDataCanvasDisPlay=null,t.shareBtnSkinArr=[],t.shareIndex=1,t.showOpenData=!1,t.tex=new cc.Texture2D,t.wxSubContext=null,t}return __extends(t,e),t.prototype.start=function(){var e=this;o.default.instance.isWXPlatform()?(this.turnbackBtn.node.on(cc.Node.EventType.TOUCH_END,function(){e.closeOpenDataField()},this),this.shareBtn.node.on(cc.Node.EventType.TOUCH_END,function(){o.default.instance.shareToAnyOne(function(){},function(){})},this),this.wxSubContext=this.getComponent(cc.WXSubContextView),this.openDataCanvasDisPlay=this.getComponent(cc.Sprite),this.updateOpenDataCanvas(),this.showOpenData||(this.node.active=!1),cc.systemEvent.on("shareTicketUpdate",this.onShareTicketUpdate,this)):this.node.active=!1},t.prototype.onShareTicketUpdate=function(){this.showOpenData&&""!=o.default.instance.shareTicket&&this.openGroupRankUI()},t.prototype.onDestroy=function(){cc.systemEvent.off("shareTicketUpdate",this.onShareTicketUpdate,this)},t.prototype.update=function(){this.showOpenData&&this.updateOpenDataCanvas()},t.prototype.updateOpenDataCanvas=function(){this.tex.initWithElement(o.default.instance.sharedCanvas),this.tex.handleLoadedTexture(),this.openDataCanvasDisPlay.spriteFrame.setTexture(this.tex)},t.prototype.showOpenDataField=function(){o.default.instance.isWXPlatform()&&(this.showOpenData=!0,this.node.active=!0)},t.prototype.openRankUI=function(){var e=this;""!=o.default.instance.shareTicket?this.openGroupRankUI():o.default.instance.getUserScoreWorldRank(function(t){e.openWorldRankUI(t)},function(){})},t.prototype.openFriendRankUI=function(){o.default.instance.isWXPlatform()&&(this.shareIndex=1,this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=this.shareBtnSkinArr[this.shareIndex-1],this.showOpenDataField(),o.default.instance.wx.postMessage({name:"friend"}))},t.prototype.openGroupRankUI=function(){o.default.instance.isWXPlatform()&&(this.shareIndex=2,this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=this.shareBtnSkinArr[this.shareIndex-1],this.showOpenDataField(),o.default.instance.wx.postMessage({name:"group",shareTicket:o.default.instance.shareTicket}))},t.prototype.openWorldRankUI=function(e){o.default.instance.isWXPlatform()&&(this.shareIndex=3,this.shareBtn.node.getChildByName("Background").getComponent(cc.Sprite).spriteFrame=this.shareBtnSkinArr[this.shareIndex-1],this.showOpenDataField(),o.default.instance.wx.postMessage({name:"world",rankData:e}))},t.prototype.closeOpenDataField=function(){o.default.instance.isWXPlatform()&&(this.showOpenData=!1,this.node.active=!1,o.default.instance.wx.postMessage({name:"close"}))},__decorate([r(cc.Button)],t.prototype,"turnbackBtn",void 0),__decorate([r(cc.Button)],t.prototype,"shareBtn",void 0),__decorate([r(cc.Sprite)],t.prototype,"openDataCanvasDisPlay",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"shareBtnSkinArr",void 0),__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../../wx/WXSdk":"WXSdk"}],WXRank:[function(e,t,n){"use strict";cc._RF.push(t,"fec21c2Ce1BMaGT8QgDMifw","WXRank"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.shareTime=0,t.shareCnt=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.onBtnShareTest=function(){new Date,this.shareTime=Date.now()/1e3;var e=this;window.wx.shareAppMessage({title:"\u4e16\u754c\u552f\u4e00\u88ab\u732a\u7edf\u6cbb\u7684\u5c9b\uff0c\u88ab\u9057\u5fd8\u5374\u5e78\u798f",imageUrl:"https://pigwander-1258819150.file.myqcloud.com/share/share_2.png",query:""}),this.scheduleOnce(function(){Date.now()/1e3-e.shareTime<=3?(e.shareCnt>=1?e.onShowTip("\u77ed\u65f6\u95f4\u5185,\u4e0d\u8981\u5206\u4eab\u540c\u4e00\u4e2a\u7fa4"):e.onShowTip("\u8bf7\u6362\u4e2a\u7fa4\u8bd5\u8bd5\u54e6~~"),e.shareCnt++):(e.onShowTip("\u606d\u559c,\u83b7\u5f97xxx\u5956\u52b1"),e.shareCnt=0)},.1)},t.prototype.onShowTip=function(){},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),__decorate([i],t)}(cc.Component);n.default=r,cc._RF.pop()},{}],WXSdk:[function(e,t,n){"use strict";cc._RF.push(t,"6fc6cQqMv9MxZ9wzJ8S3raM","WXSdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.AuthorizeStatus=void 0;var o,i=e("./SystemToolS"),a=cc._decorator,r=a.ccclass;a.property,function(e){e[e.none=0]="none",e[e.refuse=1]="refuse",e[e.agree=2]="agree"}(o=n.AuthorizeStatus||(n.AuthorizeStatus={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.url="https://www.haohaowangame.com/knife/login",t.worldRankUrl="https://www.haohaowangame.com/knife/update-best-score",t.worldRankUrl2="https://www.haohaowangame.com/knife/world/",t.appid="wxd1874c425e342948",t.secret="be02cf1bf6fd79a2bfc153fa83f59165",t.grant_type="authorization_code",t._authorizeStatus=o.none,t._tokenData="",t.isVibrate=!1,t.isLogin=!1,t.shareTime=0,t.wxLog=console.log,t._shareTicket="",t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new n,this._instance.init()),n._instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;if(this.wx=window.wx,this.systemInfo,this.wx){this.wx.onShow(function(t){"shareToAnyOne"==t.query.type&&1044==t.scene?(e._shareTicket=t.shareTicket,cc.systemEvent.emit("shareTicketUpdate")):e._shareTicket=""}),this.wx.onHide(function(){});var t=this.wx.getLaunchOptionsSync();t.shareTicket&&"<Undefined>"!=t.shareTicket?this._shareTicket=t.shareTicket:this._shareTicket="",this.wx.showShareMenu({withShareTicket:!0,success:function(){},fail:function(){}}),this.wx.onShareAppMessage(function(){return{title:"\u661f\u7403\u98de\u5200\u5927\u4f5c\u6218",imageUrl:"https://knife-1258819150.file.myqcloud.com/image/\u661f\u7403\u98de\u5200.jpg",query:"type=shareToAnyOne"}})}},t.prototype.isWXPlatform=function(){return null!=this.wx&&null!=this.wx},Object.defineProperty(t.prototype,"openDataContext",{get:function(){return this._openDataContext||(this._openDataContext=this.wx.getOpenDataContext()),this._openDataContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sharedCanvas",{get:function(){return this._sharedCanvas||(this._sharedCanvas=this.openDataContext.canvas),this._sharedCanvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"systemInfo",{get:function(){return this.wx&&!this._systemInfo&&(this._systemInfo=this.wx.getSystemInfoSync(),this.wxLog("\u5fae\u4fe1\u7cfb\u7edf\u4fe1\u606f",this._systemInfo),this.wxLog("\n\u624b\u673a\u578b\u53f7",this._systemInfo.model,"\n\u7cfb\u7edf",this._systemInfo.system,"\n\u5fae\u4fe1\u7248\u672c",this._systemInfo.version,"\n\u8bed\u8a00",this._systemInfo.language,"\n\u624b\u673a\u54c1\u724c",this._systemInfo.brand,"\n\u5ba2\u6237\u7aef\u5e73\u53f0",this._systemInfo.platform,"\n\u5ba2\u6237\u7aef\u57fa\u7840\u5e93\u7248\u672c",this._systemInfo.SDKVersion)),this._systemInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.systemInfo?this.systemInfo.version:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SDKVersion",{get:function(){return this.systemInfo?this.systemInfo.SDKVersion:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"system",{get:function(){return this.systemInfo?this.systemInfo.system:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this.systemInfo,this.systemInfo.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"brand",{get:function(){return this.systemInfo?this.systemInfo.brand:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){if(this.systemInfo)return this.systemInfo.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userData",{get:function(){return this._userData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userInfo",{get:function(){return this._userInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openid",{get:function(){return this._tokenData?this._tokenData.openid:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._tokenData?this._tokenData.skey:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uid",{get:function(){return this._tokenData?this._tokenData.uid:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNew",{get:function(){return!!this._tokenData&&this._tokenData.isNew},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"session_key",{get:function(){return this._accessTokenData?this._accessTokenData.session_key:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nickname",{get:function(){return this._userInfo?this._userInfo.nickName:"\u5c0f\u98de\u5200"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authorizeStatus",{get:function(){return this._authorizeStatus},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shareTicket",{get:function(){return this._shareTicket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screenWidth",{get:function(){return this.systemInfo.screenWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screenHeight",{get:function(){return this.systemInfo.screenHeight},enumerable:!1,configurable:!0}),t.prototype.getUserIcon=function(e,t){if(void 0===t&&(t=132),this.wx){var n=this._userInfo.avatarUrl,o=n.lastIndexOf("/");n=n.substring(0,o+1)+t+"?aaa=aa.jpg",cc.loader.load(n,function(t,n){e(n)})}else e(null)},t.prototype.applyUserAuth=function(e){var t=this;if(!this.wx)return this._authorizeStatus=o.refuse,void e(!1);this.wx.getSetting({success:function(n){n.authSetting["scope.userInfo"]?(t._authorizeStatus=o.agree,e(!0)):t.getUserAuthorizeBtn(e)},fail:function(){t._authorizeStatus=o.refuse,e(!1)}})},t.prototype.getUserAuthorizeBtn=function(e){console.log(this.systemInfo.screenWidth);var t=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:this.systemInfo.screenWidth,height:this.systemInfo.screenHeight,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});t.onTap(function(n){"getUserInfo:ok"==n.errMsg&&(console.log("\u83b7\u5f97\u6388\u6743 ?",n),t.hide(),t.destroy(),e())})},t.prototype.login=function(e,t,o,i){var a=this;if(this.wx)if(this.appid=e,this.secret=t,this.isLogin)o();else{var r=function(){a.isLogin=!0,n.instance.wx.hideLoading(),o()},s=function(){n.instance.wx.hideLoading(),i()};this.applyUserAuth(function(){a.getUserInfo(function(){a.loginWX(r,s)},function(){s()})})}else o()},t.prototype.loginWX=function(e,t){var n=this;this.wx.showLoading({title:"\u767b\u5f55\u4e2d...",mask:!0,width:250}),this.wx.login({timeout:3e4,success:function(o){n.wxLog("login",o),o.code?e():t()},fail:function(){t()},complete:function(){}})},t.prototype.checkSession=function(e,t){var n=this;this.wx.checkSession({success:function(){n.wxLog("session_key \u672a\u8fc7\u671f\uff0c\u5e76\u4e14\u5728\u672c\u751f\u547d\u5468\u671f\u4e00\u76f4\u6709\u6548"),e()},fail:function(){n.wxLog("\u5df2\u7ecf\u5931\u6548\uff0c\u9700\u8981\u91cd\u65b0\u6267\u884c\u767b\u5f55\u6d41\u7a0b"),n.loginWX(e,t)}})},t.prototype.getAccessToken=function(e,t,n){var o=this,i={code:n,fromAppId:this.appid,img:this._userInfo.avatarUrl,name:this.nickname};this.requestPost(this.url,i,function(n){o.wxLog("\u6536\u5230\u670d\u52a1\u7aef\u8fd4\u56de\u6570\u636e",n.data),o._tokenData=n.data.data;var i=n.statusCode;-1==i?t():0==i?e():200==i?e():40029==i?e():t()},function(){console.error(">>>>>>>\u83b7\u53d6\u767b\u5f55\u51ed\u8bc1\u5931\u8d25"),t()})},t.prototype.getAccessToken2=function(e,t,n){var o=this,a="https://api.weixin.qq.com/sns/jscode2session?appid={0}&secret={1}&js_code={2}&grant_type={3}";a=i.default.format(a,this.appid,this.secret,n,this.grant_type),this.requestGet(a,function(n){var i=n.data,a=i.openid,r=i.session_key,s=n.statusCode;n.errMsg,o._accessTokenData=n.data,o.wxLog("openId",a),o.wxLog("session_key",r),o.wxLog("accesstoken res ",n,s),-1==s?console.error(">>>\u7cfb\u7edf\u7e41\u5fd9\uff0c\u6b64\u65f6\u8bf7\u5f00\u53d1\u8005\u7a0d\u5019\u518d\u8bd5"):0==s?o.getUserInfo(e,t):200==s?o.getUserInfo(e,t):40029==s&&o.getUserInfo(e,t)},function(){console.error(">>>>>>>\u83b7\u53d6\u767b\u5f55\u51ed\u8bc1\u5931\u8d25"),t()})},t.prototype.getUserInfo=function(e,t){var n=this,o={withCredentials:!1,lang:"zh_CN",success:function(t){n._userData=t,n._userInfo=t.userInfo,n.wxLog("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f"),e()},fail:function(e){n.wxLog("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",e),t()}};wx.getUserInfo(o)},t.prototype.requestGet=function(e,t,n){var o={url:e,method:"GET",dataType:"json",success:function(e){t&&t(e)},fail:function(){n&&n(),console.error(">>>>>>\u8bf7\u6c42url\u5931\u8d25\uff1a"+o.url)}};this.wx.request(o)},t.prototype.requestPost=function(e,t,n,o){var i={url:e,method:"POST",data:t,dataType:"json",success:function(e){n&&n(e)},fail:function(){o&&o(),console.error(">>>>>>\u8bf7\u6c42url\u5931\u8d25\uff1a"+i.url)}};this.wx.request(i)},t.prototype.setUserRankStorage=function(e,t){if(this.wx){var n=[{key:e,value:t.toString()}];this.wx.setUserCloudStorage({KVDataList:n,success:function(e){console.log("setUserCloudStorage",e)}})}},t.prototype.unloadUserScore=function(e,t,n){var o=this;if(this.wx){var i=this.worldRankUrl+"?id="+this.uid+"&score="+e;this.requestGet(i,function(e){o.wxLog("\u4e0a\u4f20\u7528\u6237\u6570\u636e\u8fd4\u56de",e.data),0==e.data.code?t():n()},function(){console.error("\u4e0a\u4f20\u7528\u6237\u4fe1\u606f\u5931\u8d25"),n()})}},t.prototype.getUserScoreWorldRank=function(e,t){var n=this;if(this.wx){var o=this.worldRankUrl2+this.uid;this.requestGet(o,function(o){n.wxLog("\u7528\u6237\u4e16\u754c\u6392\u884c\u699c\u8fd4\u56de\u8fd4\u56de",o),0==o.data.code?e(o.data.data):t()},function(){console.error("\u4e0a\u4f20\u7528\u6237\u4fe1\u606f\u5931\u8d25"),t()})}},t.prototype.shareToAnyOne=function(e,t){if(this.wx){var o=Date.now()/1e3;if(o-this.shareTime<=3)n.instance.wx.showModal({title:"\u8b66\u544a",showCancel:!1,confirmText:"\u786e\u5b9a",content:Math.random()<.5?"\u77ed\u65f6\u95f4\u5185,\u4e0d\u8981\u5206\u4eab\u540c\u4e00\u4e2a\u7fa4":"\u8bf7\u6362\u4e2a\u7fa4\u8bd5\u8bd5\u54e6~~",success:function(e){e.confirm}}),t();else{this.shareTime=o;var i=["\u4eca\u5e744\u6708\u6700\u706b\u7684\u5c0f\u6e38\u620f","\u73a9\u8f6c\u98de\u5200\uff0c\u5750\u62e5\u5730\u7403\uff01","\u63d0\u9192\uff1a@\u4f60\u7684\u597d\u53cb \u5df2\u5b8c\u6210\u4e94\u6740","\u98de\u5200\u8f6c\u8f6c\u8f6c\uff0c\u538b\u529b\u6563\u6563\u6563\uff01","\u6211\u5347\u661f\u754c\u5927\u5e08\u4e86\uff0c\u4f60\u80fd\u6253\u5230\u5b87\u5b99\u6700\u5f3a\u5417\uff1f"],a=Math.floor(Math.random()*i.length);this.wx.shareAppMessage({title:""+i[a],imageUrl:"https://knife-1258819150.file.myqcloud.com/image/%E6%98%9F%E7%90%83%E9%A3%9E%E5%88%80.jpg",query:"type=shareToAnyOne",success:function(t){console.log("\u62c9\u8d77\u5206\u4eab \u6210\u529f",t),e()},fail:function(e){console.log("\u62c9\u8d77\u5206\u4eab \u5931\u8d25",e),t()}}),this.scheduleOnce(function(){var t=Date.now()/1e3;if(t-o<=3)return console.log(t,o,t-o),void n.instance.wx.showModal({title:"\u8b66\u544a",showCancel:!1,confirmText:"\u786e\u5b9a",content:Math.random()<.5?"\u77ed\u65f6\u95f4\u5185,\u4e0d\u8981\u5206\u4eab\u540c\u4e00\u4e2a\u7fa4":"\u8bf7\u6362\u4e2a\u7fa4\u8bd5\u8bd5\u54e6~~",success:function(e){e.confirm}});e(),n.instance.wx.showModal({title:"\u5206\u4eab\u6210\u529f",showCancel:!1,confirmText:"\u786e\u5b9a",content:"\u606d\u559c,\u83b7\u5f97\u5956\u52b1",success:function(e){e.confirm}})},.8)}}else e()},t.prototype.showVideo=function(e,t,n,o){var i=this;if(this.wx)if(this.SDKVersion<"2.04")console.log("\u57fa\u7840\u5e93\u7248\u672c\u8fc7\u4f4e\uff0c\u4e0d\u80fd\u4f7f\u7528\u89c6\u9891\u5e7f\u544a\u529f\u80fd");else{var a=this.wx.createRewardedVideoAd({adUnitId:e});a.onLoad(function(){i.wxLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),n&&n()}),a.onError(function(e){i.wxLog("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u62c9\u53d6\u5931\u8d25",e),o&&o()}),a.onClose(function(e){a.offLoad(),a.offError(),a.offClose(),a=null,e&&e.isEnded||void 0===e?t&&t(1):t&&t(0)}),a.load().then(function(){a.show().catch(function(e){i.wxLog("\u89c6\u9891\u5e7f\u544a\u64ad\u653e\u5931\u8d25",e),a.offLoad(),a.offError(),a.offClose(),a=null})})}else t&&t(1)},t.prototype.showBanner=function(e,t){var n=this;if(this.wx)return this.removeBanner(),this._bannerAd=this.wx.createBannerAd({adUnitId:e,style:t}),this._bannerAd.onLoad(function(){n.wxLog("\u5e7f\u544a\u62c9\u53d6\u6210\u529f")}),this._bannerAd.onError(function(e){n.wxLog("\u5e7f\u544a\u62c9\u53d6\u5931\u8d25",e)}),this._bannerAd.onResize(function(e){n._bannerAd.style.top=n.screenHeight-e.height,n._bannerAd.style.width=n.screenWidth+50}),this._bannerAd.show().then(function(){n.wxLog("\u663e\u793a\u5e7f\u544a")}),this._bannerAd},t.prototype.showBottomBanner=function(e){if(this.wx){var t={left:0,top:this.screenHeight-130,width:this.screenWidth+50};n.instance.showBanner(e,t)}},t.prototype.removeBanner=function(){this._bannerAd&&(this._bannerAd.offLoad(),this._bannerAd.offError(),this._bannerAd.offResize(),this._bannerAd.destroy(),this._bannerAd=null)},t.prototype.update=function(){},t.prototype.vibrateShort=function(){this.wx&&this.wx.vibrateShort({})},t.prototype.vibrateLong=function(){this.wx&&this.wx.vibrateLong({})},t.prototype.createWXAQRCode=function(){this.wx.createWXAQRCode()},t.prototype.getWXACode=function(){this.wx.getWXACode({})},n=__decorate([r],t)}(cc.Component);n.default=s,cc._RF.pop()},{"./SystemToolS":"SystemTools"}],Wall:[function(e,t,n){"use strict";cc._RF.push(t,"bb3bf7VhEZAh6x80G/z5qtc","Wall"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../core/GameManager"),i=e("./GameScene"),a=cc._decorator,r=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.left=null,t.right=null,t.top=null,t.down=null,t.promptMsgTxt=null,t.dis=1e3,t.speed=30,t.shrinkTime=0,t.isShrink=!1,t.zoom=cc.v2(.5,0),t}return __extends(t,e),t.prototype.start=function(){this.gameScene=o.default.instance.gameScene.getComponent(i.default),this.promptMsgTxt.node.active=!1},t.prototype.update=function(e){this.shrinkTime>0?(this.shrinkTime-=e,this.isShrink=!0,this.left.x<-(this.dis+this.left.width/2)&&(this.left.x+=this.speed*e,this.gameScene.sceneSize.width-=2*this.speed*e),this.right.x>this.dis+this.right.width/2&&(this.right.x-=this.speed*e),this.top.y>this.dis+this.top.height/2&&(this.top.y-=this.speed*e,this.gameScene.sceneSize.height-=2*this.speed*e),this.down.y<-(this.dis+this.down.height/2)&&(this.down.y+=this.speed*e)):this.isShrink&&(this.isShrink=!1,this.left.getComponent(cc.Animation).stop("splash"),this.right.getComponent(cc.Animation).stop("splash"),this.top.getComponent(cc.Animation).stop("splash"),this.down.getComponent(cc.Animation).stop("splash"),this.left.getComponent(cc.Animation).setCurrentTime(0,"splash"),this.right.getComponent(cc.Animation).setCurrentTime(0,"splash"),this.top.getComponent(cc.Animation).setCurrentTime(0,"splash"),this.down.getComponent(cc.Animation).setCurrentTime(0,"splash"))},t.prototype.shrink=function(){var e=this;this.node.stopAllActions(),this.promptMsgTxt.node.active=!0,this.promptMsgTxt.play(),this.scheduleOnce(function(){e.shrinkTime=15,e.left.getComponent(cc.Animation).play("splash"),e.right.getComponent(cc.Animation).play("splash"),e.top.getComponent(cc.Animation).play("splash"),e.down.getComponent(cc.Animation).play("splash")},10)},__decorate([s(cc.Node)],t.prototype,"left",void 0),__decorate([s(cc.Node)],t.prototype,"right",void 0),__decorate([s(cc.Node)],t.prototype,"top",void 0),__decorate([s(cc.Node)],t.prototype,"down",void 0),__decorate([s(cc.Animation)],t.prototype,"promptMsgTxt",void 0),__decorate([r],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../core/GameManager":"GameManager","./GameScene":"GameScene"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"78419ds54VL0ZQZbnqbliUG","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_v2.1-2.2.1_cc.Toggle_event","TestPhysics","Launch","Main","Test","BgSoundClip","SoundClip","Config","AccountRankData","KnifeConfigData","LevelConfigData","NameConfigData","DataManager","DataStorage","GameManager","ResourcesManager","ResourcesPool","SoundManager","LevelData","PlayerData","CustomEventType","Barrier","BlackHole","Body","CameraFollow","GameScene","Guide","Joystick","Knife","KnifePool","Mark","Player","PlayerAI","PlayerController","Wall","Item","UIManager","BaseUI","CustomButton","SelectView","TabButton","TabSelectView","View","PopupMsg","PopupText","AccountUI","DuanWei","LevelIcon","LevelMessageUI","MainUI","MatchingUI","NavigateOtherGameIcon","TryOutUI","UpgradeUI","WXOpenDataUI","MessageUI","RankItem","RankUI","FailPanel","SuccessPanel","SelectItem","AnimationController","Clock","CommonUils","Mathf","MovieClip","Quake","Random","SplashScreen","Vector2","SystemTools","WXRank","WXSdk"]);