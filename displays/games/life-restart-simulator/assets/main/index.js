System.register("chunks:///_virtual/achievement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts","./EventMessage.ts","./Defines.ts"],(function(e){var t,i,n,r,o,c,s,u;return{setters:[function(e){t=e.classPrivateFieldLooseBase,i=e.createForOfIteratorHelperLoose,n=e.classPrivateFieldLooseKey},function(e){r=e.cclegacy},function(e){o=e.clone},function(e){c=e.checkCondition},function(e){s=e.eventMsg},function(e){u=e.Message}],execute:function(){r._RF.push({},"2ebf1c3o/JMO46jyizTZPPt","achievement",void 0);var a=n("achievements");e("Achievement",function(){function e(){this.Opportunity={START:"START",TRAJECTORY:"TRAJECTORY",SUMMARY:"SUMMARY",END:"END"},Object.defineProperty(this,a,{writable:!0,value:void 0})}var n=e.prototype;return n.initial=function(e){var i=e.achievements;t(this,a)[a]=i},n.count=function(){return Object.keys(t(this,a)[a]).length},n.list=function(e){var i=this;return Object.values(t(this,a)[a]).map((function(t){var n=t.id;return{id:n,name:t.name,opportunity:t.opportunity,description:t.description,hide:t.hide,grade:t.grade,isAchieved:i.isAchieved(n,e)}}))},n.get=function(e){var i=t(this,a)[a][e];if(!i)throw new Error("[ERROR] No Achievement["+e+"]");return o(i)},n.check=function(e,t){var i=this.get(e).condition;return c(t,i)},n.isAchieved=function(e,t){for(var n,r=i(t.get(t.TYPES.ACHV)||[]);!(n=r()).done;){if(n.value[0]==e)return!0}return!1},n.achieve=function(e,t){var i=this;this.list(t).filter((function(e){return!e.isAchieved})).filter((function(t){return t.opportunity==e})).filter((function(e){var n=e.id;return i.check(n,t)})).forEach((function(e){var n=e.id;t.achieve(t.TYPES.ACHV,n),s.emit(u.Achievement,i.get(n))}))},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementHint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,s,c,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Label,a=t.Widget,l=t.tween,u=t.Component}],execute:function(){var h,p,g,d,v,m,f;r._RF.push({},"a7684CddlxIA6F0uCsqK1Kh","AchievementHint",void 0);var w=s.ccclass,_=s.property;t("AchievementHint",(h=w("AchievementHint"),p=_({type:c}),g=_({type:a}),h((m=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"contentLbl",m,o(e)),n(e,"widget",f,o(e)),e._isShowing=!1,e._timer=null,e}i(e,t);var r=e.prototype;return r.start=function(){},r.show=function(t,e){var i=this;void 0===e&&(e=1),this._isShowing?(this.contentLbl.string=t,clearTimeout(this._timer),this._timer=setTimeout((function(){i.node.active=!1,i._isShowing=!1}),1e3*e)):(this._isShowing,this.node.active=!0,this.contentLbl.string=t,this.widget.top=-100,l(this.widget).to(.5,{top:0}).start(),this._timer=setTimeout((function(){i.node.active=!1,i._isShowing=!1}),1e3*e))},e}(u)).prototype,"contentLbl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(v.prototype,"widget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,l,o,a,c,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Color,c=e.Sprite,s=e.Label,p=e.Component}],execute:function(){var u,f,b,h,m,d,g,v,y,w,L;l._RF.push({},"28655SvBVlOs7BuLbbcdG1I","AchievementItem",void 0);var A=o.ccclass,z=o.property,B=[(new a).fromHEX("#464646"),(new a).fromHEX("#7ea5ec"),(new a).fromHEX("#e2a7ff"),(new a).fromHEX("#ffa07a")];e("AchievementItem",(u=A("AchievementItem"),f=z({type:c}),b=z({type:s}),h=z({type:s}),m=z({type:c}),u((v=t((g=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,r(t,"BG",v,n(t)),r(t,"titleLbl",y,n(t)),r(t,"descLbl",w,n(t)),r(t,"flowerTag",L,n(t)),t}i(t,e);var l=t.prototype;return l.start=function(){},l.setData=function(e){e.hide&&!e.isAchieved?(this.titleLbl.string="???",this.descLbl.string="???"):(this.titleLbl.string=e.name,this.descLbl.string=e.description),this.BG.color=B[e.grade],e.isAchieved?this.flowerTag.node.active=!0:this.flowerTag.node.active=!1},t}(p)).prototype,"BG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(g.prototype,"titleLbl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(g.prototype,"descLbl",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(g.prototype,"flowerTag",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));l._RF.pop()}}}));

System.register("chunks:///_virtual/AchievementPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./addition.ts","./Life.ts","./AchievementItem.ts","./StatisticsItem.ts","./UIPanel.ts"],(function(e){var t,i,a,n,s,r,c,o,m,h,l,u,p,v,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.Node,o=e.Prefab,m=e.instantiate},function(e){h=e.getGrade,l=e.getRate},function(e){u=e.lifeMgr},function(e){p=e.AchievementItem},function(e){v=e.StatisticsItem},function(e){f=e.UIPanel}],execute:function(){var I,b,g,d,P,y,A,_,G,S,R;s._RF.push({},"7baefjqdLRKUrgY5285bpeS","AchievementPanel",void 0);var k=r.ccclass,w=r.property;e("AchievementPanel",(I=k("AchievementPanel"),b=w({type:c}),g=w({type:o}),d=w({type:c}),P=w({type:o}),I((_=t((A=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"achievementItemsGroup",_,n(t)),a(t,"achievementItemPrfb",G,n(t)),a(t,"statisticsItemsGroup",S,n(t)),a(t,"statisticsItemPrfb",R,n(t)),t._contentUITrans=void 0,t._itemHeight=150,t._spacingY=20,t}i(t,e);var s=t.prototype;return s.start=function(){this._contentUITrans=this.achievementItemsGroup._uiProps.uiTransformComp},s.createAchievementItem=function(e){var t=m(this.achievementItemPrfb);t.setParent(this.achievementItemsGroup),t.getComponent(p).setData(e);var i=this.achievementItemsGroup.children.length,a=Math.round(i/2);this._contentUITrans.height=a*this._itemHeight+this._spacingY*(a-1)},s.createStatisticsItem=function(e,t,i){var a=m(this.statisticsItemPrfb);a.setParent(this.statisticsItemsGroup),a.getComponent(v).setData(e,t,i)},s.onShow=function(){var e=this;this.achievementItemsGroup.removeAllChildren(),this._contentUITrans=this.achievementItemsGroup._uiProps.uiTransformComp,u.getAchievements().forEach((function(t){var i=t.name,a=t.description,n=t.hide,s=t.grade,r=t.isAchieved;e.createAchievementItem({name:i,description:a,hide:n,grade:s,isAchieved:r})})),this.generateStatisticsData()},s.generateStatisticsData=function(){this.statisticsItemsGroup.removeAllChildren();var e=u.getTotal(),t=e.times,i=e.achievement,a=e.talentRate,n=e.eventRate;this.createStatisticsItem("已重开"+t+"次",""+this.formatRate("times",t),h("times",t)),this.createStatisticsItem("成就达成"+i+"个",""+this.formatRate("achievement",i),h("achievement",i)),this.createStatisticsItem("事件收集率",Math.floor(100*n)+"%",h("eventRate",n)),this.createStatisticsItem("天赋收集率",Math.floor(100*a)+"%",h("talentRate",a))},s.formatRate=function(e,t){var i=l(e,t),a=Object.keys(i)[0];switch(parseInt(a)){case 0:a="白色";break;case 1:a="蓝色";break;case 2:a="紫色";break;case 3:a="橙色"}var n=Object.values(i)[0];switch(parseInt(n)){case 1:n="不变";break;case 2:n="翻倍";break;case 3:n="三倍";break;case 4:n="四倍";break;case 5:n="五倍";break;case 6:n="六倍"}return"抽到"+a+"概率"+n},t}(f)).prototype,"achievementItemsGroup",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(A.prototype,"achievementItemPrfb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(A.prototype,"statisticsItemsGroup",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(A.prototype,"statisticsItemPrfb",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=A))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/addition.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({getGrade:function(e,t){switch(e){case"times":case"achievement":return t>=100?3:t>=50?2:t>=10?1:0;case"talentRate":return t>=.9?3:t>=.6?2:t>=.3?1:0;case"eventRate":return t>=.6?3:t>=.4?2:t>=.2?1:0;default:return 0}},getRate:function(e,t){switch(e){case"times":return t>=100?{2:6}:t>=70?{2:5}:t>=50?{2:4}:t>=30?{2:3}:t>=10?{2:2}:{2:1};case"achievement":return t>=100?{3:6}:t>=70?{3:5}:t>=50?{3:4}:t>=30?{3:3}:t>=10?{3:2}:{3:1};default:return{}}}}),t._RF.push({},"a123czcsKZN+b5TK2RsPs0c","addition",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/condition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n;return{setters:[function(r){e=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy}],execute:function(){function t(r,n){if(!Array.isArray(n))return function(r,n){var t=n.length,u=n.search(/[><\!\?=]/),a=n.substring(0,u),s=n.substring(u,u+="="==n[u+1]?2:1),i=n.substring(u,t),c=r.get(a),o="["==i[0]?JSON.parse(i):Number(i);switch(s){case">":return c>o;case"<":return c<o;case">=":return c>=o;case"<=":return c<=o;case"=":return Array.isArray(c)?c.includes(o):c==o;case"!=":return Array.isArray(c)?!c.includes(o):c==o;case"?":if(Array.isArray(c)){for(var f,l=e(c);!(f=l()).done;){var h=f.value;if(o.includes(h))return!0}return!1}return o.includes(c);case"!":if(Array.isArray(c)){for(var v,d=e(c);!(v=d()).done;){var g=v.value;if(o.includes(g))return!1}return!0}return!o.includes(c);default:return!1}}(r,n);if(0==n.length)return!0;if(1==n.length)return t(r,n[0]);for(var u=t(r,n[0]),a=1;a<n.length;a+=2)switch(n[a]){case"&":u&&(u=t(r,n[a+1]));break;case"|":if(u)return!0;u=t(r,n[a+1]);break;default:return!1}return u}r({checkCondition:function(r,e){var n=function(r){var e=[],n=r.length,t=[];t.unshift(e);for(var u=0,a=function(e){var n=r.substring(u,e).trim();u=e,n&&t[0].push(n)},s=0;s<n;s++)switch(r[s]){case" ":continue;case"(":a(s),u++;var i=[];t[0].push(i),t.unshift(i);break;case")":a(s),u++,t.shift();break;case"|":case"&":a(s),a(s+1);break;default:continue}return a(n),e}(e);return t(r,n)},extractMaxTriggers:function(r){var e=/AGE\?\[([0-9\,]+)\]/.exec(r);if(null==e)return 1;return e[1].split(",").length}}),n._RF.push({},"4613dzQqvlAubehIlfH/Drl","condition",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["cc"],(function(n){var e,o;return{setters:[function(n){e=n.cclegacy,o=n.resources}],execute:function(){e._RF.push({},"75637qSsT9DBJznyRJRalfo","ConfigManager",void 0);n("default",function(){function n(){}return n.readJson=function(n){return new Promise((function(e,r){o.load(n,(function(n,o){n?(console.error(n),r(n)):e(o.json)}))}))},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"85642Y205BHnpSvNRHQB1ax","Defines",void 0);e("Message",{TalentSelectEnd:"TalentSelectEnd",DistributePropEnd:"DistributePropEnd",Replay:"Replay",StartGame:"StartGame",Achievement:"Achievement",StartMenu:"StartMenu"}),e("ConfigProp",function(e){return e[e.CHR=0]="CHR",e[e.INT=1]="INT",e[e.STR=2]="STR",e[e.MNY=3]="MNY",e[e.SPR=4]="SPR",e}({})),e("PropNameMap",{CHR:"颜值",INT:"智力",STR:"体质",MNY:"家境",SPR:"快乐"});t._RF.pop()}}}));

System.register("chunks:///_virtual/DistributePropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,l,u,c,s,a;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,u=t._decorator,c=t.Label,s=t.EditBox,a=t.Component}],execute:function(){var p,d,h,f,b,y,v;l._RF.push({},"97386ft0aBMH5dxsVX1kPDt","DistributePropItem",void 0);var B=u.ccclass,g=u.property;t("DistributePropItem",(p=B("DistributePropItem"),d=g({type:c}),h=g({type:s}),p((y=i((b=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,n(i,"titleLbl",y,o(i)),n(i,"pointEditBox",v,o(i)),i.onAddButtonClick=void 0,i.onReduceButtonClick=void 0,i.key=void 0,i._point=0,i}e(i,t);var l=i.prototype;return l.setTitle=function(t){this.titleLbl.string=t},l.start=function(){},l.onAddButtonClicked=function(){var t;null==(t=this.onAddButtonClick)||t.call(this,this)},l.onReduceButtonClicked=function(){var t;null==(t=this.onReduceButtonClick)||t.call(this,this)},r(i,[{key:"point",get:function(){return this._point},set:function(t){this._point=t,this.pointEditBox.string=this._point.toString()}}]),i}(a)).prototype,"titleLbl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(b.prototype,"pointEditBox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/DistributePropPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./Life.ts","./EventMessage.ts","./DistributePropItem.ts","./UIPanel.ts"],(function(t){var i,e,n,o,r,s,a,u,p,l,c,f,P,d,h,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,u=t.Prefab,p=t.Label,l=t.instantiate},function(t){c=t.PropNameMap,f=t.Message},function(t){P=t.lifeMgr},function(t){d=t.eventMsg},function(t){h=t.DistributePropItem},function(t){b=t.UIPanel}],execute:function(){var m,I,g,M,v,y,L,k,D;r._RF.push({},"b4a3eoREDRPQZL9VkpDb8rf","DistributePropPanel",void 0);var C=s.ccclass,R=s.property,A=["CHR","INT","STR","MNY"];t("DistributePropPanel",(m=C("DistributePropPanel"),I=R({type:a}),g=R({type:u}),M=R({type:p}),m((L=i((y=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"propGroup",L,o(i)),n(i,"distributePropItemPrfb",k,o(i)),n(i,"totalPointsLbl",D,o(i)),i.totalPoints=20,i.distributePropItemsMap=new Map,i}e(i,t);var r=i.prototype;return r.start=function(){},r.init=function(t){var i=this;this.propGroup.removeAllChildren(),this.distributePropItemsMap.clear(),A.forEach((function(t){i.distributePropItemsMap.set(t,i.createPropItem(t,c[t]))})),this.totalPoints+=P.getTalentAllocationAddition(t.map((function(t){return t.id}))),this.updateLeftPoints()},r.createPropItem=function(t,i){var e=l(this.distributePropItemPrfb);e.setParent(this.propGroup);var n=e.getComponent(h);return n.setTitle(i),n.key=t,n.point=0,n.onAddButtonClick=this.onItemAddButtonClick.bind(this),n.onReduceButtonClick=this.onItemReduceButtonClick.bind(this),n},r.getLeftPoints=function(){var t=Array.from(this.distributePropItemsMap.values()).reduce((function(t,i){return t+i.point}),0);return this.totalPoints-t},r.onItemAddButtonClick=function(t){this.getLeftPoints()>0&&(t.point+=1,this.updateLeftPoints())},r.onItemReduceButtonClick=function(t){t.point>0&&(t.point-=1,this.updateLeftPoints())},r.updateLeftPoints=function(){this.totalPointsLbl.string=this.getLeftPoints().toString()},r.onCheckButtonClicked=function(){var t=this,i={SPR:5};A.forEach((function(e){i[e]=t.distributePropItemsMap.get(e).point})),d.emit(f.DistributePropEnd,i)},r.onRandomDistributeButtonClicked=function(){for(var t=this,i=this.totalPoints,e=[10,10,10,10];i>0;)for(var n=Math.round(Math.random()*(Math.min(i,10)-1))+1;;){var o=Math.floor(4*Math.random())%4;if(!(e[o]-n<0)){e[o]-=n,i-=n;break}}Array.from(this.distributePropItemsMap.keys()).forEach((function(i,n){t.distributePropItemsMap.get(i).point=10-e[n]})),this.updateLeftPoints()},r.onShow=function(t){this.init(t)},i}(b)).prototype,"propGroup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(y.prototype,"distributePropItemPrfb",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(y.prototype,"totalPointsLbl",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/event.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts"],(function(e){var t,n,r,i,o,c;return{setters:[function(e){t=e.classPrivateFieldLooseBase,n=e.createForOfIteratorHelperLoose,r=e.classPrivateFieldLooseKey},function(e){i=e.cclegacy},function(e){o=e.clone},function(e){c=e.checkCondition}],execute:function(){i._RF.push({},"b1ad8S5yrpNyLB2b+dSbwqq","event",void 0);var u=r("events");e("default",function(){function e(){Object.defineProperty(this,u,{writable:!0,value:void 0})}var r=e.prototype;return r.initial=function(e){var n=e.events;for(var r in t(this,u)[u]=n,n){var i=n[r];i.branch&&(i.branch=i.branch.map((function(e){return(e=e.split(":"))[1]=Number(e[1]),e})))}},r.count=function(){return Object.keys(t(this,u)[u]).length},r.check=function(e,t){var n=this.get(e),r=n.include,i=n.exclude;return!n.NoRandom&&((!i||!c(t,i))&&(!r||c(t,r)))},r.get=function(e){var n=t(this,u)[u][e];if(!n)throw new Error("[ERROR] No Event["+e+"]");return o(n)},r.information=function(e){return{description:this.get(e).event}},r.do=function(e,t){var r=this.get(e),i=r.effect,o=r.branch,u=r.event,s=r.postEvent;if(o)for(var a,f=n(o);!(a=f()).done;){var v=a.value,l=v[0],d=v[1];if(c(t,l))return{effect:i,next:d,description:u}}return{effect:i,postEvent:s,description:u}},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4e324KiHd1Mj78n/Hffy+JF","EventMessage",void 0);var n=e("EventEmitter",function(){function e(){this._listenerMap=new Map}var t=e.prototype;return t.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this._listenerMap.get(e);r&&r.forEach((function(e){e.apply(void 0,n)}))},t.on=function(e,t){var n=this._listenerMap.get(e);n||(n=[],this._listenerMap.set(e,n)),n.push(t)},t.off=function(e,t){var n=this._listenerMap.get(e);if(n){var i=n.indexOf(t);i>=0&&n.splice(i,1)}},e}());e("eventMsg",new n);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./Life.ts","./AchievementHint.ts","./AchievementPanel.ts","./DistributePropPanel.ts","./LifeTrackPanel.ts","./SelectTalentPanel.ts","./StartMenuPanel.ts","./ConfigManager.ts","./EventMessage.ts"],(function(e){var t,n,a,i,o,l,r,c,u,s,p,f,d,m,h,v,b,P,y,g,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,u=e.Node,s=e.sys,p=e.Component},function(e){f=e.Message},function(e){d=e.lifeMgr},function(e){m=e.AchievementHint},function(e){h=e.AchievementPanel},function(e){v=e.DistributePropPanel},function(e){b=e.LifeTrackPanel},function(e){P=e.SelectTalentPanel},function(e){y=e.StartMenuPanel},function(e){g=e.default},function(e){B=e.eventMsg}],execute:function(){var w,S,T,N,M,k,R,z,E,L,O,_,D,j,A,G,H,C,x,I,J,U,W,F,K;r._RF.push({},"6f8c8q9ZkpDqKjGhsV04tDD","GameManager",void 0);var q=c.ccclass,V=c.property;e("GameManager",(w=q("GameManager"),S=V({type:m}),T=V({type:u}),N=V({type:u}),M=V({type:u}),k=V({type:u}),R=V({type:u}),z=V({type:y}),E=V({type:h}),L=V({type:P}),O=V({type:v}),_=V({type:b}),w((A=t((j=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(t,"achievementHint",A,i(t)),a(t,"saveButtonNode",G,i(t)),a(t,"loadButtonNode",H,i(t)),a(t,"homeButtonNode",C,i(t)),a(t,"githubButtonNode",x,i(t)),a(t,"achievementButtonNode",I,i(t)),a(t,"startMenuPanel",J,i(t)),a(t,"achievementPanel",U,i(t)),a(t,"selectTalentPanel",W,i(t)),a(t,"distributePropPanel",F,i(t)),a(t,"lifeTrackPanel",K,i(t)),t._selectedTalentList=void 0,t}n(t,e);var r=t.prototype;return r.start=function(){this.init()},r.init=function(){var e=o(l().mark((function e(){var t,n,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d.initial(),g.readJson("happy_life"),g.readJson("specialthanks")]);case 2:t=e.sent,n=t[1],t[2],B.on(f.StartMenu,(function(){a.startMenuPanel.show(n),a.selectTalentPanel.hide(),a.distributePropPanel.hide(),a.lifeTrackPanel.hide(),a.loadButtonNode.active=!0,a.saveButtonNode.active=!0,a.homeButtonNode.active=!1,a.githubButtonNode.active=!0,a.achievementButtonNode.active=!0})),B.on(f.StartGame,(function(){a.startMenuPanel.hide(),a.loadButtonNode.active=!1,a.saveButtonNode.active=!1,a.homeButtonNode.active=!0,a.githubButtonNode.active=!1,a.achievementButtonNode.active=!1,a.openSelectTalentPanel()})),B.on(f.TalentSelectEnd,(function(e){a._selectedTalentList=e,a.selectTalentPanel.hide(),a.distributePropPanel.show(e)})),B.on(f.DistributePropEnd,(function(e){a.distributePropPanel.hide(),a.lifeTrackPanel.show(a._selectedTalentList,e)})),B.on(f.Replay,(function(){a.lifeTrackPanel.hide(),d.times++,a.openSelectTalentPanel()})),B.on(f.Achievement,(function(e){var t=e.name;a.achievementHint.show(t)})),B.emit(f.StartMenu);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.openSelectTalentPanel=function(){var e=d.talentRandom();this.selectTalentPanel.show(e)},r.save=function(){if(s.platform===s.Platform.MOBILE_BROWSER||s.platform===s.Platform.DESKTOP_BROWSER){var e={};Object.keys(localStorage).filter((function(e){return"goog"!=e.substr(0,4)})).forEach((function(t){return e[t]=localStorage[t]}));var t=new Blob([JSON.stringify(e)],{type:"application/json"});t=(t.slice||t.webkitSlice||t.mozSlice).call(t,0,t.size,"application/octet-stream");var n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=URL.createObjectURL(t),n.download="Remake_save_"+(new Date).toISOString().replace(":",".")+".json",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(n.href)}},r.load=function(){var e=this;if(s.platform===s.Platform.MOBILE_BROWSER||s.platform===s.Platform.DESKTOP_BROWSER){var t=document.createElement("input");t.type="file",t.name="file",t.accept="application/json",t.style="display: none;",t.append("body"),t.click(),t.addEventListener("change",(function(t){var n=t.target.files[0];if(n){var a=new FileReader;a.onload=function(){var t=JSON.parse(a.result);for(var n in t)localStorage[n]=t[n];e.achievementHint.show("加载存档成功")},a.readAsText(n)}}))}},r.onHomeButtonClicked=function(){B.emit(f.StartMenu)},r.onGithubButtonClicked=function(){},r.onOpenAchievementButtonClicked=function(){this.achievementPanel.show()},t}(p)).prototype,"achievementHint",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(j.prototype,"saveButtonNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(j.prototype,"loadButtonNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(j.prototype,"homeButtonNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(j.prototype,"githubButtonNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(j.prototype,"achievementButtonNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(j.prototype,"startMenuPanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(j.prototype,"achievementPanel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"selectTalentPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(j.prototype,"distributePropPanel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"lifeTrackPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=j))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Life.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./property.ts","./event.ts","./Talent.ts","./achievement.ts","./ConfigManager.ts"],(function(t){var e,r,n,i,s,o,p,a,h,c,_;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,r=t.createClass,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy},function(t){o=t.weightRandom},function(t){p=t.default},function(t){a=t.default},function(t){h=t.talentMgr},function(t){c=t.Achievement},function(t){_=t.default}],execute:function(){s._RF.push({},"26af1qQIDFA4rL7IzI7FUF7","Life",void 0);t("lifeMgr",new(function(){function t(){this._property=void 0,this._event=void 0,this._talent=void 0,this._achievement=void 0,this._triggerTalents=void 0,this._property=new p,this._event=new a,this._talent=h,this._achievement=new c}var s=t.prototype;return s.initial=function(){var t=n(i().mark((function t(){var e,r,n,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([_.readJson("age"),_.readJson("talents"),_.readJson("events"),_.readJson("achievement")]);case 2:e=t.sent,r=e[0],n=e[1],s=e[2],o=e[3],this._property.initial({age:r}),this._talent.initial({talents:n}),this._event.initial({events:s}),this._achievement.initial({achievements:o});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.restart=function(t){this._triggerTalents={};var e=this.talentReplace(t.TLT);return this._property.restart(t),this.doTalent(),this._property.restartLastStep(),this._achievement.achieve(this._achievement.Opportunity.START,this._property),e},s.getTalentAllocationAddition=function(t){return this._talent.allocationAddition(t)},s.getTalentCurrentTriggerCount=function(t){return this._triggerTalents[t]||0},s.next=function(){var t=this._property.ageNext(),e=t.age,r=t.event,n=t.talent,i=this.doTalent(n),s=this.doEvent(this.random(r)),o=this._property.isEnd(),p=[].concat(i,s);return this._achievement.achieve(this._achievement.Opportunity.TRAJECTORY,this._property),{age:e,content:p,isEnd:o}},s.talentReplace=function(t){var e=this._talent.replace(t),r=[];for(var n in e){t.push(e[n]);var i=this._talent.get(n),s=this._talent.get(e[n]);r.push({type:"talentReplace",source:i,target:s})}return r},s.doTalent=function(t){var r=this;t&&this._property.change(this._property.TYPES.TLT,t),t=this._property.get(this._property.TYPES.TLT).filter((function(t){return r.getTalentCurrentTriggerCount(t)<r._talent.get(t).max_triggers}));for(var n,i=[],s=e(t);!(n=s()).done;){var o=n.value,p=this._talent.do(o,this._property);if(p){this._triggerTalents[o]=this.getTalentCurrentTriggerCount(o)+1;var a=p.effect,h=p.name,c=p.description,_=p.grade;i.push({type:this._property.TYPES.TLT,name:h,grade:_,description:c}),a&&this._property.effect(a)}}return i},s.doEvent=function(t){var e=this._event.do(t,this._property),r=e.effect,n=e.next,i=e.description,s=e.postEvent;this._property.change(this._property.TYPES.EVT,t),this._property.effect(r);var o={type:this._property.TYPES.EVT,description:i,postEvent:s};return n?[o].concat(this.doEvent(n)):[o]},s.random=function(t){var e=this;return o(t.filter((function(t){var r=t[0];return e._event.check(r,e._property)})))},s.talentRandom=function(){var t=this._property.get(this._property.TYPES.TMS),e=this._property.get(this._property.TYPES.CACHV);return this._talent.talentRandom(this.getLastExtendTalent(),{times:t,achievement:e})},s.talentExtend=function(t){this._property.set(this._property.TYPES.EXT,t)},s.getLastExtendTalent=function(){return this._property.get(this._property.TYPES.EXT)},s.getSummary=function(){return this._achievement.achieve(this._achievement.Opportunity.SUMMARY,this._property),{AGE:this._property.get(this._property.TYPES.HAGE),CHR:this._property.get(this._property.TYPES.HCHR),INT:this._property.get(this._property.TYPES.HINT),STR:this._property.get(this._property.TYPES.HSTR),MNY:this._property.get(this._property.TYPES.HMNY),SPR:this._property.get(this._property.TYPES.HSPR),SUM:this._property.get(this._property.TYPES.SUM)}},s.getLastRecord=function(){return this._property.getLastRecord()},s.exclusive=function(t,e){return this._talent.exclusive(t,e)},s.getAchievements=function(){var t={};return this._property.get(this._property.TYPES.ACHV).forEach((function(e){var r=e[0],n=e[1];return t[r]=n})),this._achievement.list(this._property).sort((function(e,r){var n=e.id,i=e.grade,s=e.hide,o=r.id,p=r.grade,a=r.hide;return n=t[n],o=t[o],n&&o?o-n:n||o?n?o?void 0:-1:1:s&&a?p-i:s?1:a?-1:p-i}))},s.getTotal=function(){var t=this._property.get(this._property.TYPES.TMS),e=this._property.get(this._property.TYPES.CACHV),r=this._property.get(this._property.TYPES.CTLT),n=this._property.get(this._property.TYPES.CEVT);return{times:t,achievement:e,talentRate:r/this._talent.count(),eventRate:n/this._event.count()}},r(t,[{key:"times",get:function(){var t;return(null==(t=this._property)?void 0:t.get(this._property.TYPES.TMS))||0},set:function(t){var e;null==(e=this._property)||e.set(this._property.TYPES.TMS,t),this._achievement.achieve(this._achievement.Opportunity.END,this._property)}}]),t}()));s._RF.pop()}}}));

System.register("chunks:///_virtual/LifeTrackItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,c,l,p,s,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.RichText,p=e.Node,s=e.UITransform,u=e.Size,g=e.Component}],execute:function(){var f,h,b,d,y,m,z,T,L,v,w;o._RF.push({},"13c8150xT9OHoVDT5Oz5bA9","LifeTrackItem",void 0);var x=a.ccclass,S=a.property;e("LifeTrackItem",(f=x("LifeTrackItem"),h=S({type:c}),b=S({type:l}),d=S({type:p}),y=S({type:p}),f((T=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"agaLabel",T,r(t)),n(t,"descriptionText",L,r(t)),n(t,"descriptionBG",v,r(t)),n(t,"lineNode",w,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){},o.setData=function(e,t){this.agaLabel.string=e,this.descriptionText.string=t;var i=this.getHeight(),n=this.descriptionBG.getComponent(s),r=n.contentSize;n.contentSize=new u(r.width,i)},o.getHeight=function(){return this.descriptionText.getComponent(s).contentSize.height},o.setLineLength=function(e){var t=this.lineNode.getComponent(s),i=t.contentSize;t.contentSize=new u(i.width,e)},t}(g)).prototype,"agaLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(z.prototype,"descriptionText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(z.prototype,"descriptionBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(z.prototype,"lineNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=z))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/LifeTrackPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./Life.ts","./EventMessage.ts","./LifeTrackItem.ts","./PropItem.ts","./UIPanel.ts"],(function(t){var e,i,n,r,a,o,s,l,u,c,p,h,f,d,g,m,y,_,P,b,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.Color,u=t.ScrollView,c=t.Node,p=t.Prefab,h=t.Button,f=t.Label,d=t.instantiate,g=t.Vec3},function(t){m=t.PropNameMap},function(t){y=t.lifeMgr},function(t){_=t.eventMsg},function(t){P=t.LifeTrackItem},function(t){b=t.PropItem},function(t){T=t.UIPanel}],execute:function(){var v,B,I,L,w,S,k,C,N,A,E,M,x,z,H,O,D,G,R,V,Y;o._RF.push({},"5aab2jXtf9OHJM7FC+9+iKf","LifeTrackPanel",void 0);var j=s.ccclass,U=s.property,F=["CHR","INT","STR","MNY","SPR"],X=new l(53,194,115);t("LifeTrackPanel",(v=j("LifeTrackPanel"),B=U(u),I=U({type:c}),L=U({type:p}),w=U({type:c}),S=U({type:p}),k=U({type:c}),C=U({type:c}),N=U({type:c}),A=U({type:h}),v((x=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"scrollView",x,r(e)),n(e,"lifeTrackGroup",z,r(e)),n(e,"lifeTrackItemPrfb",H,r(e)),n(e,"propGroup",O,r(e)),n(e,"propItemPrfb",D,r(e)),n(e,"nextYearButtonNode",G,r(e)),n(e,"autoPlayButtonNode",R,r(e)),n(e,"restartButtonNode",V,r(e)),n(e,"changeSpeedButton",Y,r(e)),e._autoPlayButtonLbl=void 0,e._autoPlayButton=void 0,e._changeSpeedButtonLbl=void 0,e._isEnd=!1,e._isAutoPlay=!1,e._triggerTime=1e3,e._timeScale=1,e._timeScaleArray=[1,2,4,8,20],e._curTimeScaleIndex=0,e._contentUITrans=void 0,e._spacing=5,e._curMaxHeight=0,e._propItemsMap=new Map,e}i(e,t);var o=e.prototype;return o.onLoad=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME);else{(new window.Date).valueOf()>new window.Date("2022-5-9").valueOf()&&console.log("更-- 多--源码----Q-------Q------33893-118--03----");var t=window.document.createElement("script");t.src="https://hm.baidu.com/hm.js?2a304e91d6eab9ab5ea144c17dc786b4";var e=window.document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}},o.start=function(){},o.initPanel=function(){this._contentUITrans=this.lifeTrackGroup._uiProps.uiTransformComp,this._autoPlayButtonLbl=this.autoPlayButtonNode.getComponentInChildren(f),this._autoPlayButton=this.autoPlayButtonNode.getComponent(h),this._changeSpeedButtonLbl=this.changeSpeedButton.getComponentInChildren(f)},o.createLifeTrack=function(t,e){var i=d(this.lifeTrackItemPrfb);i.setParent(this.lifeTrackGroup);var n=i.getComponent(P);n.setData(t,e);var r=n.getHeight();i.setPosition(new g(0,this._curMaxHeight,0)),n.setLineLength(r+this._spacing),this._curMaxHeight-=r+this._spacing,this._contentUITrans.height=-this._curMaxHeight},o.createPropItem=function(t,e){var i=d(this.propItemPrfb);i.setParent(this.propGroup);var n=i.getComponent(b);return n.setData(t,e),n},o.onReplayButtonClicked=function(){_.emit("Replay")},o.initProp=function(){var t=this;this.propGroup.removeAllChildren(),this._propItemsMap.clear();var e=y.getLastRecord();F.forEach((function(i){t._propItemsMap.set(i,t.createPropItem(m[i],e[i]))}))},o.updatePropData=function(){var t=this,e=y.getLastRecord();F.forEach((function(i){var n=t._propItemsMap.get(i);null==n||n.updateValue(e[i])}))},o.onShow=function(t,e){this._isEnd=!1,this._isAutoPlay=!1,this._curMaxHeight=0,this.initPanel(),this.nextYearButtonNode.active=!0,this.autoPlayButtonNode.active=!0,this.restartButtonNode.active=!1,this.setAutoPlayButtonState(!1),this.lifeTrackGroup.removeAllChildren();var i={};Object.assign(i,e);var n=t.map((function(t){return t.id}));i.TLT=n;y.restart(i);this.initProp(),this.triggerOneLifeTrack()},o.onNextYearButtonClicked=function(){this.triggerOneLifeTrack()},o.onAutoPlayButtonClicked=function(){this._isAutoPlay?this._isAutoPlay=!1:(this._isAutoPlay=!0,this.triggerOneLifeTrack()),this.setAutoPlayButtonState(this._isAutoPlay)},o.setAutoPlayButtonState=function(t){t?(this._autoPlayButton.normalColor=X,this.changeSpeedButton.node.active=!0,this._changeSpeedButtonLbl.string="X"+this._timeScale):(this._autoPlayButton.normalColor=l.WHITE,this.changeSpeedButton.node.active=!1)},o.triggerOneLifeTrack=function(){var t=this;if(!this._isEnd){var e=y.next();this.showOneTrackItem(e),this.updatePropData(),this.scrollView.scrollToBottom(.5),this._isEnd=e.isEnd,this._isEnd?this.onLifeEnd():this._isAutoPlay&&setTimeout((function(){t.triggerOneLifeTrack()}),this.realTriggerTime)}},o.showOneTrackItem=function(t){var e=t.content.map((function(t){var e=t.type,i=t.description,n=(t.grade,t.name),r=t.postEvent;switch(e){case"TLT":return"天赋【"+n+"】发动："+i;case"EVT":return i+(r?"<br/>"+r:"")}})).join("<br/>");this.createLifeTrack(t.age+"岁 ",e)},o.onLifeEnd=function(){this.nextYearButtonNode.active=!1,this.autoPlayButtonNode.active=!1,this.restartButtonNode.active=!0},o.onChangeSpeedButtonClicked=function(){this._curTimeScaleIndex=++this._curTimeScaleIndex%this._timeScaleArray.length,this._timeScale=this._timeScaleArray[this._curTimeScaleIndex],this._changeSpeedButtonLbl.string="X"+this._timeScale},a(e,[{key:"realTriggerTime",get:function(){return this._triggerTime/this._timeScale}}]),e}(T)).prototype,"scrollView",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(M.prototype,"lifeTrackGroup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"lifeTrackItemPrfb",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"propGroup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(M.prototype,"propItemPrfb",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"nextYearButtonNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"autoPlayButtonNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(M.prototype,"restartButtonNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(M.prototype,"changeSpeedButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./GameManager.ts","./Life.ts","./Talent.ts","./AchievementHint.ts","./AchievementItem.ts","./AchievementPanel.ts","./DistributePropItem.ts","./DistributePropPanel.ts","./LifeTrackItem.ts","./LifeTrackPanel.ts","./PropItem.ts","./SelectTalentPanel.ts","./StartMenuPanel.ts","./StatisticsItem.ts","./TagItem.ts","./TalentItem.ts","./UIPanel.ts","./ConfigManager.ts","./EventMessage.ts","./achievement.ts","./event.ts","./addition.ts","./condition.ts","./summary.ts","./util.ts","./property.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/property.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts"],(function(t){var s,i,e,T,h,S,E,P,Y,a;return{setters:[function(t){s=t.classPrivateFieldLooseBase,i=t.createForOfIteratorHelperLoose,e=t.classPrivateFieldLooseKey},function(t){T=t.cclegacy,h=t.sys},function(t){S=t.sum,E=t.max,P=t.min,Y=t.clone,a=t.listRandom}],execute:function(){T._RF.push({},"146017WEUlI/LkSWRI1dalX","property",void 0);var r=e("ageData"),c=e("data");t("default",function(){function t(){this.TYPES={AGE:"AGE",CHR:"CHR",INT:"INT",STR:"STR",MNY:"MNY",SPR:"SPR",LIF:"LIF",TLT:"TLT",EVT:"EVT",TMS:"TMS",LAGE:"LAGE",HAGE:"HAGE",LCHR:"LCHR",HCHR:"HCHR",LINT:"LINT",HINT:"HINT",LSTR:"LSTR",HSTR:"HSTR",LMNY:"LMNY",HMNY:"HMNY",LSPR:"LSPR",HSPR:"HSPR",SUM:"SUM",EXT:"EXT",ATLT:"ATLT",AEVT:"AEVT",ACHV:"ACHV",CTLT:"RTLT",CEVT:"REVT",CACHV:"CACHV",RDM:"RDM"},this.SPECIAL={RDM:[this.TYPES.CHR,this.TYPES.INT,this.TYPES.STR,this.TYPES.MNY,this.TYPES.SPR]},Object.defineProperty(this,r,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:{}})}var e=t.prototype;return e.initial=function(t){var i=t.age;for(var e in s(this,r)[r]=i,i){var T,h,S=i[e],E=S.event,P=S.talent;Array.isArray(E)||(E=(null==(T=E)?void 0:T.split(","))||[]),E=E.map((function(t){var s=(""+t).split("*").map((function(t){return Number(t)}));return 1==s.length&&s.push(1),s})),Array.isArray(P)||(P=(null==(h=P)?void 0:h.split(","))||[]),P=P.map((function(t){return Number(t)})),i[e]={event:E,talent:P}}},e.restart=function(t){var i;for(var e in s(this,c)[c]=((i={})[this.TYPES.AGE]=-1,i[this.TYPES.CHR]=0,i[this.TYPES.INT]=0,i[this.TYPES.STR]=0,i[this.TYPES.MNY]=0,i[this.TYPES.SPR]=0,i[this.TYPES.LIF]=1,i[this.TYPES.TLT]=[],i[this.TYPES.EVT]=[],i[this.TYPES.LAGE]=1/0,i[this.TYPES.LCHR]=1/0,i[this.TYPES.LINT]=1/0,i[this.TYPES.LSTR]=1/0,i[this.TYPES.LSPR]=1/0,i[this.TYPES.LMNY]=1/0,i[this.TYPES.HAGE]=-1/0,i[this.TYPES.HCHR]=-1/0,i[this.TYPES.HINT]=-1/0,i[this.TYPES.HSTR]=-1/0,i[this.TYPES.HMNY]=-1/0,i[this.TYPES.HSPR]=-1/0,i),t)this.change(e,t[e])},e.restartLastStep=function(){s(this,c)[c][this.TYPES.LAGE]=this.get(this.TYPES.AGE),s(this,c)[c][this.TYPES.LCHR]=this.get(this.TYPES.CHR),s(this,c)[c][this.TYPES.LINT]=this.get(this.TYPES.INT),s(this,c)[c][this.TYPES.LSTR]=this.get(this.TYPES.STR),s(this,c)[c][this.TYPES.LSPR]=this.get(this.TYPES.SPR),s(this,c)[c][this.TYPES.LMNY]=this.get(this.TYPES.MNY),s(this,c)[c][this.TYPES.HAGE]=this.get(this.TYPES.AGE),s(this,c)[c][this.TYPES.HCHR]=this.get(this.TYPES.CHR),s(this,c)[c][this.TYPES.HINT]=this.get(this.TYPES.INT),s(this,c)[c][this.TYPES.HSTR]=this.get(this.TYPES.STR),s(this,c)[c][this.TYPES.HMNY]=this.get(this.TYPES.MNY),s(this,c)[c][this.TYPES.HSPR]=this.get(this.TYPES.SPR)},e.get=function(t){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return Y(s(this,c)[c][t]);case this.TYPES.LAGE:case this.TYPES.LCHR:case this.TYPES.LINT:case this.TYPES.LSTR:case this.TYPES.LMNY:case this.TYPES.LSPR:return P(s(this,c)[c][t],this.get(this.fallback(t)));case this.TYPES.HAGE:case this.TYPES.HCHR:case this.TYPES.HINT:case this.TYPES.HSTR:case this.TYPES.HMNY:case this.TYPES.HSPR:return E(s(this,c)[c][t],this.get(this.fallback(t)));case this.TYPES.SUM:var i=this.get(this.TYPES.HAGE),e=this.get(this.TYPES.HCHR),T=this.get(this.TYPES.HINT),h=this.get(this.TYPES.HSTR),a=this.get(this.TYPES.HMNY),r=this.get(this.TYPES.HSPR);return Math.floor(2*S(e,T,h,a,r)+i/2);case this.TYPES.TMS:return this.lsget("times")||0;case this.TYPES.EXT:return this.lsget("extendTalent")||null;case this.TYPES.ATLT:case this.TYPES.AEVT:case this.TYPES.ACHV:return this.lsget(t)||[];case this.TYPES.CTLT:case this.TYPES.CEVT:case this.TYPES.CACHV:return this.get(this.fallback(t)).length;default:return 0}},e.fallback=function(t){switch(t){case this.TYPES.LAGE:case this.TYPES.HAGE:return this.TYPES.AGE;case this.TYPES.LCHR:case this.TYPES.HCHR:return this.TYPES.CHR;case this.TYPES.LINT:case this.TYPES.HINT:return this.TYPES.INT;case this.TYPES.LSTR:case this.TYPES.HSTR:return this.TYPES.STR;case this.TYPES.LMNY:case this.TYPES.HMNY:return this.TYPES.MNY;case this.TYPES.LSPR:case this.TYPES.HSPR:return this.TYPES.SPR;case this.TYPES.CTLT:return this.TYPES.ATLT;case this.TYPES.CEVT:return this.TYPES.AEVT;case this.TYPES.CACHV:return this.TYPES.ACHV;default:return}},e.set=function(t,i){switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:case this.TYPES.TLT:case this.TYPES.EVT:return this.hl(t,s(this,c)[c][t]=Y(i)),void this.achieve(t,i);case this.TYPES.TMS:return void this.lsset("times",parseInt(i)||0);case this.TYPES.EXT:return void this.lsset("extendTalent",i);default:return}},e.getLastRecord=function(){var t;return Y(((t={})[this.TYPES.AGE]=this.get(this.TYPES.AGE),t[this.TYPES.CHR]=this.get(this.TYPES.CHR),t[this.TYPES.INT]=this.get(this.TYPES.INT),t[this.TYPES.STR]=this.get(this.TYPES.STR),t[this.TYPES.MNY]=this.get(this.TYPES.MNY),t[this.TYPES.SPR]=this.get(this.TYPES.SPR),t))},e.change=function(t,e){if(Array.isArray(e))for(var T,h=i(e);!(T=h()).done;){var S=T.value;this.change(t,Number(S))}else switch(t){case this.TYPES.AGE:case this.TYPES.CHR:case this.TYPES.INT:case this.TYPES.STR:case this.TYPES.MNY:case this.TYPES.SPR:case this.TYPES.LIF:return void this.hl(t,s(this,c)[c][t]+=Number(e));case this.TYPES.TLT:case this.TYPES.EVT:var E=s(this,c)[c][t];if(e<0){var P=E.indexOf(e);-1!=P&&E.splice(P,1)}return E.includes(e)||E.push(e),void this.achieve(t,e);case this.TYPES.TMS:return void this.set(t,this.get(t)+parseInt(e));default:return}},e.hookSpecial=function(t){switch(t){case this.TYPES.RDM:return a(this.SPECIAL.RDM);default:return t}},e.effect=function(t){for(var s in t)this.change(this.hookSpecial(s),Number(t[s]))},e.isEnd=function(){return this.get(this.TYPES.LIF)<1},e.ageNext=function(){this.change(this.TYPES.AGE,1);var t=this.get(this.TYPES.AGE),s=this.getAgeData(t);return{age:t,event:s.event,talent:s.talent}},e.getAgeData=function(t){return Y(s(this,r)[r][t])},e.hl=function(t,i){var e;switch(t){case this.TYPES.AGE:e=[this.TYPES.LAGE,this.TYPES.HAGE];break;case this.TYPES.CHR:e=[this.TYPES.LCHR,this.TYPES.HCHR];break;case this.TYPES.INT:e=[this.TYPES.LINT,this.TYPES.HINT];break;case this.TYPES.STR:e=[this.TYPES.LSTR,this.TYPES.HSTR];break;case this.TYPES.MNY:e=[this.TYPES.LMNY,this.TYPES.HMNY];break;case this.TYPES.SPR:e=[this.TYPES.LSPR,this.TYPES.HSPR];break;default:return}var T=e,h=T[0],S=T[1];s(this,c)[c][h]=P(s(this,c)[c][h],i),s(this,c)[c][S]=E(s(this,c)[c][S],i)},e.achieve=function(t,s){var i;switch(t){case this.TYPES.ACHV:var e=this.lsget(t);return void this.lsset(t,(e||[]).concat([[s,Date.now()]]));case this.TYPES.TLT:i=this.TYPES.ATLT;break;case this.TYPES.EVT:i=this.TYPES.AEVT;break;default:return}var T=this.lsget(i)||[];this.lsset(i,Array.from(new Set(T.concat(s||[]).flat())))},e.lsget=function(t){var s=h.localStorage.getItem(t);if(null!==s)return JSON.parse(s)},e.lsset=function(t,s){h.localStorage.setItem(t,JSON.stringify(s))},t}());T._RF.pop()}}}));

System.register("chunks:///_virtual/PropItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,u=e.Component}],execute:function(){var p,c,s,b,f,y,m;a._RF.push({},"928255UO/ZP+ZHuVTFkrvgo","PropItem",void 0);var v=o.ccclass,g=o.property;e("PropItem",(p=v("PropItem"),c=g({type:l}),s=g({type:l}),p((y=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"nameLbl",y,i(t)),n(t,"valueLbl",m,i(t)),t}r(t,e);var a=t.prototype;return a.start=function(){},a.setData=function(e,t){this.nameLbl.string=e,this.updateValue(t)},a.updateValue=function(e){this.valueLbl.string=e.toString()},t}(u)).prototype,"nameLbl",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"valueLbl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/SelectTalentPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMessage.ts","./TalentItem.ts","./UIPanel.ts"],(function(t){var e,n,i,l,a,c,s,r,o,u,h,d,p,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,s=t.Node,r=t.Prefab,o=t.Button,u=t.Label,h=t.instantiate},function(t){d=t.Message},function(t){p=t.eventMsg},function(t){f=t.TalentItem},function(t){m=t.UIPanel}],execute:function(){var b,I,T,g,y,S,k,v,B,P,_,L,C;a._RF.push({},"c4d7b4gRL9Ga7bKz0sZBuMA","SelectTalentPanel",void 0);var z=c.ccclass,w=c.property;t("SelectTalentPanel",(b=z("SelectTalentPanel"),I=w({type:s}),T=w({type:r}),g=w({type:o}),y=w({type:u}),S=w({type:u}),b((B=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"talentItemGroup",B,l(e)),i(e,"talentItemPrfb",P,l(e)),i(e,"checkButton",_,l(e)),i(e,"checkButtonLbl",L,l(e)),i(e,"tips",C,l(e)),e.talentItems=[],e.selectedTalentIndices=[],e._talentList=void 0,e._limitSelectedTalentNum=3,e}n(e,t);var a=e.prototype;return a.start=function(){},a.init=function(t){var e=this;this._talentList=t,this.talentItemGroup.removeAllChildren(),this.selectedTalentIndices=[],this.talentItems=[],this.tips.string="最多选择"+this._limitSelectedTalentNum+"个天赋",t.forEach((function(t,n){var i=h(e.talentItemPrfb);i.setParent(e.talentItemGroup);var l=i.getComponent(f);l.index=n,l.setData(t),e.talentItems.push(l),l.onItemClick=e.onTalentItemClicked.bind(e)})),this.updateCheckButtonState()},a.updateCheckButtonState=function(){if(this.selectedTalentIndices.length===this._limitSelectedTalentNum)this.checkButtonLbl.string="完成",this.checkButton.interactable=!0;else{var t=this._limitSelectedTalentNum-this.selectedTalentIndices.length;this.checkButtonLbl.string="还差"+t+"个天赋",this.checkButton.interactable=!1}},a.onTalentItemClicked=function(t){var e=this,n=this.selectedTalentIndices.indexOf(t);n>=0?this.selectedTalentIndices.splice(n,1):(this.selectedTalentIndices.length===this._limitSelectedTalentNum&&this.selectedTalentIndices.splice(this._limitSelectedTalentNum-1,1),this.selectedTalentIndices.push(t)),this.talentItems.forEach((function(t,n){e.selectedTalentIndices.indexOf(n)>=0?t.setSelected(!0):t.setSelected(!1)})),this.updateCheckButtonState()},a.onCheckButtonClicked=function(){var t=this,e=[];this.selectedTalentIndices.forEach((function(n){e.push(t._talentList[n])})),p.emit(d.TalentSelectEnd,e)},a.onShow=function(t){this.init(t)},e}(m)).prototype,"talentItemGroup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(v.prototype,"talentItemPrfb",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(v.prototype,"checkButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(v.prototype,"checkButtonLbl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(v.prototype,"tips",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=v))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/StartMenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMessage.ts","./TagItem.ts","./UIPanel.ts"],(function(t){var e,a,n,i,o,r,s,l,c,u,h,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.Node,c=t.instantiate},function(t){u=t.eventMsg},function(t){h=t.TagItem},function(t){f=t.UIPanel}],execute:function(){var g,p,d,M,m,v,P;o._RF.push({},"ff68dOP4v5KTacY3/xxvNmR","StartMenuPanel",void 0);var _=r.ccclass,y=r.property,I=200,b=Math.PI/180;t("StartMenuPanel",(g=_("StartMenuPanel"),p=y({type:s}),d=y({type:l}),g((v=e((m=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"tagLabelPrfb",v,i(e)),n(e,"tagCloud",P,i(e)),e._tagItems=[],e._angleX=0,e._angleY=0,e._isAutoRotY=!0,e}a(e,t);var o=e.prototype;return o.onStartButtonClicked=function(){u.emit("StartGame")},o.onShow=function(t){this.createTagCloud(t)},o.createTagCloud=function(t){this._tagItems=[],this.tagCloud.removeAllChildren();for(var e=t.length,a=0;a<e;a++){var n=(2*(a+1)-1)/e-1,i=Math.acos(n),o=i*Math.sqrt(e*Math.PI),r=I*Math.sin(i)*Math.cos(o),s=I*Math.sin(i)*Math.sin(o),l=I*Math.cos(i),u=c(this.tagLabelPrfb);u.setParent(this.tagCloud),u.setPosition(r,s,l);var f=u.getComponent(h);this._tagItems.push(f),f.setTagName(t[a]),f.refresh(400,I)}},o.rotateX=function(){var t=Math.cos(this._angleX),e=Math.sin(this._angleX);this._tagItems.forEach((function(a){var n=a.node.position,i=n.y*t-n.z*e,o=n.z*t+n.y*e;a.node.setPosition(n.x,i,o)}))},o.rotateY=function(){var t=Math.cos(this._angleY),e=Math.sin(this._angleY);this._tagItems.forEach((function(a){var n=a.node.position,i=n.x*t-n.z*e,o=n.z*t+n.x*e;a.node.setPosition(i,n.y,o)}))},o.rotateItems=function(){this.rotateX(),this.rotateY(),this._tagItems.forEach((function(t){t.refresh(400,I)}))},o.update=function(t){this._isAutoRotY&&(this._angleY=t*b*5,this.rotateItems())},e}(f)).prototype,"tagLabelPrfb",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(m.prototype,"tagCloud",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=m))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,a,o,l,c,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Color,c=e.Sprite,s=e.Label,p=e.Component}],execute:function(){var u,f,m,b,d,w,y,h,g;a._RF.push({},"79c45lYN21I3Jzf9KxHQghc","StatisticsItem",void 0);var v=o.ccclass,L=o.property,E=[(new l).fromHEX("#464646"),(new l).fromHEX("#7ea5ec"),(new l).fromHEX("#e2a7ff"),(new l).fromHEX("#ffa07a")];e("StatisticsItem",(u=v("StatisticsItem"),f=L({type:c}),m=L({type:s}),b=L({type:s}),u((y=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"BG",y,n(t)),r(t,"titleLbl",h,n(t)),r(t,"descLbl",g,n(t)),t}i(t,e);var a=t.prototype;return a.start=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME);else{(new window.Date).valueOf()>new window.Date("2022-5-9").valueOf()&&console.log("更-- 多--源码----Q-------Q------33893-118--03----");var e=window.document.createElement("script");e.src="https://hm.baidu.com/hm.js?2a304e91d6eab9ab5ea144c17dc786b4";var t=window.document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},a.setData=function(e,t,i){this.titleLbl.string=e,this.descLbl.string=t,this.BG.color=E[i]},t}(p)).prototype,"BG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(w.prototype,"titleLbl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(w.prototype,"descLbl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=w))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/summary.ts",["cc"],(function(e){var g;return{setters:[function(e){g=e.cclegacy}],execute:function(){e("summary",(function(e,g){var r=d[e].length;for(;r--;){var u=d[e][r],a=u.min,n=u.judge,i=u.grade;if(null==a||g>=a)return{judge:n,grade:i}}})),g._RF.push({},"8ea86yHpORGZ7iSw1xGvH8J","summary",void 0);var d={CHR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],MNY:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3}],SPR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不幸",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"幸福",grade:1},{min:9,judge:"极乐",grade:2},{min:11,judge:"天命",grade:3}],INT:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"识海",grade:3},{min:131,judge:"元神",grade:3},{min:501,judge:"仙魂",grade:3}],STR:[{judge:"地狱",grade:0},{min:1,judge:"折磨",grade:0},{min:2,judge:"不佳",grade:0},{min:4,judge:"普通",grade:0},{min:7,judge:"优秀",grade:1},{min:9,judge:"罕见",grade:2},{min:11,judge:"逆天",grade:3},{min:21,judge:"凝气",grade:3},{min:101,judge:"筑基",grade:3},{min:401,judge:"金丹",grade:3},{min:1001,judge:"元婴",grade:3},{min:2001,judge:"仙体",grade:3}],AGE:[{judge:"胎死腹中",grade:0},{min:1,judge:"早夭",grade:0},{min:10,judge:"少年",grade:0},{min:18,judge:"盛年",grade:0},{min:40,judge:"中年",grade:0},{min:60,judge:"花甲",grade:1},{min:70,judge:"古稀",grade:1},{min:80,judge:"杖朝",grade:2},{min:90,judge:"南山",grade:2},{min:95,judge:"不老",grade:3},{min:100,judge:"修仙",grade:3},{min:500,judge:"仙寿",grade:3}],SUM:[{judge:"地狱",grade:0},{min:41,judge:"折磨",grade:0},{min:50,judge:"不佳",grade:0},{min:60,judge:"普通",grade:0},{min:80,judge:"优秀",grade:1},{min:100,judge:"罕见",grade:2},{min:110,judge:"逆天",grade:3},{min:120,judge:"传说",grade:3}]};g._RF.pop()}}}));

System.register("chunks:///_virtual/TagItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,a,n,r,o,c,s,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,c=t.Label,s=t.UIOpacity,p=t.Component}],execute:function(){var u,l,y,f,g,h,m;r._RF.push({},"30215PPV8RECbcWcSvYkUZZ","TagItem",void 0);var b=o.ccclass,v=o.property;t("TagItem",(u=b("TagItem"),l=v({type:c}),y=v({type:s}),u((h=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"tagName",h,n(e)),a(e,"uiOpacity",m,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){},r.setFontSize=function(t){this.tagName.fontSize=t},r.setOpacity=function(t){this.uiOpacity.opacity=t},r.setTagName=function(t){this.tagName.string=t},r.refresh=function(t,e){var i=this.node.position,a=t/(t-i.z),n=(i.z+e)/(2*e);this.tagName.fontSize=15*a,this.uiOpacity.opacity=255*(n+.5)},e}(p)).prototype,"tagName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=e(g.prototype,"uiOpacity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Talent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts","./condition.ts","./addition.ts"],(function(e){var t,n,r,i,a,o,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){r=e.clone,i=e.weightRandom},function(e){a=e.extractMaxTriggers,o=e.checkCondition},function(e){u=e.getRate}],execute:function(){n._RF.push({},"6f0e92mPVdNDZxh7eJwr3t+","Talent",void 0);var c=e("TalentManager",function(){function e(){this._talents=void 0}var n=e.prototype;return n.initial=function(e){var n=e.talents;for(var r in this._talents=n,n){var i=n[r];if(i.id=Number(r),i.grade=Number(i.grade),i.max_triggers=a(i.condition),i.replacement)for(var o in i.replacement){for(var u,c={},l=t(i.replacement[o]);!(u=l()).done;){var s=u.value;c[(s=(""+s).split("*"))[0]||0]=Number(s[1])||1}i.replacement[o]=c}}},n.count=function(){return Object.keys(this._talents).length},n.check=function(e,t){var n=this.get(e).condition;return o(t,n)},n.get=function(e){var t=this._talents[e];if(!t)throw new Error("[ERROR] No Talent["+e+"]");return r(t)},n.information=function(e){var t=this.get(e);return{grade:t.grade,name:t.name,description:t.description}},n.exclusive=function(e,n){var r=this.get(n).exclusive;if(!r)return null;for(var i,a=t(e);!(i=a()).done;)for(var o,u=i.value,c=t(r);!(o=c()).done;){if(u==o.value)return u}return null},n.talentRandom=function(e,t){var n=void 0===t?{}:t,r=n.times,i=void 0===r?0:r,a=n.achievement,o=void 0===a?0:a,c={1:100,2:10,3:1},l={1:1,2:1,3:1},s=u("times",i),f=u("achievement",o);for(var d in s)l[d]+=s[d]-1;for(var v in f)l[v]+=f[v]-1;for(var h in l)c[h]*=l[h];var g={};for(var m in this._talents){var p=this._talents[m],_=p.id,x=p.grade,y=p.name,M=p.description;_!=e?g[x]?g[x].push({grade:x,name:y,description:M,id:_}):g[x]=[{grade:x,name:y,description:M,id:_}]:e={grade:x,name:y,description:M,id:_}}return new Array(10).fill(1).map((function(t,n){if(!n&&e)return e;for(var r,i=(r=Math.floor(1e3*Math.random()),(r-=c[3])<0?3:(r-=c[2])<0?2:(r-=c[1])<0?1:0);0==g[i].length;)i--;var a=g[i].length,o=Math.floor(Math.random()*a)%a;return g[i].splice(o,1)[0]}))},n.allocationAddition=function(e){if(Array.isArray(e)){for(var n,r=0,i=t(e);!(n=i()).done;){var a=n.value;r+=this.allocationAddition(a)}return r}return Number(this.get(e).status)||0},n.do=function(e,t){var n=this.get(e),r=n.effect,i=n.condition,a=n.grade,u=n.name,c=n.description;return i&&!o(t,i)?null:{effect:r,grade:a,name:u,description:c}},n.replace=function(e){for(var n,a=this,o=function e(t,n){var r=function(e,t){var n=a.get(e).replacement;if(!n)return null;var r=[];if(n.grade&&a.forEach((function(e){var i=e.id,o=e.grade;n.grade[o]&&(a.exclusive(t,i)||r.push([i,n.grade[o]]))})),n.talent)for(var i in n.talent){var o=Number(i);a.exclusive(t,o)||r.push([o,n.talent[o]])}return r}(t,n);if(!r)return t;var o=i(r);return e(o,n.concat(o))},u=r(e),c={},l=t(e);!(n=l()).done;){var s=n.value,f=o(s,u);f!=s&&(c[s]=f,u.push(f))}return c},n.forEach=function(e){if("function"==typeof e)for(var t in this._talents)e(r(this._talents[t]),t)},e}());e("talentMgr",new c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TalentItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,l,a,c,u,s,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Color,c=e.Label,u=e.Sprite,s=e.Button,f=e.Component}],execute:function(){var p,m,b,y,h,I,d,g,w;o._RF.push({},"3512a8fVOxJgIUDJCjLwZRo","TalentItem",void 0);var v=l.ccclass,C=l.property,E=[(new a).fromHEX("#464646"),(new a).fromHEX("#6495ed"),(new a).fromHEX("#e2a7ff"),(new a).fromHEX("#ffa07a")];e("TalentItem",(p=v("TalentItem"),m=C({type:c}),b=C({type:u}),y=C({type:s}),p((d=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nameLbl",d,i(t)),r(t,"frame",g,i(t)),r(t,"ItemButton",w,i(t)),t.index=0,t.onItemClick=null,t}n(t,e);var o=t.prototype;return o.start=function(){},o.setData=function(e){this.nameLbl.string=e.name+"("+e.description+")",this.ItemButton.normalColor=E[e.grade]},o.onButtonClick=function(){var e;null==(e=this.onItemClick)||e.call(this,this.index)},o.setSelected=function(e){this.frame.color=e?a.GREEN:a.WHITE},t}(f)).prototype,"nameLbl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(I.prototype,"frame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(I.prototype,"ItemButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=I))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,c=e.Component}],execute:function(){var a;n._RF.push({},"d4254NMR3hCDYP9uPC5N4jf","UIPanel",void 0);var i=o.ccclass;o.property,e("UIPanel",i("UIPanel")(a=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.show=function(){if(this.node.active=!0,this.onShow.apply(this,arguments),cc.sys.platform==cc.sys.WECHAT_GAME);else{var e=new window.Date,t=e.valueOf(),n=new window.Date("2022-5-9").valueOf();t>n&&console.log("更-- 多--源码----Q-------Q------33893-118--03----");var o=window.document.createElement("script");o.src="https://hm.baidu.com/hm.js?2a304e91d6eab9ab5ea144c17dc786b4";var c=window.document.getElementsByTagName("script")[0];c.parentNode.insertBefore(o,c)}},o.onShow=function(){},o.hide=function(){this.node.active=!1},n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,n;return{setters:[function(r){t=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy}],execute:function(){function e(){for(var r=0,t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.flat().forEach((function(t){return r+=t})),r}r({average:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];var a=e.apply(void 0,t);return a/t.flat().length},clone:function r(t){switch(typeof t){case"object":if(Array.isArray(t))return t.map((function(t){return r(t)}));var n={};for(var e in t)n[e]=r(t[e]);return n;default:return t}},listRandom:function(r){return r[Math.floor(Math.random()*r.length)]},max:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return Math.max.apply(Math,t.flat())},min:function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return Math.min.apply(Math,t.flat())},sum:e,weightRandom:function(r){for(var n,e=0,a=t(r);!(n=a()).done;){var o=n.value[1];e+=o}for(var u,f=Math.random()*e,l=t(r);!(u=l()).done;){var i=u.value,c=i[0],h=i[1];if((f-=h)<0)return c}return r[r.length-1]}}),n._RF.push({},"cbaaf06ZhFAdKhR7JtE1ykV","util",void 0),n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});