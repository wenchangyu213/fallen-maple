System.register("chunks:///_virtual/AudioSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resources.ts"],(function(t){var e,s,i,r,n,o,u,a,c,h,_,m,l;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,o=t.director,u=t.System,a=t.lerp,c=t.clamp01,h=t.Node,_=t.AudioSource,m=t.AudioClip},function(t){l=t.Resources}],execute:function(){n._RF.push({},"5d3f0K9oRVIS71Nf7nf504Z","AudioSystem",void 0);var p=function(){function t(){this._source=(new h).addComponent(_),this._time=0,this._duration=0,this._callback=null,this._volumeStart=0,this._volumeEnd=0}var e=t.prototype;return e.play=function(t,e,s,i){void 0===i&&(i=!0),i&&!s?this._source.playOneShot(t,e):(this._source.clip=t,this._source.volume=e,this._source.loop=s,this._source.play()),this._time=this._duration=0},e.resume=function(){this._source.play()},e.pause=function(){this._source.pause()},e.stop=function(){this._source.stop()},e.fade=function(t,e,s){void 0===e&&(e=1),this._time=0,this._duration=Math.max(.01,e),this._callback=s,this._volumeStart=this._source.volume,this._volumeEnd=t},e.update=function(t){this._time<this._duration&&(this._time+=t,this._source.volume=a(this._volumeStart,this._volumeEnd,c(this._time/this._duration)),Math.abs(this._source.volume-this._volumeEnd)<=.01&&(0===this._volumeEnd&&this._source.stop(),this._time=this._duration,this._callback&&this._callback()))},s(t,[{key:"source",get:function(){return this._source}}]),t}(),f=t("audioSystem",new(function(t){function n(){for(var e,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this)._frame=0,e._vol=1,e._bgm=null,e._sfx=new p,e._bgm0=new p,e._bgm1=new p,e._mute=!1,e}e(n,t);var o=n.prototype;return o.play=function(){var t=i(r().mark((function t(e,s,i,n){var o,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s&&(s=1),void 0===i&&(i=!1),void 0===n&&(n=!0),0!==(o=this._vol*s)&&e){t.next=6;break}return t.abrupt("return");case 6:if(t.prev=6,!(e instanceof m)){t.next=11;break}t.t0=e,t.next=14;break;case 11:return t.next=13,l.Load(e,m);case 13:t.t0=t.sent;case 14:(u=t.t0)&&(!u.__frame||u.__frame<this._frame-5)&&(u.__frame=this._frame,this._sfx.play(u,o,i,n)),t.next=21;break;case 18:t.prev=18,t.t1=t.catch(6),console.error(t.t1);case 21:case"end":return t.stop()}}),t,this,[[6,18]])})));return function(e,s,i,r){return t.apply(this,arguments)}}(),o.stop=function(){this._sfx.stop()},o.playBGM=function(){var t=i(r().mark((function t(e,s,i){var n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===s&&(s=1),void 0===i&&(i=!0),0!==(n=this._vol*s)&&e){t.next=5;break}return t.abrupt("return");case 5:if(t.prev=5,!(e instanceof m)){t.next=10;break}t.t0=e,t.next=13;break;case 10:return t.next=12,l.Load(e,m);case 12:t.t0=t.sent;case 13:o=t.t0,i?(this._bgm&&this._bgm.fade(0),this._bgm=this._bgm===this._bgm0?this._bgm1:this._bgm0,this._bgm.play(o,0,!0),this._bgm.fade(n)):this._bgm0.play(o,n,!0),t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),console.log(t.t1);case 20:case"end":return t.stop()}}),t,this,[[5,17]])})));return function(e,s,i){return t.apply(this,arguments)}}(),o.stopBGM=function(t){void 0===t&&(t=!0),this._bgm&&(t?this._bgm.fade(0):this._bgm.stop())},o.update=function(t){this._frame++,this._bgm0.update(t),this._bgm1.update(t)},s(n,[{key:"mute",get:function(){return this._mute},set:function(t){this._mute!==t&&(this._mute=t,this._vol=t?0:1,this._bgm&&(t?this._bgm.pause():this._bgm.resume()))}}]),n}(u)));o.registerSystem("AudioSystem",f,200),n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FreelookVirtualCamera.ts","./StateManager.ts","./StateHandler.ts","./Spherical.ts","./Math.ts","./MathUtils.ts","./Properties.ts","./Perlin.ts","./Enum.ts","./TweenUitls.ts","./PipelineNextSettings.ts"],(function(t){var e,i,a,o,s,n,r,h,l,f,p,c,u,_,m,d,k,g,y,S,v,A,w,C,O,b,F,H;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.extends,a=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass},function(t){r=t.cclegacy,h=t._decorator,l=t.Camera,f=t.Vec3,p=t.Component,c=t.tween,u=t.easing,_=t.lerp,m=t.director,d=t.clamp},function(t){k=t.FreelookVirtualCamera},function(t){g=t.StateManager},function(t){y=t.StateHandler},function(t){S=t.Spherical},function(t){v=t.randomFloat},function(t){A=t.setFromSpherical},function(t){w=t.properties},function(t){C=t.Perlin},function(t){O=t.EventType,b=t.HitType},function(t){F=t.killTweenOf},function(t){H=t.PipelineNextSettings}],execute:function(){var I,M,x;r._RF.push({},"9ee139SJIJGv4pIQOLKqhUH","CameraController",void 0);var R=h.ccclass,L=h.property,E=h.requireComponent,P=(t("CameraController",R("CameraController")(I=E(l)((x=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this)._camera=null,e._manager=new g,e._freelookVirtualCamera=null,o(e,"state",x,s(e)),e}a(e,t);var i=e.prototype;return i.onEnable=function(){this._freelookVirtualCamera&&(this._freelookVirtualCamera.enabled=!1)},i.onDisable=function(){this._freelookVirtualCamera&&(this._freelookVirtualCamera.enabled=!0)},i.onLoad=function(){this._camera=this.getComponent(l),this._freelookVirtualCamera=this.getComponent(k),this._manager.setStateHandler(new D({target:this._camera})),this._manager.setStateHandler(new T({target:this._camera})),this._manager.setStateHandler(new U({target:this._camera})),this._manager.state=this.state},i.onDestroy=function(){this._manager.clear()},i.lateUpdate=function(t){this._manager.update(t)},e}(p)).prototype,"state",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"playShip"}}),I=M))||I)||I),{fov:45,near:.1,far:100,phi:1.5,theta:0,radius:1,lookAt:new f(.05,.48,0)}),V=i({},P,{phi:1.5,theta:-.3,radius:1.88,lookAt:new f(.05,.36,0)}),D=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).name="preload",e._lookAt=new f,e._spherical=new S(1,Math.PI/2),e}a(e,t);var i=e.prototype;return i.onEnter=function(){this.init(P)},i.init=function(t){var e=this.target,i=this._spherical;e.fov=t.fov,e.near=t.near,e.far=t.far,i.phi=t.phi,i.theta=t.theta,i.radius=t.radius,this._lookAt.set(t.lookAt),e.node.position=A(this._spherical,e.node.position).add(this._lookAt),e.node.lookAt(this._lookAt)},e}(y),T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).name="playShip",e.progress=0,e}a(e,t);var i=e.prototype;return i.onEnter=function(){w.user.life>0?(this.init(P),F(this),c(this).set({progress:0,intensity:0}).to(3.5,{progress:1,intensity:1},{easing:u.quadOut}).start()):(this.progress=1,this.init(V))},i.onUpdate=function(t){t=Math.min(.033,t);var e=w.hand.lookAtOffset,i=_(P.phi,1.5+.03*e.y,this.progress),a=_(P.theta,.03*e.x-.3,this.progress),o=_(P.radius,1.88,this.progress);this._lookAt.y=_(P.lookAt.y,.36,this.progress);var s=this._spherical;s.phi=_(s.phi,i,5*t),s.theta=_(s.theta,a,5*t),s.radius=_(s.radius,o,5*t);var n=this.target;n.node.position=A(s,n.node.position).add(this._lookAt),n.node.lookAt(this._lookAt)},n(e,[{key:"intensity",get:function(){return H.Instance.base.intensity},set:function(t){H.Instance.base.intensity=t}}]),e}(D),U=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).name="gameStart",e.enableShake=!0,e.positionFrequency=.2,e.positionAmplitude=.1,e.positionScale=new f(1,1,1),e.positionFractalLevel=5,e._time=[],e._fbmNorm=1/.75,e._hitShakeOffset=0,e._position=new f,e._lookAt=new f(.031,-.036,-.02),e._localOffset=new f(0,-.5,0),e._lookAtOffset=new f,e._spherical=new S(1,Math.PI/2),e._offsetsmoothing=2,e}a(e,t);var i=e.prototype;return i.rehash=function(){for(var t=0;t<6;t++)this._time[t]=v(-1e4,0)},i.onEnter=function(){this.rehash(),this.target.near=.01,this.target.far=120,this.target.fov=73,m.on(O.HIT,this._onHit,this)},i.onExit=function(){m.off(O.HIT,this._onHit,this),F(this)},i._onHit=function(t){if(w.user.life>0)switch(t){case b.BUILDING:case b.CAR:this._hitShakeOffset=Math.max(1,this._hitShakeOffset);break;case b.LASER:this._hitShakeOffset=Math.max(.5,this._hitShakeOffset);break;case b.BRIDGE:this._hitShakeOffset=Math.max(1,this._hitShakeOffset)}},i.onUpdate=function(t){t=Math.min(.033,t);var i=e.__offset,a=w.ship;this._spherical.phi=1.3+1.5*a.speedRatio.y,this._spherical.theta=1.5*a.speedRatio.z-1.57,this._spherical.radius=.5,i.set(a.speedRatio.x,1.5*d(a.speedRatio.y,-.2,.2),1.5*d(.3*-a.speedRatio.z,-.075,.075)),this._localOffset.lerp(i,this._offsetsmoothing*t),this._lookAtOffset.set(0,.1+this._localOffset.y,4*-this._localOffset.z),this._lookAt.set(a.position).add(this._lookAtOffset);var o=this.target;if(o.node.position=A(this._spherical,this._position).add(this._lookAt),o.node.lookAt(this._lookAt),this._hitShakeOffset=_(this._hitShakeOffset,0,1.5*t),this.positionFrequency=a.speedRatio.x+this._hitShakeOffset,this.positionAmplitude=.02+this._hitShakeOffset,this.enableShake){for(var s=0;s<3;s++)this._time[s]+=this.positionFrequency*t;var n=i.set(C.Fbm(this.positionFractalLevel,this._time[0]),C.Fbm(this.positionFractalLevel,this._time[1]),C.Fbm(this.positionFractalLevel,this._time[2]));(n=n.multiply(this.positionScale)).multiplyScalar(this.positionAmplitude*this._fbmNorm),o.node.position=o.node.position.add(n)}},e}(y);U.__offset=new f,r._RF.pop()}}}));

System.register("chunks:///_virtual/Car.ts",["cc"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy,s=e.Vec2}],execute:function(){t._RF.push({},"79f3fzfqVtOvoAWYU1qzJvR","Car",void 0);e("Car",(function(){this.speed=0,this.offset=new s,this.reverse=!1,this.range=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,o,a,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,c=e.Component}],execute:function(){var l,p,s,f,g,y,b;o._RF.push({},"5a47dt5TmZG1KUJNKlClyGO","DebugManager",void 0);var h=a.ccclass,d=a.property,m=a.executeInEditMode;e("DebugManager",(l=h("DebugManager"),p=d(u),s=d(u),l(f=m((y=n((g=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"ship",y,i(n)),t(n,"monkey",b,i(n)),n}r(n,e);var o=n.prototype;return o.onClickLaunch=function(){},o.onClickState=function(e,n){},n}(c)).prototype,"ship",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(g.prototype,"monkey",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f)||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,a,l,c,s,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Color,c=e.Material,s=e.director,f=e.Component}],execute:function(){var p,u,h,y,C,E,d;n._RF.push({},"59b47+yGJ9Oa6DNf0Bsf51B","EffectManager",void 0);var T=a.ccclass,g=a.property,_=e("EffectType",{COLLECTED_BATTERY:0});e("EffectManager",(p=T("EffectManager"),u=g(l),h=g(c),p((E=t((C=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"shipColor",E,i(t)),o(t,"shipMaterial",d,i(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){s.on(_.COLLECTED_BATTERY,this._onCollectedBattery,this)},n.onDestroy=function(){s.off(_.COLLECTED_BATTERY,this._onCollectedBattery,this)},n._onCollectedBattery=function(){this.shipMaterial.setProperty("albedoScale",this.shipColor)},t}(f)).prototype,"shipColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(1,1,1)}}),d=t(C.prototype,"shipMaterial",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Properties.ts","./Math.ts","./Enum.ts","./TweenUitls.ts","./AudioSystem.ts"],(function(t){var e,n,o,i,r,a,s,l,p,c,u,y,f,m,d,h,v,_,w,g,M,b,x,C,E,N,A,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Material,p=t.Animation,c=t.Vec3,u=t.Vec2,y=t.Quat,f=t.instantiate,m=t.Vec4,d=t.Color,h=t.tween,v=t.lerp,_=t.director,w=t.Component},function(t){g=t.properties},function(t){M=t.evalute,b=t.pointToLineDistance,x=t.randomInt,C=t.randomFloat},function(t){E=t.EventType,N=t.HitType},function(t){A=t.killTweenOf},function(t){L=t.audioSystem}],execute:function(){var k,P,T,z,S,D,H,I,U,R,B,F;r._RF.push({},"6dc66JgvoxI1LfYrGOBLRLm","EnemyManager",void 0);var V=a.ccclass,q=a.property;t("EnemyManager",(k=V("EnemyManager"),P=q(s),T=q(l),z=q(l),S=q(p),k(((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"enemy",I,i(e)),o(e,"laserMaterial",U,i(e)),o(e,"enemyMaterial",R,i(e)),o(e,"warnning",B,i(e)),e._enemys=new s,e._tmpNode=new s,e}n(e,t);var r=e.prototype;return r.onLoad=function(){var t=this.enemy,n=e.__vec3,o=t.parent;this._enemys.parent=o;for(var i=0;i<3;i++){var r=f(t);r.position=n.set(0,0,1e4),this._enemys.addChild(r)}},r.onDestroy=function(){A(this),L.stop()},r.start=function(){var t=this,e=!1,n=new m(1,.2,.2,1),o=new m(90,195,255,255).multiplyScalar(1/255),i=(new d).fromHEX(16711680),r=(new d).fromHEX(821500);h(this).delay(15).call((function(){e=!e,t.laserMaterial.setProperty("mainColor",e?n:o),t.laserMaterial.setProperty("scale",e?20:10),t.enemyMaterial.setProperty("emissiveColor",e?i:r);for(var a=g.user.score<5e3?x(1,2):x(2,3),s=0;s<a;s++)t.runAction(t._enemys.children[s],0==s)})).union().repeat(1/0).start()},r.runAction=function(t,n){var o=this,i=e.__vec3,r=e.__position,a=e.__quat,s=C(-1,1),l=C(-.5,.5);t.position=i.set(g.ship.position.x-5,0,0);var p=new y;y.rotateY(p,p,-Math.PI/2);var c=t.getChildByName("lightline"),u=Math.random(),f=g.ship;h(this).delay(.2+u).call((function(){n&&(o.warnning.play(),L.play("audios/warning"))})).start(),h(this).delay(.3+u).call((function(){t.rotation=p,c.scale=i.set(1,1,0)})).to(1.5,{},{onUpdate:function(e,n){var o=6*n-1,a=M(f.position.x+o+f.offset,r),p=s+a.y,c=v(t.position.y,f.position.y+l,.1);t.position=i.set(f.position.x+o,c,p)}}).call((function(){L.play("audios/enemy",1,!1,!1)})).to(1.55,{},{onUpdate:function(e,n){var p=M(f.position.x+5+f.offset,r),c=s+p.y,u=v(t.position.y,f.position.y+l,.1);t.position=i.set(f.position.x+5,u,c),o._tmpNode.position=i,o._tmpNode.lookAt(f.position);var y=o._tmpNode.rotation;a.set(t.rotation),a.slerp(y,n),t.rotation=a}}).to(.2,{},{onUpdate:function(e,n){var a=M(f.position.x+5+f.offset,r),l=s+a.y;t.position=i.set(f.position.x+5,t.position.y,l);var p=20*n;c.scale=i.set(1,1,p),o.hitCheck(t,p)}}).to(3.5,{},{onUpdate:function(e,n){var l=5-6*n,p=M(f.position.x+l+f.offset,r),c=s+p.y;t.position=i.set(f.position.x+l,t.position.y,c),o._tmpNode.position=i,o._tmpNode.lookAt(f.position);var u=o._tmpNode.rotation;a.set(t.rotation),a.slerp(u,.03),t.rotation=a,o.hitCheck(t,20)}}).call((function(){t.position=i.set(-100,0,0)})).start()},r.hitCheck=function(t,e){var n=t.position,o=t.forward.multiplyScalar(e).add(t.position);b(g.ship.position,n,o)<.1&&_.emit(E.HIT,N.LASER)},e}(w)).__vec3=new c,F.__position=new u,F.__quat=new y,I=e((H=F).prototype,"enemy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(H.prototype,"laserMaterial",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(H.prototype,"enemyMaterial",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(H.prototype,"warnning",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=H))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"36b4cQWfOpB/rQ24NzQ6AxH","Enum",void 0);t("EventType",function(t){return t.HIT="hit",t.GET="get",t.LEAVE="enter",t.GAMEEND="gameEnd",t.OFFSET="offset",t}({})),t("HitType",function(t){return t[t.CAR=0]="CAR",t[t.BUILDING=1]="BUILDING",t[t.BRIDGE=2]="BRIDGE",t[t.LASER=3]="LASER",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/FreelookVirtualCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtils.ts","./Spherical.ts","./VirtualCamera.ts"],(function(t){var e,i,r,o,n,a,s,h,p,c,l,_,u,g,f,b,y,m,S,d,v,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.Camera,p=t.Vec2,c=t.Vec3,l=t.input,_=t.Input,u=t.sys,g=t.view,f=t.toRadian,b=t.clamp},function(t){y=t.setFromMatrixColumn,m=t.FInterpTo,S=t.VInterpTo,d=t.setFromSpherical},function(t){v=t.Spherical},function(t){L=t.VirtualCamera}],execute:function(){var M,T,w,A,k,D,P,O,E,x,z,F,U,C,V,I,R,j,W,Y,H,N,X,B,Z,q,Q,G,J,K,$,tt,et,it,rt,ot;a._RF.push({},"189a8sT2OxBsqmpE63Qa3ms","FreelookVirtualCamera",void 0);var nt=s.ccclass,at=s.property,st=s.requireComponent,ht=Math.tan,pt=.001;t("FreelookVirtualCamera",(M=nt("FreelookVirtualCamera"),T=st(h),w=at(v),A=at({group:"set",step:.01}),k=at({group:"set",step:.01}),D=at({group:"set",step:.01}),P=at({group:"set",step:.01}),O=at({group:"set",step:.01}),E=at({group:"set",step:.01}),x=at({group:"set"}),z=at({group:"set"}),F=at({group:"set"}),U=at({group:"set"}),C=at({group:"set"}),V=at({group:"set"}),I=at({group:"set"}),R=at({group:"set"}),M(j=T(((ot=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._active=!1,e._targetTheta=0,e._targetPhi=0,e._targetSpringLength=4,e._tempSmoothing=6,e._tempRotateSmoothing=8,e._button=-1,e._touchID=-1,e._preLoc0=new p,e._preLoc1=new p,r(e,"_spherical",Y,o(e)),r(e,"_lookAt",H,o(e)),e._targetLookAt=new c,e._targetFov=e.lens.fov,e._targetNear=e.lens.near,e._targetFar=e.lens.far,e._camera=null,r(e,"thetaMin",N,o(e)),r(e,"thetaMax",X,o(e)),r(e,"phiMin",B,o(e)),r(e,"phiMax",Z,o(e)),r(e,"distanceMin",q,o(e)),r(e,"distanceMax",Q,o(e)),r(e,"rotateSmoothing",G,o(e)),r(e,"rotateSpeed",J,o(e)),r(e,"panSpeed",K,o(e)),r(e,"forbidX",$,o(e)),r(e,"forbidY",tt,o(e)),r(e,"forbidPanX",et,o(e)),r(e,"forbidPanY",it,o(e)),r(e,"forbidZ",rt,o(e)),e}i(e,t);var a=e.prototype;return a.onEnable=function(){this.active=!0,this.reset()},a.onDisable=function(){this.active=!1},a.reset=function(){this._button=-1,this._targetPhi=this.phi,this._targetTheta=this.theta,this._targetSpringLength=this.springLength,this._targetFov=this.lens.fov,this._targetNear=this.lens.near,this._targetFar=this.lens.far,this._targetLookAt.set(this.lookAt)},a.onLoad=function(){this._camera=this.getComponent(h)},a._setListeners=function(t){t?(l.on(_.EventType.MOUSE_DOWN,this._onMouseDown,this),l.on(_.EventType.MOUSE_UP,this._onMouseUp,this),l.on(_.EventType.MOUSE_MOVE,this._onMouseMove,this),l.on(_.EventType.MOUSE_WHEEL,this._onMouseWheel,this),l.on(_.EventType.TOUCH_START,this._onTouchStart,this),l.on(_.EventType.TOUCH_MOVE,this._onTouchMove,this)):(l.off(_.EventType.MOUSE_DOWN,this._onMouseDown,this),l.off(_.EventType.MOUSE_UP,this._onMouseUp,this),l.off(_.EventType.MOUSE_MOVE,this._onMouseMove,this),l.off(_.EventType.MOUSE_WHEEL,this._onMouseWheel,this),l.off(_.EventType.TOUCH_START,this._onTouchStart,this),l.off(_.EventType.TOUCH_MOVE,this._onTouchMove,this))},a._onTouchStart=function(t){if(u.isMobile){var e=t.getAllTouches();e.length>1?(e[0].getLocation(this._preLoc0),e[1].getLocation(this._preLoc1)):e.length>0&&(this._touchID=e[0].getID(),e[0].getLocation(this._preLoc0))}},a._onTouchMove=function(t){if(u.isMobile){var i=e.__loc0,r=e.__loc1,o=e.__panDelta,n=e.__rotateDelta,a=e.__preCenter,s=e.__center,h=t.getAllTouches();h.length>1?(h[0].getLocation(i),h[1].getLocation(r),this.lookAt&&(this._targetSpringLength*=this._calculateDistanceScale(p.distance(this._preLoc0,this._preLoc1)/p.distance(i,r))),a.set(this._preLoc0).add(this._preLoc1).multiplyScalar(.5),s.set(i).add(r).multiplyScalar(.5),this._calculatePanDelta(o,a,s),this._calculateTargetLookAt(o),this._calculateTargetSpringArm(),this._preLoc0.set(i),this._preLoc1.set(r)):h.length>0&&this._touchID===h[0].getID()&&(h[0].getLocation(i),this._calculateRotatelDelta(n,this._preLoc0,i),this._calculateTargetSpringArm(n),this._preLoc0.set(i))}},a._onMouseDown=function(t){this._button=t.getButton(),t.getLocation(this._preLoc0)},a._onMouseUp=function(t){this._button=-1},a._onMouseMove=function(t){var i=e.__loc0,r=e.__panDelta,o=e.__rotateDelta;switch(t.getLocation(i),this._button){case 0:this._calculateRotatelDelta(o,this._preLoc0,i),this._calculateTargetSpringArm(o);break;case 1:case 2:this._calculatePanDelta(r,this._preLoc0,i),this._calculateTargetLookAt(r)}this._preLoc0.set(i)},a._onMouseWheel=function(t){t.getScrollY()>0?this._targetSpringLength*=this._calculateDistanceScale(1/.85):t.getScrollY()<0&&(this._targetSpringLength*=this._calculateDistanceScale(.85)),this._calculateTargetSpringArm()},a._calculateDistanceScale=function(t){return this._tempRotateSmoothing=this.rotateSmoothing,this.forbidZ&&(t=1),t},a._calculatePanDelta=function(t,e,i){return this._tempRotateSmoothing=this.rotateSmoothing,p.copy(t,i).subtract(e).multiplyScalar(this.panSpeed/g.getVisibleSizeInPixel().height),this.forbidPanX&&(t.x=0),this.forbidPanY&&(t.y=0),t},a._calculateTargetLookAt=function(t){var i=e.__xAxis,r=e.__yAxis,o=e.__offset;y(this.node.worldMatrix,0,i),y(this.node.worldMatrix,1,r),c.copy(o,this.node.position).subtract(this.lookAt);var n=2*o.length()*ht(f(.5*this.lens.fov));this._targetLookAt.subtract(i.multiplyScalar(t.x*n)).subtract(r.multiplyScalar(t.y*n))},a._calculateRotatelDelta=function(t,e,i){return this._tempRotateSmoothing=this.rotateSmoothing,p.copy(t,i).subtract(e).multiplyScalar(2*this.rotateSpeed*Math.PI/g.getVisibleSizeInPixel().height),this.forbidX&&(t.x=0),this.forbidY&&(t.y=0),t},a._calculateTargetSpringArm=function(t,e){t&&(this._targetTheta-=t.x,this._targetPhi+=t.y),e&&(this._targetSpringLength=e),this._targetTheta=b(this._targetTheta,this.thetaMin,this.thetaMax),this._targetPhi=b(this._targetPhi,this.phiMin,this.phiMax),this._targetSpringLength=b(this._targetSpringLength,this.distanceMin,this.distanceMax)},a.gotoPOI=function(t){var e=t.phi,i=void 0===e?this._targetPhi:e,r=t.theta,o=void 0===r?this._targetTheta:r,n=t.springLength,a=void 0===n?this._targetSpringLength:n,s=t.lookAt,h=void 0===s?this._targetLookAt:s;this._targetPhi=i,this._targetTheta=o,this._targetSpringLength=a,this._targetLookAt.set(h)},a.gotoTransform=function(t){var i=t.position,r=t.rotation,o=t.damping,n=void 0===o||o,a=e.__forward,s=e.__spherical,h=e.__offset,p=c.transformQuat(a,c.FORWARD,r).multiplyScalar(this.springLength).add(i);h.set(i).subtract(p),s.setFromVector3(h),n?(this._targetPhi=s.phi,this._targetTheta=s.theta,this._targetLookAt.set(p)):(this.phi=s.phi,this.theta=s.theta,this.lookAt=p)},a.update=function(t){var e=this._tempSmoothing,i=this._tempRotateSmoothing;this._spherical.theta=m(this._spherical.theta,this._targetTheta,t,i),this._spherical.phi=m(this._spherical.phi,this._targetPhi,t,i),this._spherical.radius=m(this._spherical.radius,this._targetSpringLength,t,e),S(this._lookAt,this._targetLookAt,t,e),this.lens.fov=m(this.lens.fov,this._targetFov,t,e),this.lens.near=m(this.lens.near,this._targetNear,t,e),this.lens.far=m(this.lens.far,this._targetFar,t,e),this._camera.fov=this.lens.fov,this._camera.near=this.lens.near,this._camera.far=this.lens.far,this.node.position=d(this._spherical,this.node.position).add(this._lookAt),this.node.lookAt(this._lookAt)},n(e,[{key:"lookAt",get:function(){return this._lookAt},set:function(t){this._lookAt.set(t),this._targetLookAt.set(t)}},{key:"near",get:function(){return this.lens.near},set:function(t){this.lens.near=this._targetNear=t}},{key:"far",get:function(){return this.lens.far},set:function(t){this.lens.far=this._targetFar=t}},{key:"fov",get:function(){return this.lens.fov},set:function(t){this.lens.fov=this._targetFov=t}},{key:"springLength",get:function(){return this._spherical.radius},set:function(t){this._spherical.radius=this._targetSpringLength=t}},{key:"theta",get:function(){return this._spherical.theta},set:function(t){this._spherical.theta=this._targetTheta=t}},{key:"phi",get:function(){return this._spherical.phi},set:function(t){this._spherical.phi=this._targetPhi=t}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this._setListeners(t))}}]),e}(L)).__loc0=new p,ot.__loc1=new p,ot.__center=new p,ot.__preCenter=new p,ot.__panDelta=new p,ot.__panTarget=new p,ot.__rotateDelta=new p,ot.__offset=new c,ot.__xAxis=new c,ot.__yAxis=new c,ot.__spherical=new v,ot.__forward=new c,Y=e((W=ot).prototype,"_spherical",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new v(4,Math.PI/2)}}),H=e(W.prototype,"_lookAt",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),e(W.prototype,"lookAt",[at],Object.getOwnPropertyDescriptor(W.prototype,"lookAt"),W.prototype),e(W.prototype,"near",[at],Object.getOwnPropertyDescriptor(W.prototype,"near"),W.prototype),e(W.prototype,"far",[at],Object.getOwnPropertyDescriptor(W.prototype,"far"),W.prototype),e(W.prototype,"fov",[at],Object.getOwnPropertyDescriptor(W.prototype,"fov"),W.prototype),e(W.prototype,"springLength",[at],Object.getOwnPropertyDescriptor(W.prototype,"springLength"),W.prototype),e(W.prototype,"theta",[at],Object.getOwnPropertyDescriptor(W.prototype,"theta"),W.prototype),e(W.prototype,"phi",[at],Object.getOwnPropertyDescriptor(W.prototype,"phi"),W.prototype),N=e(W.prototype,"thetaMin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1e6}}),X=e(W.prototype,"thetaMax",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e6}}),B=e(W.prototype,"phiMin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pt}}),Z=e(W.prototype,"phiMax",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.PI-pt}}),q=e(W.prototype,"distanceMin",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pt}}),Q=e(W.prototype,"distanceMax",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e6}}),G=e(W.prototype,"rotateSmoothing",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),J=e(W.prototype,"rotateSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=e(W.prototype,"panSpeed",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=e(W.prototype,"forbidX",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=e(W.prototype,"forbidY",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et=e(W.prototype,"forbidPanX",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=e(W.prototype,"forbidPanY",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rt=e(W.prototype,"forbidZ",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=W))||j)||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PipelineNextSettings.ts","./Properties.ts","./Math.ts","./AudioSystem.ts","./TweenUitls.ts","./Enum.ts"],(function(t){var e,i,n,r,o,a,s,l,p,u,c,h,_,f,g,d,m,y,b,O,S,w,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Color,p=t.Sprite,u=t.Label,c=t.ProgressBar,h=t.find,_=t.UITransform,f=t.director,g=t.tween,d=t.lerp,m=t.Component},function(t){y=t.PipelineNextSettings},function(t){b=t.properties},function(t){O=t.prepare},function(t){S=t.audioSystem},function(t){w=t.killTweenOf},function(t){C=t.EventType}],execute:function(){var E,L,M,B,v,R;o._RF.push({},"802160Zq2FO7qjbPgVcg9Hw","GameManager",void 0);var N=a.ccclass,D=a.property;function G(t){return t<24?0:t}t("GameManager",(E=N("GameManager"),L=D(s),E(((R=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"group",v,r(e)),e._score=null,e._life=null,e._bar=null,e._preBar=null,e._groupSprite=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this._groupSprite=this.group.getComponent(p),this._score=this.group.getChildByName("Score").getComponent(u),this._life=this.group.getChildByName("Life").getComponent(c),this._bar=h("Bar",this._life.node).getComponent(_),this._preBar=h("preBar",this._life.node).getComponent(_),this._preBar.width=this._bar.width},o.onEnable=function(){f.on(C.GAMEEND,this._gameEnd,this)},o.onDisable=function(){w(this),f.off(C.GAMEEND,this._gameEnd,this)},o.start=function(){O(),b.ship.far=0,b.ship.offset=0,b.ship.position.set(0,0,0),b.ship.speedRatio.set(0,0,0),b.user.life=100,b.user.score=0,S.play("audios/start",2),S.playBGM("audios/bgm01"),this._gameStart(),g(this).delay(33.63).call((function(){S.playBGM("audios/bgmtransition")})).delay(11.21).call((function(){S.playBGM("audios/bgm02",1)})).start()},o._gameStart=function(){var t=this;g(y.Instance.tonemap).set({intensity:0}).to(.5,{intensity:1}).start();var i=e.__COLOR_HIDE.clone();g(this).call((function(){return t._groupSprite.color=i})).delay(.5).to(1,{},{onUpdate:function(n,r){t._groupSprite.color=i.lerp(e.__COLOR_NORMAL,r)}}).start()},o._gameEnd=function(){var t=this;g(y.Instance.tonemap).delay(2).to(.5,{intensity:0}).call((function(){f.loadScene("home")})).start();var i=e.__COLOR_NORMAL.clone();g(this).call((function(){return t._groupSprite.color=i})).delay(.5).to(1,{},{onUpdate:function(n,r){t._groupSprite.color=i.lerp(e.__COLOR_HIDE,r)}}).start()},o.update=function(t){this._score&&this._life&&(this._score.string=Math.floor(b.user.score).toLocaleString(),this._life.progress=b.user.life/100,this._bar.width=G(this._bar.width),this._preBar.width=G(d(this._preBar.width,this._bar.width,t)))},e}(m)).__COLOR_HIDE=(new l).fromHEX(4294967040),R.__COLOR_NORMAL=(new l).fromHEX(4294967295),v=e((B=R).prototype,"group",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=B))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/Hand.ts",["cc"],(function(t){var n,c;return{setters:[function(t){n=t.cclegacy,c=t.Vec3}],execute:function(){n._RF.push({},"31bac0t++FEMbC6AAkSIHGr","Hand",void 0);t("Hand",(function(){this.lookAtOffset=new c}));n._RF.pop()}}}));

System.register("chunks:///_virtual/HandController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Perlin.ts","./Math.ts","./Properties.ts","./MeshUtils.ts","./TweenUitls.ts","./Enum.ts"],(function(t){var e,n,i,s,r,o,a,_,h,l,u,c,p,f,E,d,m,R,T,w,g,y,v,S,O,M,b,k,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,a=t._decorator,_=t.Vec3,h=t.Node,l=t.Vec2,u=t.Quat,c=t.Animation,p=t.director,f=t.input,E=t.Input,d=t.tween,m=t.easing,R=t.find,T=t.sys,w=t.view,g=t.clamp,y=t.Component,v=t.MeshRenderer},function(t){S=t.Perlin},function(t){O=t.randomFloat},function(t){M=t.properties},function(t){b=t.initParticleMesh},function(t){k=t.killTweenOf},function(t){A=t.EventType}],execute:function(){var U,C,L,D,N,I,P,V;o._RF.push({},"7a11cmNKKRCp5KLCImEI640","HandController",void 0);var x=a.ccclass,H=a.property,z=[[-2,0,.2,0,0,4],[-4,0,0,0,0,1],[0,-2,0,0,0,-4]],Z=function(t){return t[t.NONE=0]="NONE",t[t.RESET=1]="RESET",t[t.START=2]="START",t[t.ENTER=3]="ENTER",t[t.LEAVE=4]="LEAVE",t}(Z||{}),F={targetEulers:[new _(170,-179,33),new _(126,120,-71),new _(3.83,-.58,-9.6)],initEulers:[new _(170,-180,20),new _(126,120,-71),new _(3.83,-1.77,8.3)]},K=function(){function t(t){this._material=void 0,this.sync=0,this.noise=1;var e=t.getComponentInChildren(v);e.mesh=M.shipParticleMesh||b(e.mesh),this._material=e.sharedMaterial}return r(t,[{key:"progress",get:function(){return this._material.getProperty("progress",0)},set:function(t){this._material.setProperty("progress",t,0)}}]),t}(),q=function(){function t(t){this._material=void 0,this._material=t.getComponentInChildren(v).sharedMaterial,this.indirectIntensity=.3}return r(t,[{key:"indirectIntensity",get:function(){return this._material.getProperty("indirectIntensity",0)},set:function(t){this._material.setProperty("indirectIntensity",t,0)}}]),t}();t("HandController",(U=x("HandController"),C=H(h),L=H(h),U(((V=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this)._animation=null,e._armSkeletons=[],e._targetScales=[new _(2,2,2),new _,new _(-8,-8,-8)],e._targetSkeletons=[0,1,2],e._targetEulers=[new _,new _,new _],e._targetOffsets=[new _,new _,new _],e._targetCenters=[new _,new _,new _],e._currEulers=[new _,new _,new _],e._initialEulers=[new _,new _,new _],e._totalDelta=new l,e._time=[],e._preLoc0=new l,e._button=-1,e._state=Z.NONE,e._shipTween=void 0,e._handTween=void 0,i(e,"ship",I,s(e)),i(e,"target",P,s(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){this._initSkeleton(),this._initTargetEulers(),this._initSkeltonRotations(),this._initTimes(),this._animation=this.getComponent(c),this._shipTween=new K(this.ship),this._handTween=new q(this.node),this._disable(),p.on(A.LEAVE,this._leaveScene,this)},r.onDestroy=function(){k(this._handTween),k(this._shipTween),p.off(A.LEAVE,this._leaveScene,this)},r._enable=function(){f.on(E.EventType.MOUSE_DOWN,this._onMouseDown,this),f.on(E.EventType.MOUSE_UP,this._onMouseUp,this),f.on(E.EventType.MOUSE_MOVE,this._onMouseMove,this),f.on(E.EventType.TOUCH_START,this._onTouchStart,this),f.on(E.EventType.TOUCH_END,this._onTouchEnd,this),f.on(E.EventType.TOUCH_MOVE,this._onTouchMove,this)},r._disable=function(){f.off(E.EventType.MOUSE_DOWN,this._onMouseDown,this),f.off(E.EventType.MOUSE_UP,this._onMouseUp,this),f.off(E.EventType.MOUSE_MOVE,this._onMouseMove,this),f.off(E.EventType.TOUCH_START,this._onTouchStart,this),f.off(E.EventType.TOUCH_END,this._onTouchEnd,this),f.off(E.EventType.TOUCH_MOVE,this._onTouchMove,this)},r.start=function(){this._initAnimation(),this._enterScene()},r._initAnimation=function(){this._animation.play("leave");var t=this._animation.getState("leave");t.setTime(t.duration)},r._enterScene=function(){var t=this;k(this._handTween),k(this._shipTween),d(this._shipTween).set({sync:0,noise:1}).to(3,{noise:0}).to(2,{sync:1,noise:1}).start(),d(this._shipTween).set({progress:2}).to(4,{progress:0},{easing:m.quadInOut}).start(),d(this._shipTween).delay(1.2).call((function(){t._state=Z.START})).delay(1).call((function(){t._state=Z.ENTER,t._animation.play("enter"),k(t._handTween),d(t._handTween).delay(2).call((function(){return t._enable()})).start(),d(t._handTween).delay(1).to(.5,{indirectIntensity:1}).start()})).start()},r._leaveScene=function(){this._state=Z.LEAVE,this._animation.play("leave"),this._shipTween.sync=0,this._disable(),k(this._shipTween),k(this._handTween),d(this._shipTween).set({progress:0}).to(3,{progress:2},{easing:m.quadInOut}).start(),d(this._handTween).to(.5,{indirectIntensity:.3}).start()},r._initSkeleton=function(){var t=this,e=R("hand.003",this.node);["upper_arm.R","upper_arm.R/forearm.R","upper_arm.R/forearm.R/hand.R","upper_arm.R/forearm.R/hand.R/palm.01.R/f_index.01.R","upper_arm.R/forearm.R/hand.R/palm.01.R/f_index.01.R/f_index.02.R","upper_arm.R/forearm.R/hand.R/palm.01.R/thumb.01.R","upper_arm.R/forearm.R/hand.R/palm.02.R/f_middle.01.R","upper_arm.R/forearm.R/hand.R/palm.02.R/f_middle.01.R/f_middle.02.R","upper_arm.R/forearm.R/hand.R/palm.03.R/f_ring.01.R","upper_arm.R/forearm.R/hand.R/palm.03.R/f_ring.01.R/f_ring.02.R","upper_arm.R/forearm.R/hand.R/palm.04.R/f_pinky.01.R","upper_arm.R/forearm.R/hand.R/palm.04.R/f_pinky.01.R/f_pinky.02.R"].forEach((function(n,i){t._armSkeletons[i]=R(n,e)}))},r._initTargetEulers=function(){var t=this;this._targetSkeletons.forEach((function(e,n){var i=t._armSkeletons[e].eulerAngles;t._currEulers[n].set(i),t._targetEulers[n].set(i),t._initialEulers[n].set(i)}))},r._initSkeltonRotations=function(){var t=this,n=e.__euler,i=e.__rotation;this._targetSkeletons.forEach((function(e,s){n.set(F.initEulers[s]),t._targetEulers[s].set(n),t._armSkeletons[e].rotation=u.fromEuler(i,n.x,n.y,n.z)}))},r._initTimes=function(){for(var t=0;t<3;t++)this._time[t]=O(-1e4,0);M.hand.lookAtOffset.set(0,0,0)},r.update=function(t){var n=this,i=e.__position,s=e.__rotation,r=e.__euler,o=e.__normal,a=e.__offset,h=M.hand,c=this._currEulers,p=this._targetScales,f=this._targetEulers,E=this._initialEulers,d=this._targetOffsets,m=this._targetCenters,R=this._targetSkeletons,T=this._armSkeletons;t=Math.min(.033,t);for(var w=0;w<3;w++)this._time[w]+=.2*t;var g=o.set(S.Fbm(3,this._time[0]),S.Fbm(3,this._time[1]),S.Fbm(3,this._time[2]));g.multiply3f(1,1,2).multiplyScalar(this._shipTween.noise),R.forEach((function(e,i){var o=T[e],l=d[i],R=m[i],w=f[i];switch(n._state){case Z.RESET:w.lerp(E[i],3*t),R.lerp(_.ZERO,5*t),h.lookAtOffset.lerp(_.ZERO,2*t);break;case Z.START:w.lerp(F.targetEulers[i],1.5*t);break;case Z.ENTER:w.lerp(E[i],1.5*t),R.lerp(_.ZERO,2.5*t),h.lookAtOffset.lerp(_.ZERO,1*t);break;case Z.LEAVE:w.lerp(F.targetEulers[i],1.5*t),R.lerp(_.ZERO,2.5*t),h.lookAtOffset.lerp(_.ZERO,1*t)}l.lerp(R,10*t),a.set(g).multiply(p[i]),r.set(w).add(l).add(a);var y=c[i].lerp(r,20*t);u.fromEuler(s,y.x,y.y,y.z),o.rotation=o.rotation.slerp(s,10*t)})),this._state===Z.RESET&&this._totalDelta.lerp(l.ZERO,3*t),this.ship&&this.target&&(this.ship.worldPosition=i.set(this.ship.worldPosition).lerp(this.target.worldPosition,this._shipTween.sync),this.ship.worldRotation=s.set(this.ship.worldRotation).slerp(this.target.worldRotation,this._shipTween.sync))},r._onMouseDown=function(t){this._button=t.getButton(),t.getUILocation(this._preLoc0),this._state=Z.NONE},r._onMouseUp=function(t){this._button=-1,this._state=Z.RESET},r._onMouseMove=function(t){var n=e.__loc0;t.getUILocation(n),this._setTargets(n,this._preLoc0),this._preLoc0.set(n)},r._onTouchStart=function(t){T.isMobile&&(this._button=0,this._state=Z.NONE,t.getAllTouches()[0].getUILocation(this._preLoc0))},r._onTouchEnd=function(t){T.isMobile&&(this._button=-1,this._state=Z.RESET)},r._onTouchMove=function(t){if(T.isMobile){var n=e.__loc0;t.getAllTouches()[0].getUILocation(n),this._setTargets(n,this._preLoc0),this._preLoc0.set(n)}},r._setTargets=function(t,e){0===this._button&&this._setTargetDelta(this._calcDelta(t,e))},r._calcDelta=function(t,n,i){void 0===i&&(i=e.__delta);var s=w.getVisibleSize();return i.set(t).subtract(n).multiplyScalar(15/s.height),i},r._setTargetDelta=function(t,e){void 0===e&&(e=z);var n=this._totalDelta,i=n.x,s=n.y,r=this._totalDelta.x=g(i+t.x,-10,3),o=this._totalDelta.y=g(s+t.y,-3,1.5),a=r-i,_=o-s;this._targetEulers.forEach((function(t,n){var i=e[n];t.x+=a*i[0],t.y+=a*i[1],t.z+=a*i[2]})),this._targetCenters.forEach((function(t,n){var i=e[n];t.x+=_*i[3],t.y+=_*i[4],t.z+=_*i[5]})),M.hand.lookAtOffset.add3f(-a,_,0)},e}(y)).__loc0=new l,V.__delta=new l,V.__euler=new _,V.__normal=new _,V.__position=new _,V.__rotation=new u,V.__offset=new _,I=e((N=V).prototype,"ship",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(N.prototype,"target",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=N))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PipelineNextSettings.ts","./Enum.ts","./Properties.ts","./TweenUitls.ts","./AudioSystem.ts"],(function(t){var e,n,o,i,r,s,a,l,u,c,_,h,p,f,y,g,d,M,b,m,E,T,O,C,L,v,R,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Camera,l=t.BoxCollider,u=t.Node,c=t.Animation,_=t.Vec2,h=t.geometry,p=t.Color,f=t.Vec3,y=t.Sprite,g=t.Label,d=t.MeshRenderer,M=t.input,b=t.Input,m=t.tween,E=t.sys,T=t.director,O=t.Component},function(t){C=t.PipelineNextSettings},function(t){L=t.EventType},function(t){v=t.properties},function(t){R=t.killTweenOf},function(t){S=t.audioSystem}],execute:function(){var w,P,A,U,H,B,D,N,V,x,z,I,k,F,X,j;r._RF.push({},"9450fAodF1Pk55cjHYq1hZS","HomeManager",void 0);var W=s.ccclass,q=s.property;s.executeInEditMode,t("HomeManager",(w=W("HomeManager"),P=q(a),A=q(l),U=q(a),H=q(u),B=q(c),D=q(u),w(((j=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"camera",x,i(e)),o(e,"startCollider",z,i(e)),o(e,"uiCamera",I,i(e)),o(e,"screen",k,i(e)),o(e,"screenAnimation",F,i(e)),o(e,"group",X,i(e)),e._button=-1,e._pressed=!1,e._screenMaterial=null,e._startButton=null,e._startLabel=null,e._scoreLabel=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this._startButton=this.group.getChildByName("button").getComponent(y),this._startLabel=this.group.getChildByPath("button/label").getComponent(g),this._scoreLabel=this.group.getChildByPath("score/score").getComponent(g),this._screenMaterial=this.screen.getComponent(d).material,this._screenMaterial.setProperty("mainTexture",this.uiCamera.targetTexture),S.stop()},r.onDestroy=function(){R(this)},r._enalble=function(){M.on(b.EventType.MOUSE_DOWN,this._onMouseDown,this),M.on(b.EventType.MOUSE_UP,this._onMouseUp,this),M.on(b.EventType.MOUSE_MOVE,this._onMouseMove,this),M.on(b.EventType.TOUCH_START,this._onTouchStart,this),M.on(b.EventType.TOUCH_END,this._onTouchEnd,this),M.on(b.EventType.TOUCH_MOVE,this._onTouchMove,this)},r._disable=function(){M.off(b.EventType.MOUSE_DOWN,this._onMouseDown,this),M.off(b.EventType.MOUSE_UP,this._onMouseUp,this),M.off(b.EventType.MOUSE_MOVE,this._onMouseMove,this),M.off(b.EventType.TOUCH_START,this._onTouchStart,this),M.off(b.EventType.TOUCH_END,this._onTouchEnd,this),M.off(b.EventType.TOUCH_MOVE,this._onTouchMove,this)},r.start=function(){var t=this;v.user.life<=0?(this._startButton.color=e.__COLOR_HIDE,this._scoreLabel.string=Math.floor(v.user.score).toLocaleString(),m(C.Instance.tonemap).set({intensity:0}).to(1,{intensity:1}).start(),m(this).delay(3.5).call((function(){return t.group.getComponent(c).play()})).delay(.5).call((function(){return S.play("audios/score")})).start(),this.screenAnimation.play()):(this._startLabel.string="PRESS START",this._startButton.color=e.__COLOR_NORMAL,m(this).delay(.5).call((function(){return t.screenAnimation.play()})).start()),S.play("audios/particle"),S.playBGM("audios/roombgm"),m(this).delay(4).call((function(){return t._enalble()})).start()},r.update=function(t){if(this._startButton){var n=this._startLabel.node,o=this._pressed?e.__SCAL0:e.__SCAL1;n.scale=n.scale.lerp(o,10*t)}},r._onMouseDown=function(t){this._button=t.getButton(),this._onPointerDown(t.getLocation(e.__loc0))},r._onMouseUp=function(t){this._button=-1,this._onPointerUp(t.getLocation(e.__loc0))},r._onMouseMove=function(t){this._onPointerMove(t.getLocation(e.__loc0))},r._onTouchStart=function(t){E.isMobile&&(this._button=0,this._onPointerDown(t.touch.getLocation(e.__loc0)))},r._onTouchEnd=function(t){E.isMobile&&(this._button=-1,this._onPointerUp(t.touch.getLocation(e.__loc0)))},r._onTouchMove=function(t){E.isMobile&&this._onPointerMove(t.touch.getLocation(e.__loc0))},r._onPointerDown=function(t){0===this._button&&(this._pressed=this._getRayResult(t)>0)},r._onPointerUp=function(t){this._pressed&&(this._pressed=!1,S.play("audios/click"),S.play("audios/particle"),T.emit(L.LEAVE),this._disable(),m(C.Instance.tonemap).delay(1.5).to(1,{intensity:0}).call((function(){T.loadScene("game")})).start())},r._onPointerMove=function(t){-1===this._button&&(this._startButton.color=this._getRayResult(t)>0?e.__COLOR_HOVER:e.__COLOR_NORMAL)},r._getRayResult=function(t){var n=this.camera.screenPointToRay(t.x,t.y,e.__ray);return h.intersect.rayAABB(n,this.startCollider.worldBounds)},e}(O)).__loc0=new _,j.__ray=new h.Ray,j.__COLOR_HIDE=(new p).fromHEX(2834693888),j.__COLOR_NORMAL=(new p).fromHEX(2834694143),j.__COLOR_HOVER=(new p).fromHEX(1893203967),j.__SCAL0=new f(1.2,1.2,1.2),j.__SCAL1=new f(1,1,1),x=e((V=j).prototype,"camera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(V.prototype,"startCollider",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(V.prototype,"uiCamera",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(V.prototype,"screen",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(V.prototype,"screenAnimation",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(V.prototype,"group",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=V))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./FreelookVirtualCamera.ts","./MathUtils.ts","./Spherical.ts","./VirtualCamera.ts","./MeshParticle.ts","./ReflectionProbeExtension.ts","./CameraController.ts","./HandController.ts","./ShipController.ts","./Car.ts","./Enum.ts","./Hand.ts","./Properties.ts","./Settings.ts","./Ship.ts","./StateHandler.ts","./StateManager.ts","./User.ts","./DebugManager.ts","./EffectManager.ts","./EnemyManager.ts","./GameManager.ts","./HomeManager.ts","./ParticleManager.ts","./PortalManager.ts","./PreloadManager.ts","./PropsManager.ts","./SceneManager.ts","./PilelineNextBuilder.ts","./PipelineNextSettings.ts","./Plat4399.ts","./AudioSystem.ts","./Math.ts","./MeshUtils.ts","./Perlin.ts","./Resources.ts","./TweenUitls.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Math.ts",["cc"],(function(n){var t,r,e;return{setters:[function(n){t=n.cclegacy,r=n.Vec2,e=n.Vec3}],execute:function(){function a(n,t){return n+Math.floor(Math.random()*(t-n+1))}function o(n,t,e,a,o,u){void 0===u&&(u=new r);var c=1-n,i=n*n,l=c*c,f=l*c,h=i*n,s=f*t.x+3*l*n*e.x+3*c*i*a.x+h*o.x,d=f*t.y+3*l*n*e.y+3*c*i*a.y+h*o.y;return u.set(s,d)}n({catmullRom:function(n,t,r,e,a){var o=.5*(e-t),u=.5*(a-r),c=n*n;return(2*r-2*e+o+u)*(n*c)+(-3*r+3*e-2*o-u)*c+o*n+r},cubicBezier:o,evalute:function n(t,e){null===i&&(i=new r,n(0,i));var a=Math.abs(t)/100,c=Math.floor(a),l=a-c,f=u[c%u.length];return o(l,f[0],f[1],f[2],f[3],e),e.set(t,30*e.y-i.y)},pointToLineDistance:function(n,t,r){var e=l.set(r).subtract(t),a=f.set(n).subtract(t),o=h.set(n).subtract(r),u=e.dot(e);if(0==u)return a.length();var c=a.dot(e)/u;if(c<0)return a.length();if(c>1)return o.length();var i=s.set(t).add(e.multiplyScalar(c));return d.set(n).subtract(i).length()},prepare:c,randomBoolean:function(){return Math.random()<.5},randomFloat:function(n,t){return n+Math.random()*(t-n)},randomFloats:function(n){var t=a(0,n.length-1);return n[t][0]+Math.random()*(n[t][1]-n[t][0])},randomInt:a,randomRange:function(n,t){return n+Math.random()*(t-n)},randomSpread:function(n){return n*(.5-Math.random())}}),t._RF.push({},"9f2f1ivwk9BjK/imrbnPB8l","Math",void 0);var u=[];function c(){for(var n=0,t=0;t<500;t++){var e=0===t?Math.random():n,a=499===t?u[0][0].y:Math.random();u.push([new r(0,e),new r(.25,e),new r(.75,a),new r(1,a)]),n=a}}c();var i=null;var l=new e,f=new e,h=new e,s=new e,d=new e;t._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtils.ts",["cc"],(function(t){var r,e,n;return{setters:[function(t){r=t.cclegacy,e=t.Vec3,n=t.clamp}],execute:function(){t({FInterpTo:function(t,r,e,i){if(i<=0)return r;var u=r-t;if(a(u)<s)return r;return t+u*n(i*e,0,1)},VInterpConstantTo:function(t,r,e,n,a){void 0===a&&(a=t);var s=i.set(r).subtract(t),u=s.length(),c=n*e;if(u>c)return c>0?a.set(t).add(s.multiplyScalar(c/u)):a.set(t);return a.set(r)},VInterpTo:function(t,r,e,a,u){void 0===u&&(u=t);if(a<=0)return u.set(r);var c=i.set(r).subtract(t);if(c.length()<s)return u.set(r);return u.set(t).add(c.multiplyScalar(n(e*a,0,1)))},setFromMatrixColumn:function(t,r,n){void 0===n&&(n=new e);switch(r){case 0:n.x=t.m00,n.y=t.m01,n.z=t.m02;break;case 1:n.x=t.m04,n.y=t.m05,n.z=t.m06;break;case 2:n.x=t.m08,n.y=t.m09,n.z=t.m10}return n},setFromSpherical:function(t,r){void 0===r&&(r=new e);return u(t.radius,t.phi,t.theta,r)},setFromSphericalCoords:u}),r._RF.push({},"0aa086oFvlK4aWwMXQCIQYS","MathUtils",void 0);var a=Math.abs,s=1e-4,i=new e;function u(t,r,e,n){var a=Math.sin(r)*t;return n.x=a*Math.sin(e),n.y=Math.cos(r)*t,n.z=a*Math.cos(e),n}r._RF.pop()}}}));

System.register("chunks:///_virtual/MeshParticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MeshUtils.ts","./TweenUitls.ts"],(function(e){var t,n,i,r,s,l,a,c,o,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,r=e._decorator,s=e.MeshRenderer,l=e.tween,a=e.lerp,c=e.Component},function(e){o=e.initParticleMesh},function(e){u=e.killTweenOf}],execute:function(){var h,p;i._RF.push({},"02f44GNVflGdIkO3jD8UOXd","MeshParticle",void 0);var f=r.ccclass,_=(r.property,r.executeInEditMode);e("MeshParticle",f("MeshParticle")(h=_(((p=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._material=null,t._isPlaying=!1,t}t(i,e);var r=i.prototype;return r.onLoad=function(){var e=this.getComponentInChildren(s);null===i.__particleMesh&&(i.__particleMesh=o(e.mesh,1)),e.mesh=i.__particleMesh,this._material=e.material},r.onDestroy=function(){u(this)},r.play=function(){var e=this;u(this),l(this).call((function(){return e._isPlaying=!0})).delay(.5).to(.8,{},{onUpdate:function(t,n){e._material.setProperty("progress",a(1.4,2,n))}}).call((function(){return e._isPlaying=!1})).start()},n(i,[{key:"isPlaying",get:function(){return this._isPlaying}}]),i}(c)).__particleMesh=null,h=p))||h)||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/MeshUtils.ts",["cc","./Math.ts"],(function(t){var r,a,e,o,n;return{setters:[function(t){r=t.cclegacy,a=t.gfx,e=t.utils},function(t){o=t.randomSpread,n=t.randomRange}],execute:function(){t("initParticleMesh",(function(t,r){void 0===r&&(r=0);var s=t.readIndices(0);if(null===s)return;var i={a_position:"positions",a_normal:"normals",a_tangent:"tangents",a_texCoord:"uvs",a_color:"colors"},u={};t.renderingSubMeshes[0].attributes.forEach((function(r){var e=u[i[r.name]]=[],o=t.readAttribute(0,r.name),n=0;switch(r.format){case a.Format.RGBA32F:s.forEach((function(t){n=4*t,e.push(o[n+0],o[n+1],o[n+2],o[n+3])}));break;case a.Format.RGB32F:s.forEach((function(t){n=3*t,e.push(o[n+0],o[n+1],o[n+2])}));break;case a.Format.RG32F:s.forEach((function(t){n=2*t,e.push(o[n+0],o[n+1])}))}}));for(var c=u.positions,h=[],f=0;f<c.length;f+=9)for(var l=(c[f+0]+c[f+3]+c[f+6])/3,v=(c[f+1]+c[f+4]+c[f+7])/3,m=(c[f+2]+c[f+5]+c[f+8])/3,F=0;F<3;F++)h.push(l,v,m);for(var p=[],d=[],_=0;_<h.length;_+=9)for(var b=h[_+0]+o(.5),g=h[_+1]+.5*n(.1,.5),R=h[_+2]+n(.1,.5),G=h[_+0]+o(.5),M=h[_+1],A=h[_+2]-n(.1,.5),B=0;B<3;B++)p.push(b,g,R),d.push(G,M,A);for(var w=[],P=0;P<h.length;P+=9)for(var E=h[P+0]+o(1),k=h[P+1]+.5*(0===r?n(1,1.5):n(0,.5)),x=o(1.5),S=0;S<3;S++)w.push(E,k,x);return u.customAttributes=[{attr:new a.Attribute("a_centroid",a.Format.RGB32F),values:h},{attr:new a.Attribute("a_controlPoint0",a.Format.RGB32F),values:p},{attr:new a.Attribute("a_controlPoint1",a.Format.RGB32F),values:d},{attr:new a.Attribute("a_endPosition",a.Format.RGB32F),values:w}],e.MeshUtils.createMesh(u)})),r._RF.push({},"59a539MoztOq6rufPGhtBuD","MeshUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./MeshParticle.ts"],(function(e){var t,r,i,a,n,o,s,c,l,p,h,u,f,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,l=e.director,p=e.instantiate,h=e.ParticleSystem,u=e.Component},function(e){f=e.EventType},function(e){P=e.MeshParticle}],execute:function(){var y,m,v,d,_,b,g;o._RF.push({},"81a848+EBRGfLLNCAe3/Qp6","ParticleManager",void 0);var E=s.ccclass,M=s.property;e("ParticleManager",(y=E("ParticleManager"),m=M(c),v=M(c),y((b=t((_=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._particles=[],t._meshParticles=[],i(t,"batteryParticle",b,a(t)),i(t,"meshParticle",g,a(t)),t}r(t,e);var o=t.prototype;return o.onEnable=function(){l.on(f.GET,this._onGet,this)},o.onDisable=function(){l.off(f.GET,this._onGet,this)},o.onLoad=function(){for(var e=0;e<4;e++){var t=p(this.batteryParticle);t.parent=this.batteryParticle.parent,this._addParticle(t)}this._addParticle(this.batteryParticle);for(var r=0;r<4;r++){var i=p(this.meshParticle);i.parent=this.meshParticle.parent,this._meshParticles.push(i.getComponent(P))}this._meshParticles.push(this.meshParticle.getComponent(P))},o._addParticle=function(e){this._particles.push({particles:e.getComponentsInChildren(h)})},o._onGet=function(e){for(var t,r=n(this._particles);!(t=r()).done;){var i=t.value;if(!i.particles[0].isPlaying){i.particles.forEach((function(e){return e.play()}));break}}for(var a,o=n(this._meshParticles);!(a=o()).done;){var s=a.value;if(!s.isPlaying){s.play();break}}},t}(u)).prototype,"batteryParticle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(_.prototype,"meshParticle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Perlin.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"6ee1d1LaIJBS7abIudPXu+n","Perlin",void 0);var e=Math.floor;r("Perlin",function(){function r(){}return r.Noise=function(n,i,t){var o=r._Fade,u=r._Grad,a=r._Lerp,v=r._Permutation;if(void 0!==i&&void 0!==t){var f=e(n),c=e(i),d=e(t),s=255&f,_=255&c,l=255&d;i-=c,t-=d;var P=o(n-=f),p=o(i),F=o(t),m=v[s]+_,h=v[m]+l,L=v[m+1]+l,b=v[s+1]+_,g=v[b]+l,y=v[b+1]+l;return a(F,a(p,a(P,u(v[h],n,i,t),u(v[g],n-1,i,t)),a(P,u(v[L],n,i-1,t),u(v[y],n-1,i-1,t))),a(p,a(P,u(v[h+1],n,i,t-1),u(v[g+1],n-1,i,t-1)),a(P,u(v[L+1],n,i-1,t-1),u(v[y+1],n-1,i-1,t-1))))}if(void 0!==i){var G=e(n),I=e(i),N=255&G,R=255&I;i-=I;var S=o(n-=G),k=o(i),x=v[N]+R&255,B=v[N+1]+R&255;return a(k,a(S,u(v[x],n,i),u(v[B],n-1,i)),a(S,u(v[x+1],n,i-1),u(v[B+1],n-1,i-1)))}var J=e(n),M=255&J;return a(o(n-=J),u(v[M],n),u(v[M+1],n-1))},r.Fbm=function(n,e,i,t){var o=0,u=.5,a=r.Noise;if(void 0!==i&&void 0!==t)for(var v=0;v<n;v++)o+=u*a(e,i,t),e*=2,i*=2,t*=2,u*=.5;else if(void 0!==i)for(var f=0;f<n;f++)o+=u*a(e,i),e*=2,i*=2,u*=.5;else for(var c=0;c<n;c++)o+=u*a(e),e*=2,u*=.5;return o},r._Fade=function(r){return r*r*r*(r*(6*r-15)+10)},r._Lerp=function(r,n,e){return n+r*(e-n)},r._Grad=function(r,n,e,i){if(void 0!==e&&void 0!==i){var t=15&r,o=t<8?n:e,u=t<4?e:12==t||14==t?n:i;return(0==(1&t)?o:-o)+(0==(2&t)?u:-u)}return void 0!==e?(0==(1&r)?n:-n)+(0==(2&r)?e:-e):0==(1&r)?n:-n},r}())._Permutation=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180,151],n._RF.pop()}}}));

System.register("chunks:///_virtual/PilelineNextBuilder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PipelineNextSettings.ts","./env"],(function(e){var t,a,i,n,r,d,o,s,l,h,u,g,p,c;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,i=e.sys,n=e.pipeline,r=e.renderer,d=e.director,o=e.PipelineEventType,s=e.gfx,l=e.Vec4,h=e.rendering},function(e){u=e.TonemapType,g=e.PipelineNextSettings},function(e){p=e.DEBUG,c=e.EDITOR}],execute:function(){e("getWindowId",S),a._RF.push({},"8e9bfPEYpFPMKqbee7DqB+k","PilelineNextBuilder",void 0),i.platform.endsWith("BROWSER")&&n.UBOSkinning.initLayout(Math.floor(n.UBOSkinning.JOINT_UNIFORM_CAPACITY));var m=r.scene.CameraUsage,w=0,_=new Map;function S(e){var t=_.get(e);return void 0===t&&(t=w++,_.set(e,t)),t}function f(e){return!!(e.clearFlag&(s.ClearFlagBit.COLOR|s.ClearFlagBit.STENCIL<<1))}function v(e){var t=e.cameraUsage===m.SCENE_VIEW?e.next=g.Instance:e.next;return void 0!==t&&!c&&!!t.base.material}function P(e,t,a,i){var n=e.addRenderPass(a.width,a.height,i);return n.addTexture(t.name,"mainTexture"),n.addRenderTarget(a.name,s.LoadOp.CLEAR,s.StoreOp.STORE),n}var E=e("PilelineNextBuilder",function(){function e(){this._clearColor=new s.Color,this._viewport=new s.Viewport,this._windows=new Map,this._windowInfo={id:0,width:1,height:1,name:"",depthStencilName:""},this._passStates=new Map,this._settings={isHDR:!0,useFloatOutput:!0}}var a=e.prototype;return a.setup=function(e,a){for(var i,n=t(e);!(i=n()).done;){var r=i.value;r.scene&&r.window&&(this._getSettings(r,a),this._getWindowInfo(r,a),d.root.pipelineEvent.emit(o.RENDER_CAMERA_BEGIN,r),v(r)?this._buildForwardPipeline(r,a):this._buildSimplePipeline(r,a),d.root.pipelineEvent.emit(o.RENDER_CAMERA_END,r))}},a._getSettings=function(e,t){var a=this._getPassState("Settings");if(0===a.flags){a.flags|=1;var i=this._settings;i.isHDR=t.pipelineSceneData.isHDR,i.useFloatOutput=t.getMacroBool("CC_USE_FLOAT_OUTPUT")}},a._getWindowInfo=function(e,t){var a=e.window,i=this._windowInfo,n=i.id=S(a),r=i.width=Math.max(Math.floor(a.width),1),d=i.height=Math.max(Math.floor(a.height),1),o=i.name="Color"+n,l=i.depthStencilName="DepthStencil"+n,h=this._windows.get(n);void 0===h&&this._windows.set(n,{width:r,height:d}),h&&h.width===r&&h.height===d||(t.addRenderWindow(o,s.Format.RGBA8,r,d,a),t.addDepthStencil(l,s.Format.DEPTH_STENCIL,r,d))},a._getPassState=function(e){var t=this._passStates.get(e);return void 0===t&&(t={flags:0},this._passStates.set(e,t)),t},a._getViewport=function(e,t,a){return this._viewport.left=Math.round(e.x*t),this._viewport.top=Math.round(e.y*a),this._viewport.width=Math.max(Math.round(e.width*t),1),this._viewport.height=Math.max(Math.round(e.height*a),1),this._viewport},a._getClearColor=function(e){return this._clearColor.set(e.x,e.y,e.z,e.w)},a._buildForwardPipeline=function(e,t){var a=this._windowInfo,i=a.id,n=a.width,r=a.height,d=this._getPassState("ForwardPass");if(0===d.flags){d.flags|=1;var o=d.source={name:"ForwardColor0"+i,width:n,height:r},l=d.destination={name:"ForwardColor1"+i,width:n,height:r},h=d.depthStencil={name:"ForwardDS"+i,width:n,height:r};t.addRenderTarget(o.name,s.Format.RGBA16F,o.width,o.height),t.addRenderTarget(l.name,s.Format.RGBA16F,l.width,l.height),t.addDepthStencil(h.name,s.Format.DEPTH_STENCIL,h.width,h.height)}var u=d.source,g=d.destination,p=u;this._addRenderPass(e,t,u,d.depthStencil);var c=e.next;c.fxaa.enable&&c.fxaa.material&&(this._addFxaaPass(e,t,u,g),p=u,u=g,g=p),c.bloom.enable&&c.bloom.material&&(this._addBloomPass(e,t,u,g),p=u,u=g,g=p),this._addToneMapPass(e,t,u,this._windowInfo)},a._addToneMapPass=function(e,t,a,i){var n=this._getPassState("ToneMapPass");0===n.flags&&(n.flags|=1,n.tonemapParams=new l(0,0,0,0));var r=e.next.base,d=e.next.tonemap;if(d.enable){var o=P(t,a,i,d.type===u.STANDARD?"tonemap":"tonemap-rgb");o.setVec4("cc_debug_view_mode",n.tonemapParams.set(d.intensity,d.damage,0,0)),o.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(r.material,d.type===u.STANDARD?1:2),o.addQueue(h.QueueHint.BLEND).addScene(e,h.SceneFlags.UI),"Main Camera"===e.name&&(o.showStatistics=p)}else{var s=P(t,a,i,"blit");s.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(r.material,0),s.addQueue(h.QueueHint.BLEND).addScene(e,h.SceneFlags.UI),"Main Camera"===e.name&&(s.showStatistics=p)}},a._addFxaaPass=function(e,t,a,i){var n=this._getPassState("FXAAPass");if(0===n.flags){n.flags|=1;var r=this._windowInfo,d=r.width,o=r.height;n.texelSize=new l(1/d,1/o,0,0)}var s=e.next.fxaa,u=P(t,a,i,"fxaa");u.setVec4("cc_debug_view_mode",n.texelSize),u.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(s.material,0)},a._addBloomPass=function(e,t,a,i){var n=this._getPassState("BloomPass");if(0===n.flags){n.flags|=1,n.bloomParams=new l;var r=this._windowInfo,d=r.id,o=r.width,u=r.height,g=this._settings.useFloatOutput?s.Format.RGBA16F:s.Format.RGBA8,p=.5,c=n.prefilterColor={name:"prefilterColor"+d,width:Math.floor(o*p),height:Math.floor(u*p)};t.addRenderTarget(c.name,g,c.width,c.height);for(var m=n.downsampleColors=[],w=0;w<8;w++){p*=.5;var _=m[w]={name:"downsampleColor"+d+w,width:Math.floor(o*p),height:Math.floor(u*p)};t.addRenderTarget(_.name,g,_.width,_.height)}for(var S=n.upsampleColors=[],f=0;f<7;f++){p*=2;var v=S[f]={name:"upsampleColor"+d+f,width:Math.floor(o*p),height:Math.floor(u*p)};t.addRenderTarget(v.name,g,v.width,v.height)}}var E=e.next.bloom,C=P(t,a,n.prefilterColor,"bloom-prefilter");C.setVec4("cc_debug_view_mode",n.bloomParams.set(0,0,E.threshold,0)),C.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(E.material,0);for(var R=n.downsampleColors,F=0;F<R.length;F++){var O=0===F?n.prefilterColor:R[F-1],D=P(t,O,R[F],"bloom-downsample");D.setVec4("cc_debug_view_mode",n.bloomParams.set(1/O.width,1/O.height,0,0)),D.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(E.material,1)}for(var T=R.length-1,Q=n.upsampleColors,A=0;A<Q.length;A++){var x=0===A?R[T]:Q[A-1],b=P(t,x,Q[A],"bloom-upsample");b.addTexture(R[T-1-A].name,"downsampleTexture"),b.setVec4("cc_debug_view_mode",n.bloomParams.set(1/x.width,1/x.height,0,0)),b.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(E.material,2)}var L=P(t,a,i,"bloom-combine");L.addTexture(Q[Q.length-1].name,"bloomTexture"),L.setVec4("cc_debug_view_mode",n.bloomParams.set(0,0,E.threshold,E.intensity)),L.addQueue(h.QueueHint.OPAQUE).addFullscreenQuad(E.material,3)},a._addRenderPass=function(e,t,a,i){var n=this._windowInfo.id,r=this._getPassState("RenderPass");if(0===r.flags){r.flags|=1;var d=t.pipelineSceneData.shadows;r.shadowMap={name:"shadowMap"+n,width:d.size.x,height:d.size.y},r.intensiy=new l}var o=t.addRenderPass(a.width,a.height,"default");f(e)?o.addRenderTarget(a.name,s.LoadOp.CLEAR,s.StoreOp.STORE,this._getClearColor(e.clearColor)):o.addRenderTarget(a.name,s.LoadOp.LOAD,s.StoreOp.STORE),e.clearFlag&s.ClearFlagBit.DEPTH_STENCIL?o.addDepthStencil(i.name,s.LoadOp.CLEAR,s.StoreOp.DISCARD,e.clearDepth,e.clearStencil,e.clearFlag&s.ClearFlagBit.DEPTH_STENCIL):o.addDepthStencil(i.name,s.LoadOp.LOAD,s.StoreOp.DISCARD);var u=e.next.base;o.setViewport(this._getViewport(e.viewport,a.width,a.height)),o.setVec4("cc_debug_view_mode",r.intensiy.set(u.intensity,0,0,0)),o.addQueue(h.QueueHint.OPAQUE).addScene(e,h.SceneFlags.OPAQUE),o.addQueue(h.QueueHint.BLEND).addScene(e,h.SceneFlags.BLEND)},a._buildSimplePipeline=function(e,t){var a=this._windowInfo,i=a.width,n=a.height,r=a.name,d=a.depthStencilName,o=t.addRenderPass(i,n,"default");f(e)?o.addRenderTarget(r,s.LoadOp.CLEAR,s.StoreOp.STORE,this._getClearColor(e.clearColor)):o.addRenderTarget(r,s.LoadOp.LOAD,s.StoreOp.STORE),e.clearFlag&s.ClearFlagBit.DEPTH_STENCIL?o.addDepthStencil(d,s.LoadOp.CLEAR,s.StoreOp.DISCARD,e.clearDepth,e.clearStencil,e.clearFlag&s.ClearFlagBit.DEPTH_STENCIL):o.addDepthStencil(d,s.LoadOp.LOAD,s.StoreOp.DISCARD),o.setViewport(this._getViewport(e.viewport,i,n)),o.addQueue(h.QueueHint.OPAQUE).addScene(e,h.SceneFlags.OPAQUE);var l=h.SceneFlags.BLEND|h.SceneFlags.UI;o.addQueue(h.QueueHint.BLEND).addScene(e,l)},e}());h.setCustomPipeline("next",new E),a._RF.pop()}}}));

System.register("chunks:///_virtual/PipelineNextSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,r,a,o,l,u,s,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Material,u=e.Enum,s=e.Camera,p=e.Component}],execute:function(){var c,b,f,m,h,y,g,w,z,d,x,v,D,A,R,S,N,P,T,B,C,I,M,F,L,_,E,G,J,j,k,q,H,K,X,O,Q,U,V,W,Y,Z,$,ee,ie,te,ne;a._RF.push({},"f19b17FM2lJiJ7dRP6LKLsd","PipelineNextSettings",void 0);var re=o.ccclass,ae=o.property,oe=o.executeInEditMode,le=o.disallowMultiple,ue=o.requireComponent,se=(c=re("Base"),b=ae(l),f=ae({slide:!0,min:0,max:10,step:.1}),c((y=i((h=function(){t(this,"material",y,this),t(this,"intensity",g,this)}).prototype,"material",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(h.prototype,"intensity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=h))||m),pe=(w=re("FXAA"),z=ae(l),w((v=i((x=function(){t(this,"enable",v,this),t(this,"material",D,this)}).prototype,"enable",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),D=i(x.prototype,"material",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=x))||d),ce=(A=re("Bloom"),R=ae(l),S=ae({slide:!0,min:0,max:10,step:.1}),N=ae({min:0}),A((B=i((T=function(){t(this,"enable",B,this),t(this,"material",C,this),t(this,"intensity",I,this),t(this,"threshold",M,this)}).prototype,"enable",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=i(T.prototype,"material",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(T.prototype,"intensity",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=i(T.prototype,"threshold",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),P=T))||P),be=e("TonemapType",function(e){return e[e.STANDARD=0]="STANDARD",e[e.RGB=1]="RGB",e}({})),fe=(F=re("Tonemap"),L=ae({type:u(be)}),_=ae({min:0,max:1,step:.01}),E=ae({min:0,max:1,step:.01}),F((j=i((J=function(){t(this,"enable",j,this),t(this,"type",k,this),t(this,"intensity",q,this),t(this,"damage",H,this)}).prototype,"enable",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),k=i(J.prototype,"type",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be.STANDARD}}),q=i(J.prototype,"intensity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=i(J.prototype,"damage",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=J))||G);e("PipelineNextSettings",(K=re("PipelineNextSettings"),X=ue(s),O=ae(se),Q=ae(fe),U=ae(pe),V=ae(ce),K(W=oe(W=le(W=X(((ne=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"preview",Z,r(i)),t(i,"base",$,r(i)),t(i,"tonemap",ee,r(i)),t(i,"fxaa",ie,r(i)),t(i,"bloom",te,r(i)),i}n(i,e);var a=i.prototype;return a.onEnable=function(){this.getComponent(s).camera.next=i.Instance=this},a.onDisable=function(){this.getComponent(s).camera.next=i.Instance=void 0},i}(p)).Instance=void 0,Z=i((Y=ne).prototype,"preview",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$=i(Y.prototype,"base",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new se}}),ee=i(Y.prototype,"tonemap",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new fe}}),ie=i(Y.prototype,"fxaa",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new pe}}),te=i(Y.prototype,"bloom",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new ce}}),W=Y))||W)||W)||W)||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/Plat4399.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;e._RF.push({},"8a2d1VFLBJEton4uqXeyY/0","Plat4399",void 0);var u=o.ccclass;o.property;CC_BUILD;t("Plat4399",u("Plat4399")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/PortalManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateHandler.ts","./StateManager.ts","./PipelineNextSettings.ts"],(function(t){var e,r,a,n,i,o,l,s,u,p,c,d,h,m,y,g,w,f,x,P,S,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Vec3,s=t.Mat4,u=t.Quat,p=t.Vec4,c=t.Camera,d=t.Node,h=t.RenderTexture,m=t.view,y=t.MeshRenderer,g=t.Component,w=t.lerp,f=t.clamp01},function(t){x=t.StateHandler},function(t){P=t.StateManager},function(t){S=t.PipelineNextSettings,M=t.TonemapType}],execute:function(){var T,b,v,_,R,C,z,k,I,W,A,D,H,F,O,N,U,V,B,L,j,E,Q,G,K;i._RF.push({},"53907QrpHpDBr27KpOSunkz","PortalManager",void 0);var q=o.ccclass,J=o.property,X=new l,Y=new s,Z=new s,$=new s,tt=new l,et=new u,rt=new l,at=new p,nt=new p;function it(t,e,r,a){var n=X.set(e).subtract(t),i=n.length(),o=r*a;return i>o?(o>0&&t.add(n.multiplyScalar(o/i)),0):(t.set(e),1)}t("PortalManager",(T=q("PortalManager"),b=J(c),v=J(c),_=J(d),R=J(d),C=J(d),z=J(c),k=J(d),I=J(d),W=J(d),A=J(d),D=J(d),T((O=e((F=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"uiCamera",O,n(e)),a(e,"outterCamera",N,n(e)),a(e,"outterPortal",U,n(e)),a(e,"outerShip",V,n(e)),a(e,"outerSpawn",B,n(e)),a(e,"playerCamera",L,n(e)),a(e,"playerCameraTrack",j,n(e)),a(e,"playerPortal",E,n(e)),a(e,"playerShip",Q,n(e)),a(e,"playerSlot",G,n(e)),a(e,"playerShipTrack",K,n(e)),e.screenMaterial=null,e.renderTexture=new h,e.mainTexture_ST=new p,e.mananger=new P,e}r(e,t);var i=e.prototype;return i.onLoad=function(){var t=m.getVisibleSizeInPixel(),e=t.width,r=t.height;this.renderTexture.reset({width:e,height:r}),this.screenMaterial=this.playerPortal.getComponent(y).material,this.screenMaterial.setProperty("mainTexture",this.renderTexture),this.uiCamera.targetTexture=this.renderTexture,this.outterCamera.targetTexture=this.renderTexture,this.mananger.setStateHandler(new ot({target:this})),this.mananger.setStateHandler(new lt({target:this})),this.mananger.setStateHandler(new st({target:this})),this.mananger.setStateHandler(new ut({target:this})),this.scheduleOnce(this._initScreen,.1)},i.onDestroy=function(){this.mananger.clear()},i.update=function(t){this.mananger.update(t)},i._initScreen=function(){var t=this.outterCamera,e=this.outterPortal,r=this.screenMaterial,a=t.camera.matViewProj;tt.set(0,.1835285,-.259),tt.transformMat4(e.worldMatrix),at.set(tt.x,tt.y,tt.z,1).transformMat4(a),at.multiplyScalar(.5/at.w).add4f(.5,.5,.5,.5),tt.set(0,-.1835285,.259),tt.transformMat4(e.worldMatrix),nt.set(tt.x,tt.y,tt.z,1).transformMat4(a),nt.multiplyScalar(.5/nt.w).add4f(.5,.5,.5,.5),this.mainTexture_ST.set(at.x-nt.x,at.y-nt.y,nt.x,nt.y),r.setProperty("mainTexture_ST",this.mainTexture_ST)},e}(g)).prototype,"uiCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(F.prototype,"outterCamera",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(F.prototype,"outterPortal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"outerShip",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(F.prototype,"outerSpawn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(F.prototype,"playerCamera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"playerCameraTrack",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(F.prototype,"playerPortal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"playerShip",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(F.prototype,"playerSlot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"playerShipTrack",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=F))||H));var ot=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).name="gameStart",e._shipTrackIndex=0,e._cameraTrackIndex=0,e._targetPosition=new l,e._targetRotation=new u,e._cameraSpeed=0,e}r(e,t);var a=e.prototype;return a.onEnter=function(){var t=this.target,e=t.outterPortal,r=t.outterCamera,a=t.playerPortal;$.set(e.worldMatrix).invert(),Y.set($).multiply(r.node.worldMatrix),Z.set(a.worldMatrix).multiply(Y),Z.getTranslation(this._targetPosition),Z.getRotation(this._targetRotation)},a.onUpdate=function(t){var e=this.target,r=e.outerSpawn,a=e.outerShip,n=(e.outterPortal,e.outterCamera,e.playerPortal),i=e.playerShip,o=e.playerCamera,l=e.playerCameraTrack,s=e.playerShipTrack,u=(e.screenMaterial,s.children);if(this._shipTrackIndex<u.length){var p=u[this._shipTrackIndex];it(i.position,p.position,1,t)&&this._shipTrackIndex++,i.position=i.position,i.rotation=i.rotation.lerp(p.rotation,2*t)}var c=l.children;if(this._cameraTrackIndex<c.length){this._cameraSpeed=w(this._cameraSpeed,1,5*t);var d=c[this._cameraTrackIndex];it(o.node.position,d.worldPosition,1,t)&&this._cameraTrackIndex++,o.node.position=o.node.position,o.node.rotation=o.node.rotation.lerp(d.worldRotation,2*t)}$.set(n.worldMatrix).invert(),Y.set($).multiply(i.worldMatrix),Z.set(r.worldMatrix).multiply(Y),a.worldPosition=Z.getTranslation(tt),a.worldRotation=Z.getRotation(et)},e}(x),lt=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).name="moveToScreen",e._portalWeight=0,e._targetPosition=new l,e._targetRotaiton=new u,e._targetPortalWeight=0,e}r(e,t);var a=e.prototype;return a.onEnter=function(){var t=this.target,e=t.screenMaterial,r=t.outterPortal,a=t.outterCamera,n=t.outerShip,i=t.playerPortal,o=t.playerShip;$.set(r.worldMatrix).invert(),Y.set($).multiply(a.node.worldMatrix),Z.set(i.worldMatrix).multiply(Y),this._targetPosition.set(Z.getTranslation(tt)),this._targetRotaiton.set(Z.getRotation(et)),rt.set(r.worldPosition).add3f(0,0,.2).subtract(a.node.worldPosition),e.setProperty("specularIntensity",f(rt.dot(l.FORWARD))),Y.set($).multiply(n.worldMatrix),Z.set(o.worldMatrix).multiply(Y)},a.onUpdate=function(t){var e=this.target,r=e.screenMaterial,a=e.playerCamera,n=e.outterCamera;this._portalWeight=w(this._portalWeight,this._targetPortalWeight,10*t),r.setProperty("portalWeight",this._portalWeight),a.fov=w(a.fov,n.fov,10*t),a.node.position=a.node.position.lerp(this._targetPosition,10*t),a.node.rotation=a.node.rotation.slerp(this._targetRotaiton,10*t)},e}(x),st=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).name="outsideScreen",e}return r(e,t),e.prototype.onUpdate=function(t){var e=this.target,r=e.playerPortal,a=e.playerCamera,n=e.playerShip,i=e.outterCamera,o=e.outterPortal,s=e.outerShip,u=e.screenMaterial;$.set(r.worldMatrix).invert(),Y.set($).multiply(a.node.worldMatrix),Z.set(o.worldMatrix).multiply(Y),i.node.setWorldPosition(Z.getTranslation(tt)),i.node.setWorldRotation(Z.getRotation(et)),Y.set($).multiply(n.worldMatrix),Z.set(o.worldMatrix).multiply(Y),s.setWorldPosition(Z.getTranslation(tt)),s.setWorldRotation(Z.getRotation(et)),rt.set(o.worldPosition).add3f(0,0,.2).subtract(i.node.worldPosition);var p=rt.dot(l.FORWARD);p<0?(i.enabled=!1,S.Instance.tonemap.type=M.RGB,a.node.worldPosition=i.node.worldPosition,a.node.worldRotation=i.node.worldRotation,this.target.mananger.state="insideScreen"):u.setProperty("specularIntensity",f(p))},e}(x),ut=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).name="insideScreen",e}return r(e,t),e.prototype.onUpdate=function(t){var e=this.target,r=e.outterPortal,a=e.outterCamera,n=e.playerCamera,i=e.playerPortal;rt.set(r.worldPosition).add3f(0,0,.2).subtract(n.node.worldPosition),rt.dot(l.FORWARD)>0&&(a.enabled=!0,S.Instance.tonemap.type=M.STANDARD,$.set(r.worldMatrix).invert(),Y.set($).multiply(n.node.worldMatrix),Z.set(i.worldMatrix).multiply(Y),n.node.worldPosition=Z.getTranslation(tt),n.node.worldRotation=Z.getRotation(et),this.target.mananger.state="outsideScreen")},e}(x);i._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Properties.ts","./Settings.ts","./MeshUtils.ts"],(function(e){var t,r,n,i,a,o,s,l,u,c,h,p,g,f,d,m,_,M,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Camera,l=e.Node,u=e.Label,c=e.Mesh,h=e.game,p=e.MeshRenderer,g=e.assetManager,f=e.tween,d=e.director,m=e.Component},function(e){_=e.properties},function(e){M=e.settings},function(e){b=e.initParticleMesh}],execute:function(){var y,P,v,x,S,w,z,R,C,T,L,D,E;a._RF.push({},"6af0dJe2k1E6LsxWOMfsIyh","PreloadManager",void 0);var I=o.ccclass,k=o.property;e("PreloadManager",(y=I("PreloadManager"),P=k(s),v=k(l),x=k(u),S=k(c),w=k(u),y((C=t((R=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"uiCamera",C,i(t)),n(t,"screen",T,i(t)),n(t,"text",L,i(t)),n(t,"shipMesh",D,i(t)),n(t,"version",E,i(t)),t._progress=0,t._gameProgress=0,t._homeProgress=0,t._loaded=0,t._completed=!1,t._screenMaterial=null,t}r(t,e);var a=t.prototype;return a.start=function(){var e=this;h.frameRate=60.1,this.version.string=M.VERSION,_.shipParticleMesh=b(this.shipMesh),this._screenMaterial=this.screen.getComponent(p).material,this._screenMaterial.setProperty("mainTexture",this.uiCamera.targetTexture),g.loadBundle("main",{},(function(t,r){r.loadScene("home",{},(function(t,r){return e._homeProgress=t/r}),(function(){return e._loaded++})),r.loadScene("game",{},(function(t,r){return e._gameProgress=t/r}),(function(){return e._loaded++}))}))},a.update=function(e){var t=this;this._completed||(this._progress=Math.max(this._progress,(this._homeProgress+this._gameProgress)/2),this.text.string=Math.floor(95*this._progress)+"%",this._loaded>=2&&(this._completed=!0,this.text.string="100%",f(this).delay(.2).call((function(){return t.text.string="PRESS START"})).delay(.2).call((function(){d.loadScene("home")})).start()))},t}(m)).prototype,"uiCamera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"screen",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"text",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"shipMesh",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(R.prototype,"version",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=R))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Properties.ts",["cc","./Hand.ts","./Ship.ts","./User.ts"],(function(e){var t,n,s,i;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Hand},function(e){s=e.Ship},function(e){i=e.User}],execute:function(){t._RF.push({},"9e5e9IF5ndL9oL8C9ZRamGX","Properties",void 0);e("properties",new function(){this.ship=new s,this.hand=new n,this.user=new i,this.shipParticleMesh=null});t._RF.pop()}}}));

System.register("chunks:///_virtual/PropsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Math.ts","./Properties.ts","./Enum.ts"],(function(t){var e,o,i,r,n,a,s,l,p,c,u,f,_,v,h,d,y,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,p=t.Vec2,c=t.Vec3,u=t.instantiate,f=t.director,_=t.Component},function(t){v=t.randomFloats,h=t.evalute,d=t.randomFloat},function(t){y=t.properties},function(t){m=t.EventType}],execute:function(){var b,N,g,x,P,F;a._RF.push({},"b3b13wxTkxD9JVZer6LmN0f","PropsManager",void 0);var I=s.ccclass,M=s.property,w=Math.cos;t("PropsManager",(b=I("PropsManager"),N=M(l),b(((F=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"battery",P,r(e)),e._batterys=new l,e._group=[],e._groupInterval=37,e._cellInterval=2,e._cellNumber=8,e._rotation=new c,e._offset=function(){for(var t,o=n(e._group);!(t=o()).done;)for(var i,r=t.value,a=n(r);!(i=a()).done;){var s=i.value;s.mainNode.setPosition(s.mainNode.position.x-100,s.mainNode.position.y,s.mainNode.position.z)}},e}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=e.__position,o=this.battery.parent;this._batterys.parent=o;for(var i=0;i<2;i++){for(var r=v([[-4,-3.5],[-1.5,-1],[1,1.5]]),n=d(4,8),a=[],s=this._cellNumber-1;s>=0;s--){var l=u(this.battery),p=h(30+i*this._groupInterval+this._cellInterval*s,t);l.parent=this._batterys,l.setPosition(p.x,r,p.y+(w(p.x/n)-.5)/2),a.push({mainNode:l,inNode:l.getChildByPath("box/in"),boxNode:l.getChildByPath("box")})}a.reverse(),this._group.push(a)}f.on(m.OFFSET,this._offset)},a.onDestroy=function(){f.off(m.OFFSET,this._offset)},a.update=function(t){t=Math.min(.033,t);var o=e.__position,i=e.__vec3,r=y.ship;this._rotation.y+=200*t;for(var a,s=n(this._group);!(a=s()).done;){var l=a.value;if(l[this._cellNumber-1].mainNode.position.x<r.position.x-1)for(var p=v([[-4,-3.5],[-1.5,-1],[1,1.5]]),u=l[0].mainNode.position.x+r.offset,_=d(4,8),b=0;b<this._cellNumber;b++){var N=h(u+2*this._groupInterval+b*this._cellInterval,o),g=l[b].mainNode;g.active=!0,g.setPosition(N.x-r.offset,p,N.y+(w(N.x/_)/2-.5))}for(var x=0;x<this._cellNumber;x++){var P=l[x].mainNode,F=l[x].inNode,I=l[x].boxNode;F.setRotationFromEuler(this._rotation),I.setPosition(i.set(0,.02*w(.02*this._rotation.y+x),0)),P.active&&c.distance(P.position,r.position)<.5&&(P.active=!1,f.emit(m.GET,r.position))}}},e}(_)).__position=new p,F.__vec3=new c,P=e((x=F).prototype,"battery",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/ReflectionProbeExtension.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,n,c,i,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy,c=e._decorator,i=e.ReflectionProbe,p=e.TextureCube,s=e.Component}],execute:function(){var u,a,l,b,f;n._RF.push({},"46fa5tAhaRJlLHScyreZ6Jx","ReflectionProbeExtension",void 0);var h=c.ccclass,y=c.property,m=c.requireComponent;e("ReflectionProbeExtension",(u=h("ReflectionProbeExtension"),a=m(i),l=y(p),u(b=a((t((f=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this)._probe=null,t}return o(t,e),r(t,[{key:"probe",get:function(){return null===this._probe&&(this._probe=this.node.getComponent(i)),this._probe}},{key:"cubemap",get:function(){return this.probe.cubemap},set:function(e){this.probe.cubemap=e}}]),t}(s)).prototype,"cubemap",[l],Object.getOwnPropertyDescriptor(f.prototype,"cubemap"),f.prototype),b=f))||b)||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Resources.ts",["cc"],(function(e){var n,o,r,c;return{setters:[function(e){n=e.cclegacy,o=e.resources,r=e.error,c=e.director}],execute:function(){n._RF.push({},"8dcd76GREdIA4mOs8oTXzzy","Resources",void 0);e("Resources",function(){function e(){}return e.Load=function(e,n,c,u){return new Promise((function(s,t){o.load(e,n,(function(e,n){e?(r("Resources.Load error: "+e),!c||c.isValid?s(null):u&&u()):!c||c.isValid?s(n):u&&u()}))}))},e.LoadScene=function(e,n){return new Promise((function(o,u){c.preloadScene(e,n,(function(n,u){n?(r("Resources.Load error: "+n),o(null)):c.loadScene(e,(function(e,n){o(n)}))}))}))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Math.ts","./Properties.ts","./Car.ts","./Enum.ts"],(function(i){var o,t,e,n,r,s,a,l,d,u,p,f,h,g,b,c,x,_,y,v,m,B,C,w,P;return{setters:[function(i){o=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createForOfIteratorHelperLoose},function(i){s=i.cclegacy,a=i._decorator,l=i.Node,d=i.Vec3,u=i.Vec2,p=i.geometry,f=i.instantiate,h=i.director,g=i.MeshRenderer,b=i.clamp,c=i.Component},function(i){x=i.evalute,_=i.randomFloat,y=i.randomInt,v=i.randomFloats,m=i.randomBoolean},function(i){B=i.properties},function(i){C=i.Car},function(i){w=i.EventType,P=i.HitType}],execute:function(){var R,F,M,z,I,E,N,A,D,S,T,H,L,k,O,j;s._RF.push({},"12ba9g+myZB/5u/9o4+jogs","SceneManager",void 0);var G=a.ccclass,V=a.property;i("SceneManager",(R=G("SceneManager"),F=V(l),M=V(l),z=V(l),I=V(l),E=V(l),N=V(l),R(((j=function(i){function o(){for(var o,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return o=i.call.apply(i,[this].concat(s))||this,e(o,"building",S,n(o)),e(o,"buildingBox",T,n(o)),e(o,"bridge",H,n(o)),e(o,"bridgeBox",L,n(o)),e(o,"bottom",k,n(o)),e(o,"enemyCars",O,n(o)),o._cars=new l,o._buildings=new l,o._bottoms=new l,o._bridges=new l,o._index=0,o._preBuildingBoxNodeIndex=[-1,-1],o._preBridgeBoxIndex=-1,o._ray=new p.Ray,o._buildingBoxModel=null,o._bridgeBoxModel=null,o._buildingCount=10,o._bottomCount=5,o._bridgeCount=5,o._offset=function(){for(var i,t=r(o._buildings.children);!(i=t()).done;){var e=i.value;e.setPosition(e.position.x-100,e.position.y,e.position.z)}o.buildingBox.setPosition(o.buildingBox.position.x-100,o.buildingBox.position.y,o.buildingBox.position.z);for(var n,s=r(o._bridges.children);!(n=s()).done;){var a=n.value;a.setPosition(a.position.x-100,a.position.y,a.position.z)}o.bridgeBox.setPosition(o.bridgeBox.position.x-100,o.bridgeBox.position.y,o.bridgeBox.position.z);for(var l,d=r(o._bottoms.children);!(l=d()).done;){var u=l.value;u.setPosition(u.position.x-100,u.position.y,u.position.z)}for(var p,f=r(o._cars.children);!(p=f()).done;){var h=p.value;h.setPosition(h.position.x-100,h.position.y,h.position.z)}},o}t(o,i);var s=o.prototype;return s.onLoad=function(){var i=o.__position,t=this.building,e=t.parent;this._cars.parent=e,this._buildings.parent=e,this._bottoms.parent=e,this._bridges.parent=e;for(var n=0;n<this._buildingCount;n++){var r=x(5*n,i),s=y(0,3),a=1===s?0:3===s?2:y(0,3),l=f(t);l.parent=this._buildings,l.setPosition(r.x,_(-5,0),r.y-4),l.setRotationFromEuler(0,90*s,0),this.setArrowRotation(l,!1);var d=f(t);d.parent=this._buildings,d.setPosition(r.x,_(-5,0),r.y+4),d.setRotationFromEuler(0,90*a,0),this.setArrowRotation(d,!0)}for(var u=0;u<this._bottomCount;u++){var p=x(10*u,i),g=y(0,1),b=f(this.bottom);b.parent=this._bottoms,b.setPosition(p.x,-4+_(-3,0),p.y);var c=_(.6,1.2);b.setScale(c,c,c),b.setRotationFromEuler(0,180*g,0)}for(var v=0;v<this._bridgeCount;v++){var m=x(10*(v+2),i),B=f(this.bridge);B.parent=this._bridges,B.setPosition(m.x,2.5*y(-1,1),m.y)}for(var P=0;P<20;P++){var R=P>=15?1:0,F=this.enemyCars[R],M=x(_(0,100),i),z=new C;this.refreshData(z),z.range=0===R?.2:.5;var I=f(F);I.data=z,I.parent=this._cars,I.position.set(M.x,z.offset.x,z.offset.y+M.y)}t.active=!1,this.enemyCars.forEach((function(i){return i.active=!1})),h.on(w.OFFSET,this._offset)},s.onDestroy=function(){h.off(w.OFFSET,this._offset)},s.start=function(){this._buildingBoxModel=this.buildingBox.children[0].getComponent(g).model,this._bridgeBoxModel=this.bridgeBox.children[0].getComponent(g).model},s.refreshData=function(i){i.offset.set(v([[-4,-3.5],[-1.5,-1],[1,1.5]]),_(-1,1)),i.speed=_(1,5),i.reverse=m()},s.setArrowRotation=function(i,o){o?(i.getChildByName("arrow").setRotationFromEuler(0,0,180),i.getChildByName("arrow-001").setRotationFromEuler(-145.818,92.176,1.069)):(i.getChildByName("arrow").setRotationFromEuler(0,0,0),i.getChildByName("arrow-001").setRotationFromEuler(-34.175,-87.098,0))},s.update=function(i){i=Math.min(.033,i);var t=o.__position,e=o.__vec3,n=B.ship,s=n.far>0?Math.floor(n.far/5):0;if(s!==this._index){for(var a=this._buildings.children,l=s-this._index,u=this._index;u<this._index+l;u++){var f=x(5*(u+this._buildingCount),t),g=y(0,3),c=1===g?0:3===g?2:y(0,3),v=u%this._buildingCount,m=a[2*v];m.setPosition(f.x-n.offset,_(-5,0),f.y-4),m.setRotationFromEuler(0,90*g,0),this.setArrowRotation(m,!1);var C=a[2*v+1];C.setPosition(f.x-n.offset,_(-5,0),f.y+4),C.setRotationFromEuler(0,90*c,0),this.setArrowRotation(C,!0)}this._index=s}var R=n.far%5>2?s+1:s,F=x(n.far,t),M=[R,n.position.z>F.y?0:1];if(M[0]!==this._preBuildingBoxNodeIndex[0]||M[1]!==this._preBuildingBoxNodeIndex[1]){var z=this._buildings.children[1===M[1]?R%this._buildingCount*2:R%this._buildingCount*2+1];this.buildingBox.setPosition(z.position),this.buildingBox.setRotation(z.rotation),this._preBuildingBoxNodeIndex=M}else{p.Ray.fromPoints(this._ray,n.position,e.set(this.buildingBox.position.x,b(n.position.y,this.buildingBox.position.y-4,this.buildingBox.position.y+6),this.buildingBox.position.z)),p.intersect.rayModel(this._ray,this._buildingBoxModel)||h.emit(w.HIT,P.BUILDING)}for(var I,E=r(this._bottoms.children);!(I=E()).done;){var N=I.value;if(N.position.x<n.position.x-5){var A=x(N.position.x+10*this._bottomCount+n.offset,t);N.setPosition(A.x-n.offset,-4+_(-3,0),A.y)}}for(var D,S=r(this._bridges.children);!(D=S()).done;){var T=D.value;if(T.position.x<n.position.x-5){var H=x(T.position.x+10*this._bridgeCount+n.offset,t);T.setPosition(H.x-n.offset,2.5*y(-1,1),H.y)}}if((s=Math.floor((n.far-20)/10)%this._bridgeCount)>=0)if(s!==this._preBridgeBoxIndex){var L=this._bridges.children[s];this.bridgeBox.setPosition(L.position),this._preBridgeBoxIndex=s}else{p.Ray.fromPoints(this._ray,n.position,e.set(this.bridgeBox.children[0].getWorldPosition())),p.intersect.rayModel(this._ray,this._bridgeBoxModel)||h.emit(w.HIT,P.BRIDGE)}for(var k=0,O=this._cars.children;k<O.length;k++){var j=O[k],G=j.data,V=G.reverse?j.position.x-G.speed*i:j.position.x+G.speed*i,U=x(V+n.offset,t);if(V<n.position.x-5||V>n.position.x+100){var W=_(n.position.x+50,n.position.x+100),Z=x(W+n.offset,t);this.refreshData(G),e.set(W,G.offset.x,G.offset.y+Z.y),j.lookAt(e),j.setPosition(e)}else e.set(V,G.offset.x,G.offset.y+U.y),j.lookAt(e),j.setPosition(e);d.distance(j.position,B.ship.position)<G.range&&h.emit(w.HIT,P.CAR,new d(B.ship.position).subtract(j.position))}},o}(c)).__euler=new d,j.__position=new u,j.__vec3=new d,S=o((D=j).prototype,"building",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(D.prototype,"buildingBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=o(D.prototype,"bridge",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(D.prototype,"bridgeBox",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(D.prototype,"bottom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(D.prototype,"enemyCars",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=D))||A));s._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"6f4e3x5crRPHoSSiUy/QR9V","Settings",void 0);e("settings",new(function(){function e(){this.resVersion="1.0.3",this.codeVersion="1.0.5"}return t(e,[{key:"VERSION",get:function(){return"res "+this.resVersion+" code "+this.codeVersion}}]),e}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/Ship.ts",["cc"],(function(t){var e,i,s;return{setters:[function(t){e=t.cclegacy,i=t.Vec3,s=t.Quat}],execute:function(){e._RF.push({},"3dee82LRGpHrZtd33SvfPKL","Ship",void 0);t("Ship",(function(){this.far=0,this.offset=0,this.speed=new i,this.speedRatio=new i,this.position=new i,this.rotation=new s}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ShipController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Properties.ts","./Enum.ts","./Math.ts","./PipelineNextSettings.ts","./TweenUitls.ts","./AudioSystem.ts","./MeshUtils.ts"],(function(t){var i,e,s,n,o,r,a,h,c,l,p,_,u,f,y,d,w,T,m,g,v,b,x,D,I,M,E,P,S,z;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,h=t.Material,c=t.ParticleSystem,l=t.Vec2,p=t.Vec3,_=t.input,u=t.Input,f=t.director,y=t.tween,d=t.sys,w=t.clamp,T=t.lerp,m=t.Quat,g=t.easing,v=t.Component,b=t.MeshRenderer},function(t){x=t.properties},function(t){D=t.EventType,I=t.HitType},function(t){M=t.evalute},function(t){E=t.PipelineNextSettings},function(t){P=t.killTweenOf},function(t){S=t.audioSystem},function(t){z=t.initParticleMesh}],execute:function(){var O,U,k,C,G,K,L,H,R,N,A,B,q,F;r._RF.push({},"c883a5gLRZKwIqJTUcMDvB8","ShipController",void 0);var Y=a.ccclass,V=a.property,W=function(){function t(t){this.material=void 0,this.sync=0,this.noise=1;var i=t.getComponentInChildren(b);i.mesh=x.shipParticleMesh||z(i.mesh),this.material=i.sharedMaterial,this.progress=0,this.sweepLight(0)}return t.prototype.sweepLight=function(t){this.material.setProperty("sweepThreshold",2*t%1),this.material.setProperty("sweepIntensity",t)},o(t,[{key:"progress",get:function(){return this.material.getProperty("progress",0)},set:function(t){this.material.setProperty("progress",t,0)}}]),t}();t("ShipController",(O=Y("ShipController"),U=V(h),k=V(h),C=V(h),G=V(c),K=V(c),O(((F=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._yaw=0,i._roll=0,i._pitch=0,i._targetSpeed=new p,i._protectOffset=new l,i._invincible=!1,i._invincibleTime=.5,i._speed=new p,i._direction=new l,i._intensity=1,i._shipTween=null,i._hitTween={},i._preloc=new l,s(i,"lenflareMaterial",R,n(i)),s(i,"shiptrailMaterial01",N,n(i)),s(i,"shiptrailMaterial02",A,n(i)),s(i,"trailParticle01",B,n(i)),s(i,"trailParticle02",q,n(i)),i._touchID=-1,i._touchDiff=new l,i._isEnd=!1,i}e(i,t);var o=i.prototype;return o.onEnable=function(){_.on(u.EventType.KEY_DOWN,this._onKeyDown,this),_.on(u.EventType.KEY_UP,this._onKeyUp,this),_.on(u.EventType.TOUCH_START,this._onTouchStart,this),_.on(u.EventType.TOUCH_END,this._onTouchEnd,this),_.on(u.EventType.TOUCH_MOVE,this._onTouchMove,this),f.on(D.HIT,this._onHit,this),f.on(D.GET,this._onGet,this)},o.onDisable=function(){_.off(u.EventType.KEY_DOWN,this._onKeyDown,this),_.off(u.EventType.KEY_UP,this._onKeyUp,this),f.off(D.HIT,this._onHit,this),f.off(D.GET,this._onGet,this),S.stop()},o.setTrailIntensity=function(t){this.lenflareMaterial.setProperty("intensity",t),this.shiptrailMaterial01.setProperty("intensity",t),this.shiptrailMaterial02.setProperty("intensity",t)},o.onLoad=function(){var t=this;this._shipTween=new W(this.node),y(this).to(2,{},{onUpdate:function(i,e){t.setTrailIntensity(e)}}).start()},o.onDestroy=function(){P(this),P(this._hitTween),P(this._shipTween)},o._onKeyDown=function(t){switch(t.keyCode){case 65:case 37:this._direction.x=-1;break;case 87:case 38:this._direction.y=1;break;case 40:case 83:this._direction.y=-1;break;case 68:case 39:this._direction.x=1}this._direction.x*x.ship.speed.z<0&&S.play("audios/roll"),this._intensity=this._direction.lengthSqr()>.01?1:0},o._onKeyUp=function(t){switch(t.keyCode){case 65:case 37:this._direction.x<0&&(this._direction.x=0);break;case 87:case 38:this._direction.y>0&&(this._direction.y=0);break;case 40:case 83:this._direction.y<0&&(this._direction.y=0);break;case 68:case 39:this._direction.x>0&&(this._direction.x=0)}this._intensity=this._direction.lengthSqr()>.01?1:0},o._onTouchStart=function(t){d.isMobile&&-1===this._touchID&&(this._touchID=t.touch.getID(),this._touchDiff.set(0,0),t.touch.getUILocation(this._preloc))},o._onTouchMove=function(t){if(d.isMobile&&this._touchID===t.touch.getID()){var e=i.__loc,s=i.__diff;t.touch.getUILocation(e),s.set(e).subtract(this._preloc),s.x*this._touchDiff.x<0&&(this._touchDiff.x*=.9),s.y*this._touchDiff.y<0&&(this._touchDiff.y*=.9),this._touchDiff.add(s),this._preloc.set(e);var n=this._touchDiff.length();this._intensity=Math.min(1,n/30),this._direction.set(this._touchDiff).normalize().multiplyScalar(this._intensity),this._direction.x*x.ship.speed.z<0&&S.play("audios/roll")}},o._onTouchEnd=function(t){d.isMobile&&this._touchID===t.touch.getID()&&(this._touchID=-1,this._direction.set(0,0),this._intensity=0)},o.update=function(t){var e=i.__offset,s=i.__vec2_0,n=i.__vec2_1,o=i.__position,r=this._speed,a=x.ship;t=Math.min(.033,t),r.x=w(r.x+t/35,0,20),r.x<4&&(r.x+=t),x.user.life=Math.max(0,x.user.life-r.x*t/2),0===x.user.life?this._endGame():x.user.score+=r.x*t*10;var h=a.speedRatio.x;r.y=10*this._direction.y*h,r.z=10*this._direction.x*h,this._targetSpeed.lerp(r,5*t),d.isMobile?(a.speed.x=T(a.speed.x,this._targetSpeed.x,5*t),a.speed.y=T(a.speed.y,r.y,3*t),a.speed.z=T(a.speed.z,r.z,3*t)):a.speed.lerp(this._targetSpeed,this._intensity?5*t:6*t),a.speedRatio.set(a.speed).multiplyScalar(.05),e.set(a.speed).multiplyScalar(t),a.far+=e.x,a.position.add(e),a.position.x>100&&(a.offset+=100,a.position.x-=100,f.emit(D.OFFSET),this.trailParticle01.stop(),this.trailParticle01.play(),this.trailParticle02.stop(),this.trailParticle02.play());var c=-50*this._direction.x*h,l=45*this._direction.x,p=50*this._direction.y*h;this._yaw=T(this._yaw,c,4*t),this._roll=T(this._roll,l,4*t),this._pitch=T(this._pitch,p,4*t),m.fromEuler(a.rotation,this._roll,this._yaw,this._pitch),s.set(this._protectOffset),this._protectOffset.lerp(n.set(0,0),10*t);var _=s.subtract(this._protectOffset);a.position.add3f(0,_.x,_.y);var u=M(a.far,o);a.position.z=w(a.position.z,u.y-3,u.y+3),a.position.y=w(a.position.y,-4,1.5),this.node.rotation=a.rotation,this.node.position=a.position,E.Instance.tonemap.damage=T(E.Instance.tonemap.damage,0,2*t)},o._onHit=function(t,e){var s=this,n=i.__position,o=i.__offset,r=x.ship;if(!this._invincible){var a=0;switch(t){case I.BUILDING:S.play("audios/hitdamage"),this._protectOffset.y=.8*(M(r.far,n).y-r.position.z),a=20;break;case I.CAR:S.play("audios/hitdamage"),e&&(o.set(0,e.y,e.z).normalize(),o.multiplyScalar(.5),this._protectOffset.set(o.y,o.z)),a=20;break;case I.LASER:S.play("audios/beamdamage"),a=10;break;case I.BRIDGE:S.play("audios/hitdamage"),this._protectOffset.x=1,a=20}E.Instance.tonemap.damage=1,this._invincible=!0,P(this._hitTween),y(this._hitTween).delay(this._invincibleTime).call((function(){s._invincible=!1})).start(),y(this._hitTween).call((function(){s.setTrailIntensity(0)})).to(1,{},{onUpdate:function(t,i){s.setTrailIntensity(i)}}).start(),x.user.life-a<0?(x.user.life=0,this._endGame()):x.user.life-=a}},o._onGet=function(){var t=this;S.play("audios/pickup"),x.user.life=w(x.user.life+4,0,100),P(this._shipTween),y(this._shipTween).to(1.6,{},{onUpdate:function(i,e){t._shipTween.sweepLight(1-e)}}).start()},o._endGame=function(){this._isEnd||(this._isEnd=!0,this.enabled=!1,P(this._hitTween),this.setTrailIntensity(0),P(this._shipTween),y(this._shipTween).set({progress:0}).to(3,{progress:2},{easing:g.quadInOut}).start(),this.scheduleOnce((function(){S.stopBGM(!0)}),2),f.emit(D.GAMEEND))},i}(v)).__loc=new l,F.__diff=new l,F.__dir2=new l,F.__offset=new p,F.__position=new l,F.__vec2_0=new l,F.__vec2_1=new l,R=i((H=F).prototype,"lenflareMaterial",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(H.prototype,"shiptrailMaterial01",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(H.prototype,"shiptrailMaterial02",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(H.prototype,"trailParticle01",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(H.prototype,"trailParticle02",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=H))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/Spherical.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,r,e,a,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){e=t.cclegacy,a=t._decorator,s=t.clamp}],execute:function(){var n,o,h,u,c;e._RF.push({},"268bbqfUdpBD65sv+MYd9zj","Spherical",void 0);var p=a.ccclass,l=a.property;t("Spherical",p("Spherical")((h=i((o=function(){function t(t,i,e){void 0===t&&(t=1),void 0===i&&(i=0),r(this,"radius",h,this),r(this,"phi",u,this),r(this,"theta",c,this),this.radius=t,this.phi=i,this.theta}var i=t.prototype;return i.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},i.setFromCartesianCoords=function(t,i,r){return this.radius=Math.sqrt(t*t+i*i+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,r),this.phi=Math.acos(s(i/this.radius,-1,1))),this},t}()).prototype,"radius",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=i(o.prototype,"phi",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=i(o.prototype,"theta",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n=o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/StateHandler.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"59831e3N59JwL+LqEspRTqk","StateHandler",void 0);var n=0;t("StateHandler",(function(t){this.id=""+n++,this.name="none",this.active=!0,this.target=null,Object.assign(this,t)}));e._RF.pop()}}}));

System.register("chunks:///_virtual/StateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateHandler.ts"],(function(t){var e,a,n;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy},function(t){n=t.StateHandler}],execute:function(){a._RF.push({},"da748X1dYFF17KkdffSgrJk","StateManager",void 0);t("StateManager",function(){function t(){this._state=null,this._handlersMap=new Map}var a=t.prototype;return a._exitState=function(){this._state&&(this._handlersMap.get(this._state).forEach((function(t){t.active&&t.onExit&&t.onExit()})),this._state=null)},a.clear=function(){this._exitState(),this._handlersMap.clear()},a.setStateHandler=function(t){var e=t instanceof n?t:new n(t),a=e.name||e.constructor.name,s=this._handlersMap.get(a);void 0===s&&(s=[],this._handlersMap.set(a,s)),s.push(e)},a.update=function(t){this._state&&this._handlersMap.get(this._state).forEach((function(e){e.active&&e.onUpdate&&e.onUpdate(t)}))},e(t,[{key:"state",get:function(){return this._state},set:function(t){var e=this;if(this._state!==t){var a=this._handlersMap.get(t);a?(this._exitState(),a.forEach((function(a){a.active&&(a.onEnter&&a.onEnter(),e._state=t)}))):console.warn("state: "+t+" not exist !!")}}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/TweenUitls.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.TweenSystem}],execute:function(){e("killTweenOf",(function(e){t.instance.ActionManager.removeAllActionsFromTarget(e)})),n._RF.push({},"83f2bQsmBdHKJdjQ6lismW4","TweenUitls",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/User.ts",["cc"],(function(e){var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"15cddBbPL5Cs7aOgbWehaPQ","User",void 0);e("User",(function(){this.life=100,this.score=0}));s._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,i,t,n,a,o,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,t=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Component}],execute:function(){var u,c,s,p,f,b,h,y,m,v;a._RF.push({},"8c02aOiFCJDbLaGxNIz/HjF","VirtualCamera",void 0);var g=o.ccclass,z=o.property,w=g("Lens")((s=r((c=function(){i(this,"fov",s,this),i(this,"near",p,this),i(this,"far",f,this)}).prototype,"fov",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),p=r(c.prototype,"near",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=r(c.prototype,"far",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),u=c))||u;e("VirtualCamera",(b=g("VirtualCamera"),h=z({visible:!1}),b((v=r((m=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"lens",v,n(r)),r}return t(r,e),r}(l)).prototype,"lens",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),y=m))||y));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});